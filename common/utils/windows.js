'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

// shortcuts / helpers
var PI = Math.PI;
var cos = Math.cos;
var sin = Math.sin;
var sqrt = Math.sqrt;

// window creation functions
function initHannWindow(buffer, size, normCoefs) {
  var linSum = 0;
  var powSum = 0;
  var step = 2 * PI / size;

  for (var i = 0; i < size; i++) {
    var phi = i * step;
    var value = 0.5 - 0.5 * cos(phi);

    buffer[i] = value;

    linSum += value;
    powSum += value * value;
  }

  normCoefs.linear = size / linSum;
  normCoefs.power = sqrt(size / powSum);
}

function initHammingWindow(buffer, size, normCoefs) {
  var linSum = 0;
  var powSum = 0;
  var step = 2 * PI / size;

  for (var i = 0; i < size; i++) {
    var phi = i * step;
    var value = 0.54 - 0.46 * cos(phi);

    buffer[i] = value;

    linSum += value;
    powSum += value * value;
  }

  normCoefs.linear = size / linSum;
  normCoefs.power = sqrt(size / powSum);
}

function initBlackmanWindow(buffer, size, normCoefs) {
  var linSum = 0;
  var powSum = 0;
  var step = 2 * PI / size;

  for (var i = 0; i < size; i++) {
    var phi = i * step;
    var value = 0.42 - 0.5 * cos(phi) + 0.08 * cos(2 * phi);

    buffer[i] = value;

    linSum += value;
    powSum += value * value;
  }

  normCoefs.linear = size / linSum;
  normCoefs.power = sqrt(size / powSum);
}

function initBlackmanHarrisWindow(buffer, size, normCoefs) {
  var linSum = 0;
  var powSum = 0;
  var a0 = 0.35875;
  var a1 = 0.48829;
  var a2 = 0.14128;
  var a3 = 0.01168;
  var step = 2 * PI / size;

  for (var i = 0; i < size; i++) {
    var phi = i * step;
    var value = a0 - a1 * cos(phi) + a2 * cos(2 * phi);-a3 * cos(3 * phi);

    buffer[i] = value;

    linSum += value;
    powSum += value * value;
  }

  normCoefs.linear = size / linSum;
  normCoefs.power = sqrt(size / powSum);
}

function initSineWindow(buffer, size, normCoefs) {
  var linSum = 0;
  var powSum = 0;
  var step = PI / size;

  for (var i = 0; i < size; i++) {
    var phi = i * step;
    var value = sin(phi);

    buffer[i] = value;

    linSum += value;
    powSum += value * value;
  }

  normCoefs.linear = size / linSum;
  normCoefs.power = sqrt(size / powSum);
}

function initRectangleWindow(buffer, size, normCoefs) {
  for (var i = 0; i < size; i++) {
    buffer[i] = 1;
  } // @todo - check if these are proper values
  normCoefs.linear = 1;
  normCoefs.power = 1;
}

/**
 * Create a buffer with window signal.
 *
 * @memberof module:common.utils
 *
 * @param {String} name - Name of the window.
 * @param {Float32Array} buffer - Buffer to be populated with the window signal.
 * @param {Number} size - Size of the buffer.
 * @param {Object} normCoefs - Object to be populated with the normailzation
 *  coefficients.
 */
function initWindow(name, buffer, size, normCoefs) {
  name = name.toLowerCase();

  switch (name) {
    case 'hann':
    case 'hanning':
      initHannWindow(buffer, size, normCoefs);
      break;
    case 'hamming':
      initHammingWindow(buffer, size, normCoefs);
      break;
    case 'blackman':
      initBlackmanWindow(buffer, size, normCoefs);
      break;
    case 'blackmanharris':
      initBlackmanHarrisWindow(buffer, size, normCoefs);
      break;
    case 'sine':
      initSineWindow(buffer, size, normCoefs);
      break;
    case 'rectangle':
      initRectangleWindow(buffer, size, normCoefs);
      break;
  }
}

exports.default = initWindow;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndpbmRvd3MuanMiXSwibmFtZXMiOlsiUEkiLCJNYXRoIiwiY29zIiwic2luIiwic3FydCIsImluaXRIYW5uV2luZG93IiwiYnVmZmVyIiwic2l6ZSIsIm5vcm1Db2VmcyIsImxpblN1bSIsInBvd1N1bSIsInN0ZXAiLCJpIiwicGhpIiwidmFsdWUiLCJsaW5lYXIiLCJwb3dlciIsImluaXRIYW1taW5nV2luZG93IiwiaW5pdEJsYWNrbWFuV2luZG93IiwiaW5pdEJsYWNrbWFuSGFycmlzV2luZG93IiwiYTAiLCJhMSIsImEyIiwiYTMiLCJpbml0U2luZVdpbmRvdyIsImluaXRSZWN0YW5nbGVXaW5kb3ciLCJpbml0V2luZG93IiwibmFtZSIsInRvTG93ZXJDYXNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQTtBQUNBLElBQU1BLEtBQU9DLEtBQUtELEVBQWxCO0FBQ0EsSUFBTUUsTUFBT0QsS0FBS0MsR0FBbEI7QUFDQSxJQUFNQyxNQUFPRixLQUFLRSxHQUFsQjtBQUNBLElBQU1DLE9BQU9ILEtBQUtHLElBQWxCOztBQUVBO0FBQ0EsU0FBU0MsY0FBVCxDQUF3QkMsTUFBeEIsRUFBZ0NDLElBQWhDLEVBQXNDQyxTQUF0QyxFQUFpRDtBQUMvQyxNQUFJQyxTQUFTLENBQWI7QUFDQSxNQUFJQyxTQUFTLENBQWI7QUFDQSxNQUFNQyxPQUFPLElBQUlYLEVBQUosR0FBU08sSUFBdEI7O0FBRUEsT0FBSyxJQUFJSyxJQUFJLENBQWIsRUFBZ0JBLElBQUlMLElBQXBCLEVBQTBCSyxHQUExQixFQUErQjtBQUM3QixRQUFNQyxNQUFNRCxJQUFJRCxJQUFoQjtBQUNBLFFBQU1HLFFBQVEsTUFBTSxNQUFNWixJQUFJVyxHQUFKLENBQTFCOztBQUVBUCxXQUFPTSxDQUFQLElBQVlFLEtBQVo7O0FBRUFMLGNBQVVLLEtBQVY7QUFDQUosY0FBVUksUUFBUUEsS0FBbEI7QUFDRDs7QUFFRE4sWUFBVU8sTUFBVixHQUFtQlIsT0FBT0UsTUFBMUI7QUFDQUQsWUFBVVEsS0FB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QyxJQUF2QixFQUE2QkMsU0FBN0I7QUFDQTtBQUNGLFNBQUssV0FBTDtBQUNFaUIsMEJBQW9CbkIsTUFBcEIsRUFBNEJDLElBQTVCLEVBQWtDQyxTQUFsQztBQUNBO0FBbkJKO0FBcUJEOztrQkFFY2tCLFUiLCJmaWxlIjoid2luZG93cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLy8gc2hvcnRjdXRzIC8gaGVscGVyc1xuY29uc3QgUEkgICA9IE1hdGguUEk7XG5jb25zdCBjb3MgID0gTWF0aC5jb3M7XG5jb25zdCBzaW4gID0gTWF0aC5zaW47XG5jb25zdCBzcXJ0ID0gTWF0aC5zcXJ0O1xuXG4vLyB3aW5kb3cgY3JlYXRpb24gZnVuY3Rpb25zXG5mdW5jdGlvbiBpbml0SGFubldpbmRvdyhidWZmZXIsIHNpemUsIG5vcm1Db2Vmcykge1xuICBsZXQgbGluU3VtID0gMDtcbiAgbGV0IHBvd1N1bSA9IDA7XG4gIGNvbnN0IHN0ZXAgPSAyICogUEkgLyBzaXplO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgY29uc3QgcGhpID0gaSAqIHN0ZXA7XG4gICAgY29uc3QgdmFsdWUgPSAwLjUgLSAwLjUgKiBjb3MocGhpKTtcblxuICAgIGJ1ZmZlcltpXSA9IHZhbHVlO1xuXG4gICAgbGluU3VtICs9IHZhbHVlO1xuICAgIHBvd1N1bSArPSB2YWx1ZSAqIHZhbHVlO1xuICB9XG5cbiAgbm9ybUNvZWZzLmxpbmVhciA9IHNpemUgLyBsaW5TdW07XG4gIG5vcm1Db2Vmcy5wb3dlciA9IHNxcnQoc2l6ZSAvIHBvd1N1bSk7XG59XG5cbmZ1bmN0aW9uIGluaXRIYW1taW5nV2luZG93KGJ1ZmZlciwgc2l6ZSwgbm9ybUNvZWZzKSB7XG4gIGxldCBsaW5TdW0gPSAwO1xuICBsZXQgcG93U3VtID0gMDtcbiAgY29uc3Qgc3RlcCA9IDIgKiBQSSAvIHNpemU7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICBjb25zdCBwaGkgPSBpICogc3RlcDtcbiAgICBjb25zdCB2YWx1ZSA9IDAuNTQgLSAwLjQ2ICogY29zKHBoaSk7XG5cbiAgICBidWZmZXJbaV0gPSB2YWx1ZTtcblxuICAgIGxpblN1bSArPSB2YWx1ZTtcbiAgICBwb3dTdW0gKz0gdmFsdWUgKiB2YWx1ZTtcbiAgfVxuXG4gIG5vcm1Db2Vmcy5saW5lYXIgPSBzaXplIC8gbGluU3VtO1xuICBub3JtQ29lZnMucG93ZXIgPSBzcXJ0KHNpemUgLyBwb3dTdW0pO1xufVxuXG5mdW5jdGlvbiBpbml0QmxhY2ttYW5XaW5kb3coYnVmZmVyLCBzaXplLCBub3JtQ29lZnMpIHtcbiAgbGV0IGxpblN1bSA9IDA7XG4gIGxldCBwb3dTdW0gPSAwO1xuICBjb25zdCBzdGVwID0gMiAqIFBJIC8gc2l6ZTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgIGNvbnN0IHBoaSA9IGkgKiBzdGVwO1xuICAgIGNvbnN0IHZhbHVlID0gMC40MiAtIDAuNSAqIGNvcyhwaGkpICsgMC4wOCAqIGNvcygyICogcGhpKTtcblxuICAgIGJ1ZmZlcltpXSA9IHZhbHVlO1xuXG4gICAgbGluU3VtICs9IHZhbHVlO1xuICAgIHBvd1N1bSArPSB2YWx1ZSAqIHZhbHVlO1xuICB9XG5cbiAgbm9ybUNvZWZzLmxpbmVhciA9IHNpemUgLyBsaW5TdW07XG4gIG5vcm1Db2Vmcy5wb3dlciA9IHNxcnQoc2l6ZSAvIHBvd1N1bSk7XG59XG5cbmZ1bmN0aW9uIGluaXRCbGFja21hbkhhcnJpc1dpbmRvdyhidWZmZXIsIHNpemUsIG5vcm1Db2Vmcykge1xuICBsZXQgbGluU3VtID0gMDtcbiAgbGV0IHBvd1N1bSA9IDA7XG4gIGNvbnN0IGEwID0gMC4zNTg3NTtcbiAgY29uc3QgYTEgPSAwLjQ4ODI5O1xuICBjb25zdCBhMiA9IDAuMTQxMjg7XG4gIGNvbnN0IGEzID0gMC4wMTE2ODtcbiAgY29uc3Qgc3RlcCA9IDIgKiBQSSAvIHNpemU7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICBjb25zdCBwaGkgPSBpICogc3RlcDtcbiAgICBjb25zdCB2YWx1ZSA9IGEwIC0gYTEgKiBjb3MocGhpKSArIGEyICogY29zKDIgKiBwaGkpOyAtIGEzICogY29zKDMgKiBwaGkpO1xuXG4gICAgYnVmZmVyW2ldID0gdmFsdWU7XG5cbiAgICBsaW5TdW0gKz0gdmFsdWU7XG4gICAgcG93U3VtICs9IHZhbHVlICogdmFsdWU7XG4gIH1cblxuICBub3JtQ29lZnMubGluZWFyID0gc2l6ZSAvIGxpblN1bTtcbiAgbm9ybUNvZWZzLnBvd2VyID0gc3FydChzaXplIC8gcG93U3VtKTtcbn1cblxuZnVuY3Rpb24gaW5pdFNpbmVXaW5kb3coYnVmZmVyLCBzaXplLCBub3JtQ29lZnMpIHtcbiAgbGV0IGxpblN1bSA9IDA7XG4gIGxldCBwb3dTdW0gPSAwO1xuICBjb25zdCBzdGVwID0gUEkgLyBzaXplO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgY29uc3QgcGhpID0gaSAqIHN0ZXA7XG4gICAgY29uc3QgdmFsdWUgPSBzaW4ocGhpKTtcblxuICAgIGJ1ZmZlcltpXSA9IHZhbHVlO1xuXG4gICAgbGluU3VtICs9IHZhbHVlO1xuICAgIHBvd1N1bSArPSB2YWx1ZSAqIHZhbHVlO1xuICB9XG5cbiAgbm9ybUNvZWZzLmxpbmVhciA9IHNpemUgLyBsaW5TdW07XG4gIG5vcm1Db2Vmcy5wb3dlciA9IHNxcnQoc2l6ZSAvIHBvd1N1bSk7XG59XG5cbmZ1bmN0aW9uIGluaXRSZWN0YW5nbGVXaW5kb3coYnVmZmVyLCBzaXplLCBub3JtQ29lZnMpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspXG4gICAgYnVmZmVyW2ldID0gMTtcblxuICAvLyBAdG9kbyAtIGNoZWNrIGlmIHRoZXNlIGFyZSBwcm9wZXIgdmFsdWVzXG4gIG5vcm1Db2Vmcy5saW5lYXIgPSAxO1xuICBub3JtQ29lZnMucG93ZXIgPSAxO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGJ1ZmZlciB3aXRoIHdpbmRvdyBzaWduYWwuXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTpjb21tb24udXRpbHNcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIE5hbWUgb2YgdGhlIHdpbmRvdy5cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBidWZmZXIgLSBCdWZmZXIgdG8gYmUgcG9wdWxhdGVkIHdpdGggdGhlIHdpbmRvdyBzaWduYWwuXG4gKiBAcGFyYW0ge051bWJlcn0gc2l6ZSAtIFNpemUgb2YgdGhlIGJ1ZmZlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBub3JtQ29lZnMgLSBPYmplY3QgdG8gYmUgcG9wdWxhdGVkIHdpdGggdGhlIG5vcm1haWx6YXRpb25cbiAqICBjb2VmZmljaWVudHMuXG4gKi9cbmZ1bmN0aW9uIGluaXRXaW5kb3cobmFtZSwgYnVmZmVyLCBzaXplLCBub3JtQ29lZnMpIHtcbiAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblxuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlICdoYW5uJzpcbiAgICBjYXNlICdoYW5uaW5nJzpcbiAgICAgIGluaXRIYW5uV2luZG93KGJ1ZmZlciwgc2l6ZSwgbm9ybUNvZWZzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hhbW1pbmcnOlxuICAgICAgaW5pdEhhbW1pbmdXaW5kb3coYnVmZmVyLCBzaXplLCBub3JtQ29lZnMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYmxhY2ttYW4nOlxuICAgICAgaW5pdEJsYWNrbWFuV2luZG93KGJ1ZmZlciwgc2l6ZSwgbm9ybUNvZWZzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JsYWNrbWFuaGFycmlzJzpcbiAgICAgIGluaXRCbGFja21hbkhhcnJpc1dpbmRvdyhidWZmZXIsIHNpemUsIG5vcm1Db2Vmcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzaW5lJzpcbiAgICAgIGluaXRTaW5lV2luZG93KGJ1ZmZlciwgc2l6ZSwgbm9ybUNvZWZzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3JlY3RhbmdsZSc6XG4gICAgICBpbml0UmVjdGFuZ2xlV2luZG93KGJ1ZmZlciwgc2l6ZSwgbm9ybUNvZWZzKTtcbiAgICAgIGJyZWFrO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRXaW5kb3c7XG5cblxuIl19