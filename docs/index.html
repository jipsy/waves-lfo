<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>WavesJS - Low Frequency Operators - Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="styles/overrides.css">
</head>

<body>

<div id="main">

    <!-- if home page assume a title is already present in README -->
    

    



    

<!-- why is it used for ? -->










    

<!-- why is it used for ? -->



  <section>
    <article>
      <div id="metas">
        
          <a id="github" href="https://github.com/wavesjs/waves-lfo">
            <svg aria-hidden="true" class="octicon octicon-mark-github" height="28" version="1.1" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
          </a>
        
        
          <a id="release" target="_blank" href="https://github.com/wavesjs/waves-lfo/releases/tag/v0.2.0">
            v0.2.0
          </a>
        
      </div>

      <p><img src="https://rawgit.com/wavesjs/waves-lfo/develop/resources/logo.png" alt="logo"></p>
<h1><em>Low Frequency Operators</em></h1><p>The <code>lfo</code> library provides a simple and efficient graph-based javascript API primarily designed for real-time processing and analysis of arbitrary signal and event data streams such as audio, audio descriptors and motion sensors. A <code>graph</code> of <code>lfo</code> modules can process data streams online (i.e. processing data from audio inputs or event sources) as well as offline (i.e. iterating over recorded data or synthesizing data) depending on the used <code>source</code> and <code>sink</code> modules. Many of the operator modules provided by the library (e.g. filters, signal statistics) can also be used for processing data without the <code>lfo</code> formalism using an alternative API.</p>
<p>The library is divided into two parts: <code>waves-lfo/client</code> and <code>waves-lfo/node</code>, respectively providing modules to be used in a browser on in a node.js environment. This allows for adapting the library to virtually any context by providing platform adequate <code>source</code> and <code>sink</code> modules.</p>
<p>The library provides three namespaces:</p>
<ul>
<li><strong><code>source</code></strong> modules are responsible for acquiring streams and their properties (<code>frameType</code>, <code>frameRate</code>, <code>frameSize</code>, <code>sampleRate</code>).</li>
<li><strong><code>sink</code></strong> modules are endpoints of the graph such as recorders and visualizers.</li>
<li><strong><code>operator</code></strong> modules process an incoming stream and propagate the result of the processing to the next operators.</li>
</ul>
<p>A <code>graph</code> is a combination of at least a <code>source</code> and a <code>sink</code> with any number of <code>operator</code> modules in between:</p>
<p><img src="https://dl.dropboxusercontent.com/u/606131/lfo.png" alt="scheme"></p>
<h2>Documentation</h2><p><a href="http://wavesjs.github.io/waves-lfo">http://wavesjs.github.io/waves-lfo</a></p>
<p><em>Note: in the documentation, all nodes in the <code>common</code> namespace are platform independent.</em></p>
<h2>Usage</h2><h3>Install</h3><pre class="prettyprint source lang-sh"><code>$ npm install [--save] wavesjs/waves-lfo</code></pre><h3>Import the library</h3><pre class="prettyprint source lang-js"><code>// in browser
import * as lfo from 'waves-lfo/client';

// in node
import * as lfo from 'waves-lfo/node';</code></pre><h3>Create a graph</h3><pre class="prettyprint source lang-js"><code>import * as lfo from 'waves-lfo/client';

const eventIn = new lfo.source.EventIn({
  frameType: 'vector'
  frameSize: 3,
  frameRate: 1,
});

const rms = new lfo.operator.RMS();
const logger = new lfo.sinks.Logger({ data: true });

eventIn.connect(rms);
rms.connect(logger);

eventIn.start();
eventIn.process(0, [2, 1, 3]);
// > [2.16024689947]</code></pre><h2>Terminology</h2><p>The <code>lfo</code> modules produce and consume data streams composed of <em>frames</em>. This is the terminology used by the library.</p>
<ul>
<li><strong>stream</strong> - a succession of <em>frames</em> defined by <em>stream parameters</em></li>
<li><strong>frame</strong> - an element of a stream that associates a <code>data</code> element with a <code>time</code> and optional <code>metadata</code></li>
<li><strong>data</strong> - a generic term to designate the <em>payload</em> of a frame which can be a <code>vector</code>, a <code>signal</code> or a <code>scalar</code></li>
<li><strong>vector</strong> - an array of values that correspond to different dimensions such as <em>[x y z]</em> or <em>[mean stddev min max]</em></li>
<li><strong>signal</strong> - an array of time-domain values corresponding to a fragment of a signal</li>
<li><strong>scalar</strong> - a single value that can be arbitrarily considered as a one-dimensional <code>vector</code> or one sample of a <code>signal</code></li>
<li><strong>time</strong> - a timestamp associating each frame in a stream to a point in time regarding an arbitrary reference common to all modules in a graph</li>
<li><strong>metadata</strong> - additional description data associated to a frame by a module</li>
<li><strong>stream parameters</strong> - parameters defining the nature of a stream at the output of a module (attribute <code>streamParams</code>) that may depend on the stream parameters of the incoming stream<ul>
<li><code>frameSize</code>: number of values in the frame data</li>
<li><code>frameRate</code>: number of frames per seconds for regularly sampled streams, <code>0</code> otherwise</li>
<li><code>frameType</code>: type of frame data (<code>vector</code>, <code>signal</code> or <code>scalar</code>)</li>
<li><code>sourceSampleRate</code>: number of frames per seconds output by the graph's <code>source</code></li>
<li><code>sourceSampleCount</code>: number of consecutive discrete time values contained in the data frame output by the graph's <code>source</code> (e.g. the signal block size of an audio source or 1 for streams of sensor data vectors)</li>
<li><code>description</code>: an array of strings describing the output dimensions of <code>vector</code> or <code>scalar</code> frames (e.g. <code>['mean', 'stddev', 'min', 'max']</code>)</li>
</ul>
</li>
</ul>
<h2>Available nodes and examples</h2><h4>common</h4><p><em>core:</em></p>
<ul>
<li><a href="">BaseLfo</a></li>
<li><a href="">BaseLfoSegmentDescriptor</a></li>
<li><a href="">BaseLfoSegmentProducer</a></li>
</ul>
<p><em>operators:</em></p>
<ul>
<li><a href="">Biquad</a> - 
<a href="operator-biquad-signal"><em>example 1</em></a>, <a href="operator-biquad-vector"><em>example 2</em></a></li>
<li><a href="">DCT</a> </li>
<li><a href="">FFT</a> - 
<a href="mosaicking"><em>example</em></a></li>
<li><a href="">Magnitude</a></li>
<li><a href="">MeanStddev</a></li>
<li><a href="">Mel</a></li>
<li><a href="">MFCC</a> -
<a href="mosaicking"><em>example</em></a></li>
<li><a href="">MinMax</a> -
<a href="sink-waveform-display">example</a></li>
<li><a href="">MovingAverage</a> -
<a href="sink-bridge"><em>example (graphical)</em></a></li>
<li><a href="">MovingMedian</a></li>
<li><a href="">OnOff</a>
<a href="sink-vu-meter-display"><em>example</em></a></li>
<li><a href="">RMS</a> </li>
<li><a href="">Segmenter</a> 
<a href="sink-vu-meter-display"><em>example</em></a></li>
<li><a href="">Select</a> </li>
<li><a href="">Slicer</a> </li>
<li><a href="">Yin</a> - 
<a href="operator-yin"><em>example</em></a></li>
</ul>
<p><em>sources:</em></p>
<ul>
<li><a href="">EventIn</a> -
<a href="sink-bridge"><em>example</em></a></li>
</ul>
<p><em>sinks:</em></p>
<ul>
<li><a href="">Bridge</a> -
<a href="sink-bridge"><em>example 1</em></a>, <a href="sink-marker-display"><em>example 2</em></a></li>
<li><a href="">DataRecorder</a> -
<a href="mosaicking"><em>example</em></a></li>
<li><a href="">Logger</a></li>
<li><a href="">SignalRecorder</a> -
<a href="sink-signal-recorder"><em>example</em></a></li>
</ul>
<h4>client only</h4><p><em>sources:</em></p>
<ul>
<li><a href="">AudioInBuffer</a></li>
<li><a href="">AudioInNode</a> -
<a href="source-audio-in-node"><em>example</em></a></li>
</ul>
<p><em>sinks:</em></p>
<ul>
<li><a href="">BaseDisplay</a></li>
<li><a href="">BpfDisplay</a> -
<a href="sink-bpf-examples"><em>example</em></a></li>
<li><a href="">MarkerDisplay</a> -
<a href="sink-marker-display"><em>example</em></a></li>
<li><a href="">SignalDisplay</a> -
<a href="sink-signal-display"><em>example</em></a></li>
<li><a href="">SpectrumDisplay</a> -
<a href="sink-spectrum-display"><em>example</em></a></li>
<li><a href="">TraceDisplay</a> -
<a href="sink-trace-display"><em>example</em></a></li>
<li><a href="">VuMeterDisplay</a> -
<a href="(sink-vu-meter-display"><em>example 1</em></a>, <a href="sink-signal-recorder"><em>example 2</em></a></li>
<li><a href="">WaveformDisplay</a> -
<a href="sink-waveform-display"><em>example</em></a></li>
</ul>
<h4>node only</h4><p><em>sources:</em></p>
<ul>
<li><a href="">AudioInFile</a></li>
</ul>
<p><em>sinks:</em></p>
<ul>
<li><a href="">DataToFile</a></li>
</ul>
<h2>Standalone usage</h2><p>Most of the operators can be used in a <code>standalone</code> mode which allow to consume the implemented algorithm without the burden of creating a whole graph.</p>
<pre class="prettyprint source lang-js"><code>import * as lfo from 'waves-lfo/client';

const rms = new lfo.operator.RMS();
rms.initStream({ frameType: 'signal', frameSize: 1000 });

const results = rms.inputSignal([...values]);</code></pre><!--
## `SegmentProducer` and `SegmentDescriptor`

@todo
-->
<h2>Implementation of an <code>lfo</code> operator</h2><pre class="prettyprint source lang-js"><code>// define class parameters
const parameters = {
  factor: {
    type: 'integer',
    default: 1,
  },
};

class Multiplier extends lfo.core.BaseLfo {
  constructor(options) {
    // set the parameters and options of the node
    super(parameters, options);
  }

  // implementing this method allow the node to handle incomming
  // `vector` frames
  processVector(frame) {
    const frameSize = this.streamParams.frameSize;
    const factor = this.getParam('factor');

    // transfert data from `frame` (output of previous node)
    // to the current node, data of the incomming frame should
    // never be modifed
    for (let i = 0; i &lt; frameSize; i++)
      this.frame.data[i] = frame.data[i] * factor;
  }
}

const multiplier = new Multiplier({ factor: 4 });</code></pre><h2><code>PiPo</code> and <code>lfo</code></h2><p>The library is heavily based on the concepts implemented in PiPo and try to stay close to the class and parameter names whenever possible.</p>
<p><hr /></p>
<h2>License</h2><p>This module is released under the BSD-3-Clause license.</p>
<!--
Acknowledgments

This code has been developed in the framework of the WAVE and CoSiMa research projects, funded by the French National Research Agency (ANR).
-->
    </article>
  </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module-client.sink.BaseDisplay.html">client.sink.BaseDisplay</a></li><li><a href="module-client.sink.BpfDisplay.html">client.sink.BpfDisplay</a></li><li><a href="module-client.sink.MarkerDisplay.html">client.sink.MarkerDisplay</a></li><li><a href="module-client.sink.SignalDisplay.html">client.sink.SignalDisplay</a></li><li><a href="module-client.sink.SpectrumDisplay.html">client.sink.SpectrumDisplay</a></li><li><a href="module-client.sink.TraceDisplay.html">client.sink.TraceDisplay</a></li><li><a href="module-client.sink.VuMeterDisplay.html">client.sink.VuMeterDisplay</a></li><li><a href="module-client.sink.WaveformDisplay.html">client.sink.WaveformDisplay</a></li><li><a href="module-client.source.AudioInBuffer.html">client.source.AudioInBuffer</a></li><li><a href="module-client.source.AudioInNode.html">client.source.AudioInNode</a></li><li><a href="module-common.core.BaseLfo.html">common.core.BaseLfo</a></li><li><a href="module-common.operator.Biquad.html">common.operator.Biquad</a></li><li><a href="module-common.operator.DCT.html">common.operator.DCT</a></li><li><a href="module-common.operator.FFT.html">common.operator.FFT</a></li><li><a href="module-common.operator.Magnitude.html">common.operator.Magnitude</a></li><li><a href="module-common.operator.MeanStddev.html">common.operator.MeanStddev</a></li><li><a href="module-common.operator.Mel.html">common.operator.Mel</a></li><li><a href="module-common.operator.MFCC.html">common.operator.MFCC</a></li><li><a href="module-common.operator.MinMax.html">common.operator.MinMax</a></li><li><a href="module-common.operator.MovingAverage.html">common.operator.MovingAverage</a></li><li><a href="module-common.operator.MovingMedian.html">common.operator.MovingMedian</a></li><li><a href="module-common.operator.OnOff.html">common.operator.OnOff</a></li><li><a href="module-common.operator.RMS.html">common.operator.RMS</a></li><li><a href="module-common.operator.Select.html">common.operator.Select</a></li><li><a href="module-common.operator.Slicer.html">common.operator.Slicer</a></li><li><a href="module-common.operator.Yin.html">common.operator.Yin</a></li><li><a href="module-common.sink.Bridge.html">common.sink.Bridge</a></li><li><a href="module-common.sink.DataRecorder.html">common.sink.DataRecorder</a></li><li><a href="module-common.sink.Logger.html">common.sink.Logger</a></li><li><a href="module-common.sink.SignalRecorder.html">common.sink.SignalRecorder</a></li><li><a href="module-common.source.EventIn.html">common.source.EventIn</a></li><li><a href="module-node.sink.DataToFile.html">node.sink.DataToFile</a></li><li><a href="module-node.source.AudioInFile.html">node.source.AudioInFile</a></li></ul>
</nav>

<br class="clear">

<footer>
    
        Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.2</a> on Wed Oct 26 2016 17:43:20 GMT+0200 (CEST)
    
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>