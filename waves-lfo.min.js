!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.wavesLFO=e()}}(function(){return function e(t,r,a){function n(i,o){if(!r[i]){if(!t[i]){var l="function"==typeof require&&require;if(!o&&l)return l(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[i]={exports:{}};t[i][0].call(c.exports,function(e){var r=t[i][1][e];return n(r?r:e)},c,c.exports,e,t,r,a)}return r[i].exports}for(var s="function"==typeof require&&require,i=0;i<a.length;i++)n(a[i]);return n}({1:[function(e,t,r){"use strict";function a(e){var t=arguments.length<=1||void 0===arguments[1]?-(1/0):arguments[1],r=arguments.length<=2||void 0===arguments[2]?+(1/0):arguments[2];return s(t,n(r,e))}Object.defineProperty(r,"__esModule",{value:!0});var n=Math.min,s=Math.max;r.default={boolean:{definitionTemplate:["default"],typeCheckFunction:function(e,t,r){if("boolean"!=typeof e)throw new Error('Invalid value for boolean param "'+r+'": '+e);return e}},integer:{definitionTemplate:["default"],typeCheckFunction:function(e,t,r){if("number"!=typeof e||Math.floor(e)!==e)throw new Error('Invalid value for integer param "'+r+'": '+e);return a(e,t.min,t.max)}},float:{definitionTemplate:["default"],typeCheckFunction:function(e,t,r){if("number"!=typeof e||e!==e)throw new Error('Invalid value for float param "'+r+'": '+e);return a(e,t.min,t.max)}},string:{definitionTemplate:["default"],typeCheckFunction:function(e,t,r){if("string"!=typeof e)throw new Error('Invalid value for string param "'+r+'": '+e);return e}},enum:{definitionTemplate:["default","list"],typeCheckFunction:function(e,t,r){if(t.list.indexOf(e)===-1)throw new Error('Invalid value for enum param "'+r+'": '+e);return e}},any:{definitionTemplate:["default"],typeCheckFunction:function(e,t,r){return e}}}},{}],2:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r={};for(var a in t)if(e.hasOwnProperty(a)===!1)throw new Error('Unknown param "'+a+'"');for(var n in e){if(r.hasOwnProperty(n)===!0)throw new Error('Parameter "'+n+'" already defined');var s=e[n];if(!l.default[s.type])throw new Error('Unknown param type "'+s.type+'"');var i=l.default[s.type],o=i.definitionTemplate,f=i.typeCheckFunction,p=void 0;if(p=t.hasOwnProperty(n)===!0?t[n]:s.default,s.initValue=p,!f||!o)throw new Error('Invalid param type definition "'+s.type+'"');r[n]=new u(n,o,f,s,p)}return new c(r,e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=e("./paramTemplates"),l=a(o),u=function(){function e(t,r,a,s,i){n(this,e),r.forEach(function(e){if(s.hasOwnProperty(e)===!1)throw new Error('Invalid definition for param "'+t+'", '+e+" is not defined")}),this.name=t,this.type=s.type,this.definition=s,this.definition.nullable===!0&&null===i?this.value=null:this.value=a(i,s,t),this._typeCheckFunction=a}return i(e,[{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){if(this.definition.constant===!0)throw new Error('Invalid assignement to constant param "'+this.name+'"');return this.definition.nullable===!0&&null===e||(e=this._typeCheckFunction(e,this.definition,this.name)),this.value!==e&&(this.value=e,!0)}}]),e}(),c=function(){function e(t,r){n(this,e),this._params=t,this._definitions=r,this._globalListeners=new Set,this._paramsListeners={};for(var a in t)this._paramsListeners[a]=new Set}return i(e,[{key:"getDefinitions",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return null!==e?this._definitions[e]:this._definitions}},{key:"get",value:function(e){if(!this._params[e])throw new Error('Cannot read property value of undefined parameter "'+e+'"');return this._params[e].value}},{key:"set",value:function(e,t){var r=this._params[e],a=r.setValue(t);if(t=r.getValue(),a){var n=r.definition.metas,s=!0,i=!1,o=void 0;try{for(var l,u=this._globalListeners[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var c=l.value;c(e,t,n)}}catch(e){i=!0,o=e}finally{try{!s&&u.return&&u.return()}finally{if(i)throw o}}var f=!0,p=!1,h=void 0;try{for(var m,d=this._paramsListeners[e][Symbol.iterator]();!(f=(m=d.next()).done);f=!0){var b=m.value;b(t,n)}}catch(e){p=!0,h=e}finally{try{!f&&d.return&&d.return()}finally{if(p)throw h}}}return t}},{key:"has",value:function(e){return!!this._params[e]}},{key:"reset",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];null!==t?this.set(t,param.definition.initValue):Object.keys(this._params).forEach(function(t){return e.reset(t)})}},{key:"addListener",value:function(e){this._globalListeners.add(e)}},{key:"removeListener",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];null===e?this._globalListeners.clear():this._globalListeners.delete(e)}},{key:"addParamListener",value:function(e,t){this._paramsListeners[e].add(t)}},{key:"removeParamListener",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];null===t?this._paramsListeners[e].clear():this._paramsListeners[e].delete(t)}}]),e}();s.defineType=function(e,t){l.default[e]=t},r.default=s},{"./paramTemplates":1}],3:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/assign"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("parameters"),f=a(c),p=0,h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e),this.cid=p++,this.params=(0,f.default)(t,r),this.params.addListener(this.onParamUpdate.bind(this)),this.streamParams={frameType:null,frameSize:1,frameRate:0,sourceSampleRate:0,description:null},this.frame={time:0,data:null,metadata:{}},this.nextOps=[],this.prevOp=null,this._reinit=!1}return(0,u.default)(e,[{key:"getParamsDescription",value:function(){return this.params.getDefinitions()}},{key:"resetParams",value:function(){this.params.reset()}},{key:"onParamUpdate",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"static"===r.kind&&(this._reinit=!0)}},{key:"connect",value:function(t){if(!(t instanceof e))throw new Error("Invalid connection: child node is not an instance of `BaseLfo`");if(null===this.streamParams||null===t.streamParams)throw new Error("Invalid connection: cannot connect a dead node");this.nextOps.push(t),t.prevOp=this,null!==this.streamParams.frameType&&t.processStreamParams(this.streamParams)}},{key:"disconnect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===t)this.nextOps.forEach(function(t){return e.disconnect(t)});else{var r=this.nextOps.indexOf(this);this.nextOps.splice(r,1),t.prevOp=null}}},{key:"destroy",value:function(){for(var e=this.nextOps.length;e--;)this.nextOps[e].destroy();this.prevOp&&this.prevOp.disconnect(this),this.streamParams=null}},{key:"resetStream",value:function(){for(var e=0,t=this.nextOps.length;e<t;e++)this.nextOps[e].resetStream();"scalar"!==this.streamParams.frameType&&null!==this.frame.data&&this.frame.data.fill(0)}},{key:"finalizeStream",value:function(e){for(var t=0,r=this.nextOps.length;t<r;t++)this.nextOps[t].finalizeStream(e)}},{key:"processStreamParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.prepareStreamParams(e),this.propagateStreamParams()}},{key:"prepareStreamParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this.streamParams,e);var t=e.frameType;switch(t){case"scalar":if(this.processScalar)this.processFunction=this.processScalar;else if(this.processVector)this.processFunction=this.processVector;else{if(!this.processSignal)throw new Error(this.constructor.name+' - no "process" function found');this.processFunction=this.processSignal}break;case"vector":if(!("processVector"in this))throw new Error(this.constructor.name+' - "processVector" is not defined');this.processFunction=this.processVector;break;case"signal":if(!("processSignal"in this))throw new Error(this.constructor.name+' - "processSignal" is not defined');this.processFunction=this.processSignal}}},{key:"propagateStreamParams",value:function(){this.frame.data=new Float32Array(this.streamParams.frameSize);for(var e=0,t=this.nextOps.length;e<t;e++)this.nextOps[e].processStreamParams(this.streamParams)}},{key:"processFrame",value:function(e){this.prepareFrame(),this.frame.time=e.time,this.frame.metadata=e.metadata,this.processFunction(e),this.propagateFrame()}},{key:"processFunction",value:function(e){this.frame=e}},{key:"prepareFrame",value:function(){this._reinit===!0&&(this.processStreamParams(),this.resetStream(),this._reinit=!1)}},{key:"propagateFrame",value:function(){for(var e=0,t=this.nextOps.length;e<t;e++)this.nextOps[e].processFrame(this.frame)}}]),e}();r.default=h},{"babel-runtime/core-js/object/assign":45,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,parameters:2}],4:[function(e,t,r){arguments[4][3][0].apply(r,arguments)},{"babel-runtime/core-js/object/assign":45,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,dup:3,parameters:2}],5:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("./BaseLfo"),s=a(n);r.default={BaseLfo:s.default}},{"./BaseLfo":4}],6:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("./core/_namespace");Object.defineProperty(r,"core",{enumerable:!0,get:function(){return a(n).default}});var s=e("./source/_namespace");Object.defineProperty(r,"source",{enumerable:!0,get:function(){return a(s).default}});var i=e("./sink/_namespace");Object.defineProperty(r,"sink",{enumerable:!0,get:function(){return a(i).default}});var o=e("./operator/_namespace");Object.defineProperty(r,"operator",{enumerable:!0,get:function(){return a(o).default}});var l=e("./utils/_namespace");Object.defineProperty(r,"utils",{enumerable:!0,get:function(){return a(l).default}})},{"./core/_namespace":5,"./operator/_namespace":21,"./sink/_namespace":34,"./source/_namespace":38,"./utils/_namespace":40}],7:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r){var a=R*e,n=O(a)/(2*t),s=F(a),i=1/(1+n);r.a1=-2*s*i,r.a2=(1-n)*i,r.b0=.5*(1-s)*i,r.b1=(1-s)*i,r.b2=r.b0}function s(e,t,r){var a=R*e,n=O(a)/(2*t),s=F(a),i=1/(1+n);r.a1=-2*s*i,r.a2=(1-n)*i,r.b0=.5*(1+s)*i,r.b1=(-1-s)*i,r.b2=r.b0}function i(e,t,r){var a=R*e,n=O(a),s=n/(2*t),i=F(a),o=1/(1+s);r.a1=-2*i*o,r.a2=(1-s)*o,r.b0=.5*n*o,r.b1=0,r.b2=-r.b0}function o(e,t,r){var a=R*e,n=O(a)/(2*t),s=F(a),i=1/(1+n);r.a1=-2*s*i,r.a2=(1-n)*i,r.b0=n*i,r.b1=0,r.b2=-r.b0}function l(e,t,r){var a=R*e,n=O(a)/(2*t),s=F(a),i=1/(1+n);r.a1=-2*s*i,r.a2=(1-n)*i,r.b0=i,r.b1=r.a1,r.b2=r.b0}function u(e,t,r){var a=R*e,n=O(a)/(2*t),s=F(a),i=1/(1+n);r.a1=-2*s*i,r.a2=(1-n)*i,r.b0=r.a2,r.b1=r.a1,r.b2=1}function c(e,t,r,a){var n=T(r),s=1/n,i=R*e,o=O(i)/(2*t),l=F(i),u=1/(1+o*s);a.a1=-2*l*u,a.a2=(1-o*s)*u,a.b0=(1+o*n)*u,a.b1=a.a1,a.b2=(1-o*n)*u}function f(e,t,r,a){var n=T(r),s=R*e,i=O(s)*T(n)/t,o=F(s),l=1/(n+1+(n-1)*o+i);a.a1=-2*(n-1+(n+1)*o)*l,a.a2=(n+1+(n-1)*o-i)*l,a.b0=n*(n+1-(n-1)*o+i)*l,a.b1=2*n*(n-1-(n+1)*o)*l,a.b2=n*(n+1-(n-1)*o-i)*l}function p(e,t,r,a){var n=T(r),s=R*e,i=O(s)*T(n)/t,o=F(s),l=1/(n+1-(n-1)*o+i);a.a1=2*(n-1-(n+1)*o)*l,a.a2=(n+1-(n-1)*o-i)*l,a.b0=n*(n+1+(n-1)*o+i)*l,a.b1=-2*n*(n-1+(n+1)*o)*l,a.b2=n*(n+1+(n-1)*o-i)*l}function h(e,t,r,a,h){switch(e){case"lowpass":n(t,r,h);break;case"highpass":s(t,r,h);break;case"bandpass_constant_skirt":i(t,r,h);break;case"bandpass_constant_peak":o(t,r,h);break;case"notch":l(t,r,h);break;case"allpass":u(t,r,h);break;case"peaking":c(t,r,a,h);break;case"lowshelf":f(t,r,a,h);break;case"highshelf":p(t,r,a,h)}switch(e){case"lowpass":case"highpass":case"bandpass_constant_skirt":case"bandpass_constant_peak":case"notch":case"allpass":1!=a&&(h.b0*=a,h.b1*=a,h.b2*=a);break;case"peaking":case"lowshelf":case"highshelf":}}function m(e,t,r,a,n){for(var s=0;s<n;s++){var i=e.b0*r[s]+e.b1*t.xn_1[s]+e.b2*t.xn_2[s]-e.a1*t.yn_1[s]-e.a2*t.yn_2[s];a[s]=i,t.xn_2[s]=t.xn_1[s],t.xn_1[s]=r[s],t.yn_2[s]=t.yn_1[s],t.yn_1[s]=i}}Object.defineProperty(r,"__esModule",{value:!0});var d=e("babel-runtime/core-js/object/get-prototype-of"),b=a(d),_=e("babel-runtime/helpers/classCallCheck"),v=a(_),y=e("babel-runtime/helpers/createClass"),g=a(y),k=e("babel-runtime/helpers/possibleConstructorReturn"),j=a(k),w=e("babel-runtime/helpers/inherits"),S=a(w),P=e("../core/BaseLfo"),x=a(P),C=e("parameters"),M=a(C),O=Math.sin,F=Math.cos,R=Math.PI,T=Math.sqrt,B={type:{type:"enum",default:"lowpass",list:["lowpass","highpass","bandpass_constant_skirt","bandpass_constant_peak","notch","allpass","peaking","lowshelf","highshelf"],metas:{kind:"static"}},f0:{type:"float",default:1,metas:{kind:"static"}},gain:{type:"float",default:1,metas:{kind:"static"}},q:{type:"float",default:1,metas:{kind:"static"}},bandwidth:{type:"float",default:null,nullable:!0,metas:{kind:"static"}}},L=function(e){function t(e){(0,v.default)(this,t);var r=(0,j.default)(this,(t.__proto__||(0,b.default)(t)).call(this));return r.params=(0,M.default)(B,e),r.params.addListener(r.onParamUpdate.bind(r)),r}return(0,S.default)(t,e),(0,g.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e);var t=this.streamParams.frameRate,r=this.streamParams.frameSize;if(!t||t<=0)throw new Error("Invalid framerate value (0) for biquad");var a=this.params.get("type"),n=this.params.get("f0"),s=this.params.get("gain"),i=this.params.get("q"),o=this.params.get("bandwidth"),l=n/t,u=i;null!==o&&(u=n/o),this.coefs={b0:0,b1:0,b2:0,a1:0,a2:0},this.state={xn_1:new Float32Array(r),xn_2:new Float32Array(r),yn_1:new Float32Array(r),yn_2:new Float32Array(r)},h(a,l,u,s,this.coefs),this.propagateStreamParams()}},{key:"processSignal",value:function(e){var t=this.streamParams.frameSize;m(this.coefs,this.state,e.data,this.frame.data,t)}}]),t}(x.default);r.default=L},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],8:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){for(var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"htk",new Float32Array(t*e)),a=k/t,n=1/y(2),s=y(2/t),i=0;i<e;i++)for(var o=0===i?n*s:s,l=0;l<t;l++)r[i*t+l]=o*g(i*(l+.5)*a);return r}Object.defineProperty(r,"__esModule",{value:!0});var s=e("babel-runtime/core-js/object/get-prototype-of"),i=a(s),o=e("babel-runtime/helpers/classCallCheck"),l=a(o),u=e("babel-runtime/helpers/createClass"),c=a(u),f=e("babel-runtime/helpers/possibleConstructorReturn"),p=a(f),h=e("babel-runtime/helpers/inherits"),m=a(h),d=e("../core/BaseLfo"),b=a(d),_=e("parameters"),v=a(_),y=Math.sqrt,g=Math.cos,k=Math.PI,j={order:{type:"integer",default:12,metas:{kind:"static"}}},w=function(e){function t(e){(0,l.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return r.params=(0,v.default)(j,e),r}return(0,m.default)(t,e),(0,c.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e);var t=this.params.get("order"),r=e.frameSize;this.streamParams.frameSize=t,this.streamParams.frameType="vector",this.streamParams.description=[],this.weightMatrix=n(t,r),this.propagateStreamParams()}},{key:"inputSignal",value:function(e){for(var t=this.params.get("order"),r=e.length,a=this.frame.data,n=this.weightMatrix,s=0;s<t;s++){var i=s*r;a[s]=0;for(var o=0;o<r;o++)a[s]+=e[o]*n[i+o]}return a}},{key:"processSignal",value:function(e){this.inputSignal(e.data)}},{key:"processVector",value:function(e){this.inputSignal(e.data)}}]),t}(b.default);r.default=w},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],9:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){this.n=e,this.levels=-1;for(var t=0;t<32;t++)1<<t==e&&(this.levels=t);if(this.levels==-1)throw"Length is not a power of 2";this.cosTable=new Array(e/2),this.sinTable=new Array(e/2);for(var t=0;t<e/2;t++)this.cosTable[t]=Math.cos(2*Math.PI*t/e),this.sinTable[t]=Math.sin(2*Math.PI*t/e);this.forward=function(e,t){function r(e,t){for(var r=0,a=0;a<t;a++)r=r<<1|1&e,e>>>=1;return r}for(var a=this.n,n=0;n<a;n++){var s=r(n,this.levels);if(s>n){var i=e[n];e[n]=e[s],e[s]=i,i=t[n],t[n]=t[s],t[s]=i}}for(var o=2;o<=a;o*=2)for(var l=o/2,u=a/o,n=0;n<a;n+=o)for(var s=n,c=0;s<n+l;s++,c+=u){var f=e[s+l]*this.cosTable[c]+t[s+l]*this.sinTable[c],p=-e[s+l]*this.sinTable[c]+t[s+l]*this.cosTable[c];e[s+l]=e[s]-f,t[s+l]=t[s]-p,e[s]+=f,t[s]+=p}},this.inverse=function(e,t){forward(t,e)}}Object.defineProperty(r,"__esModule",{value:!0});var s=e("babel-runtime/core-js/object/get-prototype-of"),i=a(s),o=e("babel-runtime/helpers/classCallCheck"),l=a(o),u=e("babel-runtime/helpers/createClass"),c=a(u),f=e("babel-runtime/helpers/possibleConstructorReturn"),p=a(f),h=e("babel-runtime/helpers/inherits"),m=a(h),d=e("../core/BaseLfo"),b=a(d),_=e("../utils/windows"),v=a(_),y=e("parameters"),g=a(y),k=Math.sqrt,j=function(e){for(;e%2===0&&e>1;)e/=2;return 1===e},w={size:{type:"integer",default:1024,metas:{kind:"static"}},window:{type:"enum",list:["none","hann","hanning","hamming","blackman","blackmanharris","sine","rectangle"],default:"none",metas:{kind:"static"}},mode:{type:"enum",list:["magnitude","power"],default:"magnitude"},norm:{type:"enum",default:"auto",list:["auto","none","linear","power"]}},S=function(e){function t(e){(0,l.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this));if(r.params=(0,g.default)(w,e),r.windowSize=null,r.normalizeCoefs=null,r.window=null,r.real=null,r.imag=null,r.fft=null,!j(r.params.get("size")))throw new Error("fftSize must be a power of two");return r}return(0,m.default)(t,e),(0,c.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e);var t=e.frameSize,r=this.params.get("size"),a=this.params.get("mode"),s=this.params.get("norm"),i=this.params.get("window");"none"===i&&(i="rectangle"),this.streamParams.frameSize=r/2+1,this.streamParams.frameType="vector",this.streamParams.description=[],this.windowSize=t<r?t:r,this.normalizeCoefs={linear:0,power:0},this.window=new Float32Array(this.windowSize),(0,v.default)(i,this.window,this.windowSize,this.normalizeCoefs);var o=this.normalizeCoefs,l=o.linear,u=o.power;switch(s){case"none":this.windowNorm=1;break;case"linear":this.windowNorm=l;break;case"power":this.windowNorm=u;break;case"auto":"magnitude"===a?this.windowNorm=l:"power"===a&&(this.windowNorm=u)}this.real=new Float32Array(r),this.imag=new Float32Array(r),this.fft=new n(r),this.propagateStreamParams()}},{key:"inputSignal",value:function(e){for(var t=this.params.get("mode"),r=this.windowSize,a=(this.streamParams.frameSize,this.params.get("size")),n=this.frame.data,s=0;s<r;s++)this.real[s]=e[s]*this.window[s]*this.windowNorm,this.imag[s]=0;for(var i=r;i<a;i++)this.real[i]=0,this.imag[i]=0;if(this.fft.forward(this.real,this.imag),"magnitude"===t){var o=1/a,l=this.real[0],u=this.imag[0];n[0]=k(l*l+u*u)*o;var c=this.real[a/2],f=this.imag[a/2];n[a/2]=k(c*c+f*f)*o;for(var p=1,h=a-1;p<a/2;p++,h--){var m=.5*(this.real[p]+this.real[h]),d=.5*(this.imag[p]-this.imag[h]);n[p]=2*k(m*m+d*d)*o}}else if("power"===t){var b=1/(a*a),_=this.real[0],v=this.imag[0];n[0]=(_*_+v*v)*b;var y=this.real[a/2],g=this.imag[a/2];n[a/2]=(y*y+g*g)*b;for(var j=1,w=a-1;j<a/2;j++,w--){var S=.5*(this.real[j]+this.real[w]),P=.5*(this.imag[j]-this.imag[w]);n[j]=4*(S*S+P*P)*b}}return n}},{key:"processSignal",value:function(e){this.inputSignal(e.data)}}]),t}(b.default);r.default=S},{"../core/BaseLfo":4,"../utils/windows":42,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],10:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/get"),h=a(p),m=e("babel-runtime/helpers/inherits"),d=a(m),b=e("../core/BaseLfo"),_=a(b),v=e("parameters"),y=a(v),g=Math.sqrt,k={normalize:{type:"boolean",default:!0,metas:{kind:"dynamic"}},power:{type:"boolean",default:!1,metas:{kind:"dynamic"}}},j=function(e){function t(e){(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return r.params=(0,y.default)(k,e),r.params.addListener(r.onParamUpdate.bind(r)),r._normalize=r.params.get("normalize"),r._power=r.params.get("power"),r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"onParamUpdate",value:function(e,r,a){switch((0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"onParamUpdate",this).call(this,e,r,a),e){case"normalize":this._normalize=r;break;case"power":this._power=r}}},{key:"processStreamParams",value:function(e){this.prepareStreamParams(e),this.streamParams.frameSize=1,this.streamParams.frameType="scalar",this.streamParams.description=["magnitude"],this.propagateStreamParams()}},{key:"processVector",value:function(e){this.frame.data[0]=this.inputVector(e.data)}},{key:"inputVector",value:function(e){for(var t=e.length,r=0,a=0;a<t;a++)r+=e[a]*e[a];var n=r;return this._normalize&&(n/=t),this._power||(n=g(n)),n}}]),t}(_.default);r.default=j},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/get":56,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],11:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("../core/BaseLfo"),d=a(m),b=e("parameters"),_=(a(b),Math.sqrt),v=function(e){function t(e){return(0,o.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this))}return(0,h.default)(t,e),(0,u.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e),this.streamParams.frameType="vector",this.streamParams.frameSize=2,this.streamParams.description=["mean","stddev"],this.propagateStreamParams()}},{key:"inputSignal",value:function(e){for(var t=this.frame.data,r=e.length,a=0,n=0,s=0;s<r;s++){var i=e[s],o=i-a;a+=o/(s+1),n+=o*(i-a)}var l=n/(r-1),u=_(l);return t[0]=a,t[1]=u,t}},{key:"processSignal",value:function(e){this.inputSignal(e.data)}}]),t}(d.default);r.default=v},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],12:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){return 2595*(0,_.default)(1+e/700)}function s(e,t,r,a,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"htk",o=null,l=void 0,u=void 0;if("htk"!==i)throw new Error('Invalid mel band type: "'+i+'"');var c=n;l=c(a),u=c(s);for(var f=new Array(t),p=new Float32Array(e),h=new Float32Array(t+2),m=2*(e-1),d=0;d<e;d++)p[d]=r*d/m;for(var b=0;b<t+2;b++)h[b]=o(l+b/(t+1)*(u-l));for(var _=0;_<t;_++){for(var v={startIndex:null,centerFreq:null,weights:[]},y=0;y<e-1;y++){var g=(p[y]-h[_])/(h[_+1]-h[_]),k=(h[_+2]-p[y])/(h[_+2]-h[_+1]),S=w(0,j(g,k));S>0&&(null===v.startIndex&&(v.startIndex=y,v.centerFreq=h[_+1]),v.weights.push(S))}null===v.startIndex&&(v.startIndex=0,v.centerFreq=0),f[_]=v}return f}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),o=a(i),l=e("babel-runtime/helpers/classCallCheck"),u=a(l),c=e("babel-runtime/helpers/createClass"),f=a(c),p=e("babel-runtime/helpers/possibleConstructorReturn"),h=a(p),m=e("babel-runtime/helpers/inherits"),d=a(m),b=e("babel-runtime/core-js/math/log10"),_=a(b),v=e("../core/BaseLfo"),y=a(v),g=e("parameters"),k=a(g),j=Math.min,w=Math.max,S=Math.pow,P=_.default,x={log:{type:"boolean",default:!1,metas:{kind:"static"}},nbrFilters:{type:"integer",default:24,metas:{kind:"static"}},minFreq:{type:"float",default:0,metas:{kind:"static"}},maxFreq:{type:"float",default:null,nullable:!0,metas:{kind:"static"}},power:{type:"integer",default:1,metas:{kind:"dynamic"}}},C=function(e){function t(e){(0,u.default)(this,t);var r=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return r.params=(0,k.default)(x,e),r}return(0,d.default)(t,e),(0,f.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e);var t=e.frameSize,r=this.params.get("nbrFilters"),a=this.streamParams.sourceSampleRate,n=this.params.get("minFreq"),i=this.params.get("maxFreq");this.streamParams.frameSize=r,this.streamParams.frameType="vector",this.streamParams.description=[],null===i&&(i=this.streamParams.sourceSampleRate/2),this.melBandDescriptions=s(t,r,a,n,i),this.propagateStreamParams()}},{key:"processVector",value:function(e){var t=this.params.get("power"),r=this.params.get("log"),a=e.data,n=this.frame.data,s=this.streamParams.frameSize,i=1,o=1e-48,l=-480;r&&(i*=s);for(var u=0;u<s;u++){for(var c=this.melBandDescriptions[u],f=c.startIndex,p=c.weights,h=0,m=0;m<p.length;m++)h+=p[m]*a[f+m];1!==i&&(h*=i),r&&(h=h>o?10*P(h):l),1!==t&&(h=S(h,t)),n[u]=h}}}]),t}(y.default);r.default=C},{"../core/BaseLfo":4,"babel-runtime/core-js/math/log10":43,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],13:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("../core/BaseLfo"),d=a(m),b=function(e){function t(){return(0,o.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,u.default)(t,[{key:"processStreamParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.prepareStreamParams(e),this.streamParams.frameType="vector",this.streamParams.frameSize=2,this.streamParams.description=["min","max"],this.propagateStreamParams()}},{key:"inputSignal",value:function(e){for(var t=this.frame.data,r=+(1/0),a=-(1/0),n=0,s=e.length;n<s;n++){var i=e[n];i<r&&(r=i),i>a&&(a=i)}return t[0]=r,t[1]=a,t}},{key:"processSignal",value:function(e){this.inputSignal(e.data)}}]),t}(d.default);r.default=b},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58}],14:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/get"),h=a(p),m=e("babel-runtime/helpers/inherits"),d=a(m),b=e("../core/BaseLfo"),_=a(b),v=e("parameters"),y=a(v),g={order:{type:"integer",min:1,max:1e9,default:10,metas:{kind:"dynamic"}},fill:{type:"float",min:-(1/0),max:+(1/0),default:0,metas:{kind:"dyanmic"}}},k=function(e){function t(e){(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return r.params=(0,y.default)(g,e),r.params.addListener(r.onParamUpdate.bind(r)),r.sum=null,r.ringBuffer=null,r.ringIndex=0,r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"onParamUpdate",value:function(e,r,a){switch((0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"onParamUpdate",this).call(this,e,r,a),e){case"order":this.processStreamParams(),this.resetStream();break;case"fill":this.resetStream()}}},{key:"processStreamParams",value:function(e){this.prepareStreamParams(e);var t=this.streamParams.frameSize,r=this.params.get("order");this.ringBuffer=new Float32Array(r*t),t>1?this.sum=new Float32Array(t):this.sum=0,this.propagateStreamParams()}},{key:"resetStream",value:function(){(0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"resetStream",this).call(this);var e=this.params.get("order"),r=this.params.get("fill");this.ringBuffer.fill(r);var a=e*r;this.streamParams.frameSize>1?this.sum.fill(a):this.sum=a,this.ringIndex=0}},{key:"processScalar",value:function(e){this.frame.data[0]=this.inputScalar(frame.data[0])}},{key:"inputScalar",value:function(e){var t=this.params.get("order"),r=this.ringIndex,a=this.ringBuffer,n=this.sum;return n-=a[r],n+=e,this.sum=n,this.ringBuffer[r]=e,this.ringIndex=(r+1)%t,n/t}},{key:"processVector",value:function(e){this.inputVector(e.data)}},{key:"inputVector",value:function(e){for(var t=this.params.get("order"),r=this.frame.data,a=this.streamParams.frameSize,n=this.ringIndex,s=n*a,i=this.ringBuffer,o=this.sum,l=1/t,u=0;u<a;u++){var c=s+u,f=e[u],p=o[u];p-=i[c],p+=f,this.sum[u]=p,r[u]=p*l,i[c]=f}return this.ringIndex=(n+1)%t,r}},{key:"processFrame",value:function(e){this.prepareFrame(),this.processFunction(e);var t=this.params.get("order"),r=e.time;this.streamParams.sourceSampleRate&&(r-=.5*(t-1)/this.streamParams.sourceSampleRate),this.frame.time=r,this.frame.metadata=e.metadata,this.propagateFrame()}}]),t}(_.default);r.default=k},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/get":56,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],15:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/get"),h=a(p),m=e("babel-runtime/helpers/inherits"),d=a(m),b=e("../core/BaseLfo"),_=a(b),v=e("parameters"),y=a(v),g={
order:{type:"integer",min:1,max:1e9,default:9,metas:{kind:"dynamic"}},fill:{type:"float",min:-(1/0),max:+(1/0),default:0,metas:{kind:"dynamic"}}},k=function(e){function t(e){(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return r.params=(0,y.default)(g,e),r.params.addListener(r.onParamUpdate.bind(r)),r.ringBuffer=null,r.sorter=null,r.ringIndex=0,r._ensureOddOrder(),r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"_ensureOddOrder",value:function(){if(this.params.get("order")%2===0)throw new Error("Invalid value "+order+' for param "order" - should be odd')}},{key:"onParamUpdate",value:function(e,r,a){switch((0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"onParamUpdate",this).call(this,e,r,a),e){case"order":this._ensureOddOrder(),this.processStreamParams(),this.resetStream();break;case"fill":this.resetStream()}}},{key:"processStreamParams",value:function(e){this.prepareStreamParams(e);var t=this.streamParams.frameSize,r=this.params.get("order");this.ringBuffer=new Float32Array(t*r),this.sortBuffer=new Float32Array(t*r),this.minIndices=new Uint32Array(t),this.propagateStreamParams()}},{key:"resetStream",value:function(){(0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"resetStream",this).call(this);var e=this.params.get("fill");this.ringBuffer.fill(e),this.ringIndex=0}},{key:"processScalar",value:function(e){this.frame.data[0]=this.inputScalar(e.data[0])}},{key:"inputScalar",value:function(e){var t=this.ringIndex,r=this.ringBuffer,a=this.sortBuffer,n=this.params.get("order"),s=(n-1)/2,i=0;r[t]=e;for(var o=0;o<=s;o++){for(var l=+(1/0),u=null,c=i;c<n;c++)0===o&&(a[c]=r[c]),a[c]<l&&(l=a[c],u=c);var f=a[i];a[i]=a[u],a[u]=f,i+=1}var p=a[s];return this.ringIndex=(t+1)%n,p}},{key:"processVector",value:function(e){this.inputVector(e.data)}},{key:"inputVector",value:function(e){for(var t=this.params.get("order"),r=this.ringBuffer,a=this.ringIndex,n=this.sortBuffer,s=this.frame.data,i=this.minIndices,o=this.streamParams.frameSize,l=Math.floor(t/2),u=0,c=0;c<=l;c++){for(var f=0;f<o;f++){s[f]=+(1/0),i[f]=0;for(var p=u;p<t;p++){var h=p*o+f;p===a&&0===c&&(r[h]=e[f]),0===c&&(n[h]=r[h]),n[h]<s[f]&&(s[f]=n[h],i[f]=h)}var m=u*o+f,d=n[m];n[m]=n[i[f]],n[i[f]]=d,s[f]=n[m]}u+=1}return this.ringIndex=(a+1)%t,this.frame.data}},{key:"processFrame",value:function(e){this.preprocessFrame(),this.processFunction(e);var t=this.params.get("order"),r=e.time;this.streamParams.sourceSampleRate&&(r-=.5*(t-1)/this.streamParams.sourceSampleRate),this.frame.time=r,this.frame.metadata=e.metadata,this.propagateFrame(r,this.outFrame,metadata)}}]),t}(_.default);r.default=k},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/get":56,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],16:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("../Core/BaseLfo"),d=a(m),b=e("parameters"),_=(a(b),Math.sqrt),v=function(e){function t(){return(0,o.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this))}return(0,h.default)(t,e),(0,u.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e),this.streamParams.frameSize=1,this.streamParams.frameType="scalar",this.streamParams.description=["rms"],this.propagateStreamParams()}},{key:"inputSignal",value:function(e){for(var t=e.length,r=0,a=0;a<t;a++)r+=e[a]*e[a];return r/=t,r=_(r)}},{key:"processSignal",value:function(e){this.frame.data[0]=this.inputSignal(e.data)}}]),t}(d.default);r.default=v},{"../Core/BaseLfo":3,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],17:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("../core/BaseLfo"),d=a(m),b=e("parameters"),_=a(b),v={index:{type:"integer",default:0,metas:{kind:"static"}},indices:{type:"any",default:null,nullable:!0,metas:{kind:"static"}}},y=function(e){function t(e){(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return r.params=(0,_.default)(v,e),r}return(0,h.default)(t,e),(0,u.default)(t,[{key:"processStreamParams",value:function(e){var t=this;this.prepareStreamParams(e);var r=this.params.get("index"),a=this.params.get("indices"),n=null!==a?Math.max.apply(null,a):r;if(n>=e.frameSize)throw new Error('Invalid select index "'+n+'"');this.streamParams.frameType=null!==a?"vector":"scalar",this.streamParams.frameSize=null!==a?a.length:1,this.select=null!==a?a:[r],this.select.forEach(function(r,a){t.streamParams.description[a]=e.description[r]}),this.propagateStreamParams()}},{key:"processVector",value:function(e){for(var t=e.data,r=this.frame.data,a=this.select,n=0;n<a.length;n++)r[n]=t[a[n]]}}]),t}(d.default);r.default=y},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],18:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/get"),h=a(p),m=e("babel-runtime/helpers/inherits"),d=a(m),b=e("../core/BaseLfo"),_=a(b),v=e("parameters"),y=a(v),g={frameSize:{type:"integer",default:512,metas:{kind:"static"}},hopSize:{type:"integer",default:null,nullable:!0,metas:{kind:"static"}},centeredTimeTag:{type:"boolean",default:!1}},k=function(e){function t(e){(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this));r.params=(0,y.default)(g,e);var a=r.params.get("hopSize"),n=r.params.get("frameSize");return a||r.params.set("hopSize",n),r.params.addListener(r.onParamUpdate.bind(r)),r.frameIndex=0,r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e);var t=this.params.get("hopSize"),r=this.params.get("frameSize");this.streamParams.frameSize=r,this.streamParams.frameRate=e.sourceSampleRate/t,this.propagateStreamParams()}},{key:"resetStream",value:function(){(0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"resetStream",this).call(this),this.frameIndex=0}},{key:"finalizeStream",value:function(e){this.frameIndex>0&&(this.frame.data.fill(0,this.frameIndex),this.propagateFrame()),(0,h.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"finalizeStream",this).call(this,e)}},{key:"processFrame",value:function(e){this.prepareFrame(),this.processFunction(e)}},{key:"processSignal",value:function(e){for(var t=e.time,r=e.data,a=e.metadata,n=this.params.get("centeredTimeTag"),s=this.params.get("hopSize"),i=this.frame.data,o=this.streamParams.frameSize,l=this.streamParams.sourceSampleRate,u=1/l,c=r.length,f=this.frameIndex,p=0;p<c;){var h=0;if(f<0&&(h=-f,f=0),h<c){p+=h;var m=c-p,d=o-f;m>=d&&(m=d);var b=r.subarray(p,p+m);i.set(b,f),p+=m,f+=m,f===o&&(n?this.frame.time=t+(p-o/2)*u:this.frame.time=t+(p-o)*u,this.frame.metadata=a,this.propagateFrame(),s<o&&i.set(i.subarray(s,o),0),f-=s)}else{var _=c-p;f+=_,p+=_}}this.frameIndex=f}}]),t}(_.default);r.default=k},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/get":56,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],19:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("../core/BaseLfo"),d=a(m),b=e("parameters"),_=a(b),v={state:{type:"enum",default:"on",list:["on","off"],metas:{kind:"dynamic"}}},y=function(e){function t(e){(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return r.params=(0,_.default)(v,e),r.state=r.params.get("state"),r}return(0,h.default)(t,e),(0,u.default)(t,[{key:"setState",value:function(e){if(v.state.list.indexOf(e)===-1)throw new Error('Invalid switch state value "'+e+'" [valid values: "on"/"off"]');this.state=e}},{key:"processScalar",value:function(){}},{key:"processVector",value:function(){}},{key:"processSignal",value:function(){}},{key:"processFrame",value:function(e){"on"===this.state&&(this.prepareFrame(),this.frame.time=e.time,this.frame.metadata=e.metadata,this.frame.data=e.data,this.propagateFrame())}}]),t}(d.default);r.default=y},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],20:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r,a){for(var n=0;n<t;n++){e[n]=0;for(var s=0;s<a;s++)e[n]+=r[n+s]*r[s]}return e}Object.defineProperty(r,"__esModule",{value:!0});var s=e("babel-runtime/core-js/object/get-prototype-of"),i=a(s),o=e("babel-runtime/helpers/classCallCheck"),l=a(o),u=e("babel-runtime/helpers/createClass"),c=a(u),f=e("babel-runtime/helpers/possibleConstructorReturn"),p=a(f),h=e("babel-runtime/helpers/inherits"),m=a(h),d=e("../core/BaseLfo"),b=a(d),_=e("parameters"),v=a(_),y=Math.ceil,g=Math.sqrt,k={threshold:{type:"float",default:.1,metas:{kind:"static"}},downSamplingExp:{type:"integer",default:2,min:0,max:3,metas:{kind:"static"}},minFreq:{type:"float",default:60,min:0,metas:{kind:"static"}}},j=function(e){function t(e){(0,l.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return r.params=(0,v.default)(k,e),r.probability=0,r.pitch=-1,r.test=0,r}return(0,m.default)(t,e),(0,c.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e),this.inputFrameSize=e.frameSize,this.streamParams.frameType="vector",this.streamParams.frameSize=4,this.streamParams.description=["frequency","energy","periodicity","AC1"];var t=this.streamParams.sourceSampleRate,r=this.params.get("downSamplingExp"),a=1<<r,n=t/a,s=this.inputFrameSize/a,i=this.params.get("minFreq");if(i=i>.25*n?.25*n:i,this.acSize=y(n/i)+2,this.acSize>=s)throw new Error('Invalid input frame size, too small for given "minFreq"');this.buffer=new Float32Array(s),this.corr=new Float32Array(this.acSize),this.downSamplingExp=r,this.downSamplingRate=n,this.yinMaxMins=128,this.yinMins=new Float32Array(2*this.yinMaxMins),this.yinResults=new Array(2),this.propagateStreamParams()}},{key:"_downsample",value:function(e,t,r,a){var n=t>>a,s=void 0,i=void 0;switch(a){case 0:for(s=0;s<t;s++)r[s]=e[s];break;case 1:for(s=0,i=0;s<n;s++,i+=2)r[s]=.5*(e[i]+e[i+1]);break;case 2:for(s=0,i=0;s<n;s++,i+=4)r[s]=.25*(e[i]+e[i+1]+e[i+2]+e[i+3]);break;case 3:for(s=0,i=0;s<n;s++,i+=8)r[s]=.125*(e[i]+e[i+1]+e[i+2]+e[i+3]+e[i+4]+e[i+5]+e[i+6]+e[i+7])}return n}},{key:"_yin",value:function(e,t,r,a,s){var i=a-t;n(e,t,r,i);var o=e[0],l=this.yinMaxMins,u=this.yinMins,c=this.yinResults,f=s,p=0,h=t-1.5,m=1,d=void 0,b=void 0,_=void 0,v=void 0,y=void 0,g=void 0,k=void 0;d=r[0],b=r[i],_=o+b*b-d*d,y=0,v=0,g=o+_-2*e[1],k=0,d=r[1],b=r[1+i],_+=b*b-d*d,y=v,v=g,g=o+_-2*e[2],k=v;for(var j=2;j<t-1&&p<l;j++)if(d=r[j],b=r[j+i],_+=b*b-d*d,y=v,v=g,g=o+_-2*e[j+1],k+=v,v<y&&v<g&&0!==k){var w=y+g-2*v,S=.5*(g-y),P=v-S*S/(2*w),x=j*P/k,C=j-S/w;u[2*p]=x,u[2*p+1]=C,p+=1,x<m&&(m=x)}f+=m;for(var M=0;M<p;M++){var O=2*M;if(u[O]<f){m=u[O],h=u[O+1];break}}return m<0&&(m=0),c[0]=m,c[1]=h,c}},{key:"inputSignal",value:function(e){var t=this.params.get("threshold"),r=this.inputFrameSize,a=this.downSamplingExp,n=this.downSamplingRate,s=this.acSize,i=this.frame.data,o=this.buffer,l=this.corr,u=void 0,c=void 0,f=void 0,p=this._downsample(e,r,o,a),h=this._yin(l,s,o,p,t),m=h[0],d=h[1];return f=g(l[0]/(p-s)),c=m>0?m<1?1-g(m):0:1,u=0!==l[0]?l[1]/l[0]:0,i[0]=n/d,i[1]=f,i[2]=c,i[3]=u,i}},{key:"processSignal",value:function(e){this.inputSignal(e.data)}}]),t}(b.default);r.default=j},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],21:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("./Biquad"),s=a(n),i=e("./DCT"),o=a(i),l=e("./FFT"),u=a(l),c=e("./Magnitude"),f=a(c),p=e("./MeanStddev"),h=a(p),m=e("./Mel"),d=a(m),b=e("./MinMax"),_=a(b),v=e("./MovingAverage"),y=a(v),g=e("./MovingMedian"),k=a(g),j=e("./RMS"),w=a(j),S=e("./Select"),P=a(S),x=e("./Slicer"),C=a(x),M=e("./Toggle"),O=a(M),F=e("./Yin"),R=a(F);r.default={Biquad:s.default,DCT:o.default,FFT:u.default,Magnitude:f.default,MeanStddev:h.default,Mel:d.default,MinMax:_.default,MovingAverage:y.default,MovingMedian:k.default,RMS:w.default,Select:P.default,Slicer:C.default,Toggle:O.default,Yin:R.default}},{"./Biquad":7,"./DCT":8,"./FFT":9,"./Magnitude":10,"./MeanStddev":11,"./Mel":12,"./MinMax":13,"./MovingAverage":14,"./MovingMedian":15,"./RMS":16,"./Select":17,"./Slicer":18,"./Toggle":19,"./Yin":20}],22:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/assign"),s=a(n),i=e("babel-runtime/core-js/object/get-prototype-of"),o=a(i),l=e("babel-runtime/helpers/classCallCheck"),u=a(l),c=e("babel-runtime/helpers/createClass"),f=a(c),p=e("babel-runtime/helpers/possibleConstructorReturn"),h=a(p),m=e("babel-runtime/helpers/get"),d=a(m),b=e("babel-runtime/helpers/inherits"),_=a(b),v=e("../core/BaseLfo"),y=a(v),g=e("parameters"),k=a(g),j={min:{type:"float",default:-1,metas:{kind:"dynamic"}},max:{type:"float",default:1,metas:{kind:"dynamic"}},width:{type:"integer",default:300,metas:{kind:"dynamic"}},height:{type:"integer",default:150,metas:{kind:"dynamic"}},container:{type:"any",default:null,constant:!0},canvas:{type:"any",default:null,constant:!0}},w={duration:{type:"float",min:0,max:+(1/0),default:1,metas:{kind:"dynamic"}},referenceTime:{type:"float",default:0,constant:!0}},S=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,u.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this)),i=void 0;i=a?(0,s.default)({},j,w):j;var l=(0,s.default)({},i,e);if(n.params=(0,k.default)(l,r),n.params.addListener(n.onParamUpdate.bind(n)),null===n.params.get("canvas")&&null===n.params.get("container"))throw new Error("Invalid parameter: `canvas` or `container` not defined");var c=n.params.get("canvas"),f=n.params.get("container");if(c)"string"==typeof c?n.canvas=document.querySelector(c):n.canvas=c;else if(f){var p=void 0;p="string"==typeof f?document.querySelector(f):f,n.canvas=document.createElement("canvas"),p.appendChild(n.canvas)}return n.ctx=n.canvas.getContext("2d"),n.cachedCanvas=document.createElement("canvas"),n.cachedCtx=n.cachedCanvas.getContext("2d"),n.previousFrame=null,n.currentTime=a?n.params.get("referenceTime"):null,n.displaySync=!1,n._stack,n._rafId,n.renderStack=n.renderStack.bind(n),n.shiftError=0,n._resize(),n}return(0,_.default)(t,e),(0,f.default)(t,[{key:"_resize",value:function(){var e=this.params.get("width"),t=this.params.get("height"),r=this.ctx,a=this.cachedCtx,n=window.devicePixelRatio||1,s=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=n/s;var i=this.canvasWidth,o=this.canvasHeight;this.canvasWidth=e*this.pixelRatio,this.canvasHeight=t*this.pixelRatio,a.canvas.width=this.canvasWidth,a.canvas.height=this.canvasHeight,i&&o&&a.drawImage(r.canvas,0,0,i,o,0,0,this.canvasWidth,this.canvasHeight),r.canvas.width=this.canvasWidth,r.canvas.height=this.canvasHeight,r.canvas.style.width=e+"px",r.canvas.style.height=t+"px",this._setYScale()}},{key:"_setYScale",value:function(){var e=this.params.get("min"),t=this.params.get("max"),r=this.canvasHeight,a=(0-r)/(t-e),n=r-a*e;this.getYPosition=function(e){return a*e+n}}},{key:"getMinimumFrameWidth",value:function(){return 1}},{key:"onParamUpdate",value:function(e,r,a){switch((0,d.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"onParamUpdate",this).call(this,e,r,a),e){case"min":case"max":this._setYScale();break;case"width":case"height":this._resize()}}},{key:"propagateStreamParams",value:function(){(0,d.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"propagateStreamParams",this).call(this),this._stack=[],this._rafId=requestAnimationFrame(this.renderStack)}},{key:"resetStream",value:function(){(0,d.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"resetStream",this).call(this);var e=this.canvasWidth,r=this.canvasHeight;this.ctx.clearRect(0,0,e,r),this.cachedCtx.clearRect(0,0,e,r)}},{key:"finalizeStream",value:function(e){this.currentTime=null,(0,d.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"finalizeStream",this).call(this,e),cancelAnimationFrame(this._rafId)}},{key:"processFrame",value:function(e){for(var t=this.streamParams.frameSize,r=new Float32Array(t),a=e.data,n=0;n<t;n++)r[n]=a[n];this._stack.push({time:e.time,data:r,metadata:e.metadata})}},{key:"renderStack",value:function(){if(this.params.has("duration"))for(var e=0,t=this._stack.length;e<t;e++)this.scrollModeDraw(this._stack[e]);else if(this._stack.length>0){var r=this._stack[this._stack.length-1];this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.processFunction(r)}this._stack.length=0,this._rafId=requestAnimationFrame(this.renderStack)}},{key:"scrollModeDraw",value:function(e){var t=this.streamParams.frameType,r=(this.streamParams.frameRate,this.streamParams.frameSize),a=this.streamParams.sourceSampleRate,n=this.params.get("duration"),s=this.ctx,i=this.canvasWidth,o=this.canvasHeight,l=this.previousFrame,u=null!==this.currentTime?this.currentTime:e.time,c=e.time,f=(l?l.time:0,this.lastFrameDuration?this.lastFrameDuration:0,void 0);if("scalar"===t||"vector"===t){var p=n/i;f=this.getMinimumFrameWidth()*p}else"signal"===this.streamParams.frameType&&(f=r/a);var h=c+f,m=h-u;if(m>0){var d=m/n*i-this.shiftError,b=Math.floor(d+.5);this.shiftError=d-b;var _=c+f;this.shiftCanvas(b,_),this.displaySync&&this.displaySync.shiftSiblings(b,_,this)}var v=f/n*i,y=Math.floor(v+.5),g=this.currentTime-n,k=(c-g)/n,j=k*i,w=this.lastFrameWidth;if(("scalar"===t||"vector"===t)&&l){var S=e.time-l.time;w=S/n*i}s.save(),s.translate(j,0),this.processFunction(e,y,w),s.restore(),this.cachedCtx.clearRect(0,0,i,o),this.cachedCtx.drawImage(this.canvas,0,0,i,o),this.lastFrameDuration=f,this.lastFrameWidth=y,this.previousFrame=e}},{key:"shiftCanvas",value:function(e,t){var r=this.ctx,a=this.cachedCanvas,n=this.cachedCtx,s=this.canvasWidth,i=this.canvasHeight,o=s-e;this.currentTime=t,r.clearRect(0,0,s,i),r.drawImage(a,e,0,o,i,0,0,o,i),n.clearRect(0,0,s,i),n.drawImage(this.canvas,0,0,s,i)}}]),t}(y.default);r.default=S},{"../core/BaseLfo":4,"babel-runtime/core-js/object/assign":45,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/get":56,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],23:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("./BaseDisplay"),d=a(m),b=e("../utils/display-utils"),_={radius:{type:"float",min:0,default:0,metas:{kind:"dynamic"}},line:{type:"boolean",default:!0,metas:{kind:"dynamic"}},colors:{type:"any",default:null}},v=function(e){function t(e){(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,_,e));return r.prevFrame=null,r}return(0,h.default)(t,e),(0,u.default)(t,[{key:"getMinimumFrameWidth",value:function(){return this.params.get("radius")}},{key:"processStreamParams",value:function(e){this.prepareStreamParams(e),null===this.params.get("colors")&&this.params.set("colors",(0,b.getColors)("bpf",this.streamParams.frameSize)),this.propagateStreamParams()}},{key:"processVector",value:function(e,t,r){var a=this.params.get("colors"),n=this.params.get("radius"),s=this.params.get("line"),i=this.streamParams.frameSize,o=this.ctx,l=e.data,u=this.prevFrame?this.prevFrame.data:null;o.save();for(var c=0,f=i;c<f;c++){var p=this.getYPosition(l[c]),h=a[c];if(o.strokeStyle=h,o.fillStyle=h,u&&s){var m=this.getYPosition(u[c]);o.beginPath(),o.moveTo(-r,m),o.lineTo(0,p),o.stroke(),o.closePath()}n>0&&(o.beginPath(),o.arc(0,p,n,0,2*Math.PI,!1),o.fill(),o.closePath())}o.restore(),this.prevFrame=e}}]),t}(d.default);r.default=v},{"../utils/display-utils":41,"./BaseDisplay":22,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58}],24:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("../core/BaseLfo"),d=a(m),b={callback:{type:"any",default:null,nullable:!0,metas:{kind:"dynamic"}}},_=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,b,e));return r.data=null,r}return(0,h.default)(t,e),(0,u.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e),this.propagateStreamParams(),this.data=this.frame}},{key:"processScalar",value:function(){}},{key:"processVector",value:function(){}},{key:"processSignal",value:function(){}},{key:"processFrame",value:function(e){this.prepareFrame();for(var t=this.params.get("callback"),r=this.frame,a=0;a<this.streamParams.frameSize;a++)r.data[a]=e.data[a];r.time=e.time,r.metadata=e.metadata,t(r)}}]),t}(d.default);r.default=_},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58}],25:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/promise"),s=a(n),i=e("babel-runtime/core-js/object/get-prototype-of"),o=a(i),l=e("babel-runtime/helpers/classCallCheck"),u=a(l),c=e("babel-runtime/helpers/createClass"),f=a(c),p=e("babel-runtime/helpers/possibleConstructorReturn"),h=a(p),m=e("babel-runtime/helpers/inherits"),d=a(m),b=e("../core/BaseLfo"),_=a(b),v="\nvar _separateArrays = false;\nvar _data = [];\nvar _separateArraysData = { time: [], data: [] };\n\nfunction init() {\n  _data.length = 0;\n  _separateArraysData.time.length = 0;\n  _separateArraysData.data.length = 0;\n}\n\nfunction process(time, data) {\n  if (_separateArrays) {\n    _separateArraysData.time.push(time);\n    _separateArraysData.data.push(data);\n  } else {\n    var datum = { time: time, data: data };\n    _data.push(datum);\n  }\n}\n\nself.addEventListener('message', function(e) {\n  switch (e.data.command) {\n    case 'init':\n      _separateArrays = e.data.separateArrays;\n      init();\n      break;\n    case 'process':\n      var time = e.data.time;\n      var data = new Float32Array(e.data.buffer);\n      process(time, data);\n      break;\n    case 'stop':\n      var data = _separateArrays ? _separateArraysData : _data;\n      self.postMessage({ data: data });\n      init();\n      break;\n  }\n});\n",y={separateArrays:{type:"boolean",default:!1,constant:!0}},g=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(this,t);var r=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,y,e));r.isRecording=!1;var a=new Blob([v],{type:"text/javascript"});return r.worker=new Worker(window.URL.createObjectURL(a)),r}return(0,d.default)(t,e),(0,f.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e),this.worker.postMessage({command:"init",separateArrays:this.params.get("separateArrays")}),this.propagateStreamParams()}},{key:"start",value:function(){this.isRecording=!0}},{key:"stop",value:function(){this.isRecording&&(this.worker.postMessage({command:"stop"}),this.isRecording=!1)}},{key:"finalizeStream",value:function(){this.stop()}},{key:"processSignal",value:function(e){this.isRecording&&this._sendFrame(e)}},{key:"processVector",value:function(e){this.isRecording&&this._sendFrame(e)}},{key:"_sendFrame",value:function(e){this.frame.data=new Float32Array(e.data);var t=this.frame.data.buffer;this.worker.postMessage({command:"process",time:e.time,buffer:t},[t])}},{key:"retrieve",value:function(){var e=this;return new s.default(function(t,r){var a=function r(a){e._started=!1,e.worker.removeEventListener("message",r,!1),t(a.data.data)};e.worker.addEventListener("message",a,!1)})}}]),t}(_.default);r.default=g},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/core-js/promise":51,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58}],26:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("../core/BaseLfo"),d=a(m),b=e("parameters"),_=a(b),v={time:{type:"boolean",default:!1,metas:{kind:"dynamic"}},data:{type:"boolean",default:!1,metas:{kind:"dynamic"}},metadata:{type:"boolean",default:!1,metas:{kind:"dynamic"}},streamParams:{type:"boolean",default:!1,metas:{kind:"dynamic"}},frameIndex:{type:"boolean",default:!1,metas:{kind:"dynamic"}}},y=function(e){function t(e){(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return r.params=(0,_.default)(v,e),r}return(0,h.default)(t,e),(0,u.default)(t,[{key:"processStreamParams",value:function(e){this.params.get("streamParams")===!0&&console.log(e),this.frameIndex=0}},{key:"processFunction",value:function(e){this.params.get("frameIndex")===!0&&console.log(this.frameIndex++),this.params.get("time")===!0&&console.log(e.time),this.params.get("data")===!0&&console.log(e.data),this.params.get("metadata")===!0&&console.log(e.metadata)}}]),t}(d.default);r.default=y},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],27:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("./BaseDisplay"),d=a(m),b=e("../utils/display-utils"),_={threshold:{type:"float",default:null,nullable:!0,metas:{kind:"dynamic"}},thresholdIndex:{type:"integer",default:0,metas:{kind:"dynamic"}},color:{type:"string",default:(0,b.getColors)("marker"),nullable:!0,metas:{kind:"dynamic"}}},v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,_,e))}return(0,h.default)(t,e),(0,u.default)(t,[{key:"processVector",value:function(e,t,r){var a=this.params.get("color"),n=this.params.get("threshold"),s=this.params.get("thresholdIndex"),i=this.ctx,o=(i.height,e.data[s]);if(null===n||o>=n){var l=this.getYPosition(this.params.get("min")),u=this.getYPosition(this.params.get("max"));if(l>u){var c=u;u=l,l=c}i.save(),i.fillStyle=a,i.fillRect(0,l,1,u),i.restore()}}}]),t}(d.default);r.default=v},{"../utils/display-utils":41,"./BaseDisplay":22,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58}],28:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){for(var r=e.length,a=r/t,n=new Float32Array(t),s=0,i=0;i<t;i++){var o=v(s),l=s-o,u=e[o],c=e[o+1];n[i]=(c-u)*l+u,s+=a}return n}Object.defineProperty(r,"__esModule",{value:!0});var s=e("babel-runtime/core-js/object/get-prototype-of"),i=a(s),o=e("babel-runtime/helpers/classCallCheck"),l=a(o),u=e("babel-runtime/helpers/createClass"),c=a(u),f=e("babel-runtime/helpers/possibleConstructorReturn"),p=a(f),h=e("babel-runtime/helpers/inherits"),m=a(h),d=e("./BaseDisplay"),b=a(d),_=e("../utils/display-utils"),v=Math.floor,y=(Math.ceil,{color:{type:"string",default:(0,_.getColors)("signal"),nullable:!0}}),g=function(e){function t(e){(0,l.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this,y,e,!0));return r.lastPosY=null,r}return(0,m.default)(t,e),(0,c.default)(t,[{key:"processSignal",value:function(e,t,r){var a=this.params.get("color"),s=this.streamParams.frameSize,i=this.ctx,o=e.data;t<s&&(o=n(o,t));var l=o.length,u=t/l,c=0,f=this.lastPosY;i.strokeStyle=a,i.beginPath();for(var p=0;p<o.length;p++){var h=this.getYPosition(o[p]);null===f?i.moveTo(c,h):(0===p&&i.moveTo(-u,f),i.lineTo(c,h)),c+=u,f=h}i.stroke(),i.closePath(),this.lastPosY=f}}]),t}(b.default);r.default=g},{"../utils/display-utils":41,"./BaseDisplay":22,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58
}],29:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/promise"),s=a(n),i=e("babel-runtime/core-js/object/get-prototype-of"),o=a(i),l=e("babel-runtime/helpers/classCallCheck"),u=a(l),c=e("babel-runtime/helpers/createClass"),f=a(c),p=e("babel-runtime/helpers/possibleConstructorReturn"),h=a(p),m=e("babel-runtime/helpers/inherits"),d=a(m),b=e("../core/BaseLfo"),_=a(b),v=window.AudioContext||window.webkitAudioContext,y="\nvar isInfiniteBuffer = false;\nvar stack = [];\nvar buffer;\nvar bufferLength;\nvar currentIndex;\n\nfunction init() {\n  buffer = new Float32Array(bufferLength);\n  stack.length = 0;\n  currentIndex = 0;\n}\n\nfunction append(block) {\n  var availableSpace = bufferLength - currentIndex;\n  var currentBlock;\n  // return if already full\n  if (availableSpace <= 0) { return; }\n\n  if (availableSpace < block.length) {\n    currentBlock = block.subarray(0, availableSpace);\n  } else {\n    currentBlock = block;\n  }\n\n  buffer.set(currentBlock, currentIndex);\n  currentIndex += currentBlock.length;\n\n  if (isInfiniteBuffer && currentIndex === buffer.length) {\n    stack.push(buffer);\n\n    currentBlock = block.subarray(availableSpace);\n    buffer = new Float32Array(buffer.length);\n    buffer.set(currentBlock, 0);\n    currentIndex = currentBlock.length;\n  }\n}\n\nself.addEventListener('message', function(e) {\n  switch (e.data.command) {\n    case 'init':\n      if (isFinite(e.data.duration)) {\n        bufferLength = e.data.sampleRate * e.data.duration;\n      } else {\n        isInfiniteBuffer = true;\n        bufferLength = e.data.sampleRate * 10;\n      }\n\n      init();\n      break;\n\n    case 'process':\n      var block = new Float32Array(e.data.buffer);\n      append(block);\n\n\n      // if the buffer is full return it, only works with finite buffers\n      if (!isInfiniteBuffer && currentIndex === bufferLength) {\n        var buf = buffer.buffer.slice(0);\n        self.postMessage({ buffer: buf }, [buf]);\n        init();\n      }\n      break;\n\n    case 'stop':\n      if (!isInfiniteBuffer) {\n        var copy = buffer.buffer.slice(0, currentIndex * (32 / 8));\n        self.postMessage({ buffer: copy }, [copy]);\n      } else {\n        var copy = new Float32Array(stack.length * bufferLength + currentIndex);\n        stack.forEach(function(buffer, index) {\n          copy.set(buffer, bufferLength * index);\n        });\n\n        copy.set(buffer.subarray(0, currentIndex), stack.length * bufferLength);\n        self.postMessage({ buffer: copy.buffer }, [copy.buffer]);\n      }\n      init();\n      break;\n  }\n}, false)",g={duration:{type:"float",default:10,min:0,metas:{kind:"static"}},ignoreLeadingZeros:{type:"boolean",default:!0,metas:{kind:"static"}},retrieveAudioBuffer:{type:"boolean",default:!1,constant:!0},audioContext:{type:"any",default:null,nullable:!0}},k=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(this,t);var r=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,g,e));r.isRecording=!1;var a=r.params.get("retrieveAudioBuffer"),n=r.params.get("audioContext");a&&null===n&&(n=new v),r.audioContext=n,r._ignoreZeros=!1;var s=new Blob([y],{type:"text/javascript"});return r.worker=new Worker(window.URL.createObjectURL(s)),r}return(0,d.default)(t,e),(0,f.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e),this.worker.postMessage({command:"init",sampleRate:this.streamParams.sourceSampleRate,duration:this.params.get("duration")}),this.propagateStreamParams()}},{key:"start",value:function(){this.isRecording=!0,this._ignoreZeros=this.params.get("ignoreLeadingZeros")}},{key:"stop",value:function(){this.isRecording&&(this.worker.postMessage({command:"stop"}),this.isRecording=!1)}},{key:"finalizeStream",value:function(e){this.stop()}},{key:"processSignal",value:function(e){if(this.isRecording){var t=null,r=e.data;if(this._ignoreZeros===!1)t=new Float32Array(r);else if(0!==r[r.length-1]){var a=void 0;for(a=0;a<r.length&&0===r[a];a++);t=new Float32Array(r.subarray(a)),this._ignoreZeros=!1}if(null!==t){var n=t.buffer;this.worker.postMessage({command:"process",buffer:n},[n])}}}},{key:"retrieve",value:function(){var e=this;return new s.default(function(t,r){var a=function r(a){var n=e.params.get("retrieveAudioBuffer");e.isRecording=!1,e.worker.removeEventListener("message",r,!1);var s=new Float32Array(a.data.buffer);if(n){var i=s.length,o=e.streamParams.sourceSampleRate,l=e.audioContext.createBuffer(1,i,o),u=l.getChannelData(0);u.set(s,0),t(l)}else t(s)};e.worker.addEventListener("message",a,!1)})}}]),t}(_.default);r.default=k},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/core-js/promise":51,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58}],30:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/math/log10"),s=a(n),i=e("babel-runtime/core-js/object/get-prototype-of"),o=a(i),l=e("babel-runtime/helpers/classCallCheck"),u=a(l),c=e("babel-runtime/helpers/createClass"),f=a(c),p=e("babel-runtime/helpers/possibleConstructorReturn"),h=a(p),m=e("babel-runtime/helpers/inherits"),d=a(m),b=e("./BaseDisplay"),_=a(b),v=e("../operator/FFT"),y=a(v),g=e("../utils/display-utils"),k={scale:{type:"float",default:1,metas:{kind:"dynamic"}},color:{type:"string",default:(0,g.getColors)("spectrum"),nullable:!0,metas:{kind:"dynamic"}},min:{type:"float",default:-80,metas:{kind:"dynamic"}},max:{type:"float",default:6,metas:{kind:"dynamic"}}},j=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.default)(this,t),(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,k,e,!1))}return(0,d.default)(t,e),(0,f.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e),this.fft=new y.default({size:this.streamParams.frameSize,window:"hann",norm:"linear"}),this.fft.processStreamParams(this.streamParams),this.fft.resetStream(),this.propagateStreamParams()}},{key:"processSignal",value:function(e){var t=this.fft.inputSignal(e.data),r=t.length,a=this.canvasWidth,n=this.canvasHeight,i=this.params.get("scale"),o=a/r,l=this.ctx;l.fillStyle=this.params.get("color");for(var u=0,c=0;c<r;c++){var f=c*o+u,p=Math.round(f),h=f+(o-u),m=Math.round(h);if(u=m-h,p!==m){var d=m-p,b=20*(0,s.default)(t[c]),_=this.getYPosition(b*i);l.fillRect(p,_,d,n-_)}else u-=o}}}]),t}(_.default);r.default=j},{"../operator/FFT":9,"../utils/display-utils":41,"./BaseDisplay":22,"babel-runtime/core-js/math/log10":43,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58}],31:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("./BaseDisplay"),d=a(m),b=e("../utils/display-utils"),_={color:{type:"string",default:(0,b.getColors)("trace"),metas:{kind:"dynamic"}},colorScheme:{type:"enum",default:"none",list:["none","hue","opacity"]}},v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,_,e));return r.prevFrame=null,r}return(0,h.default)(t,e),(0,u.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e),2===this.streamParams.frameSize&&this.params.set("colorScheme","none"),this.propagateStreamParams()}},{key:"processVector",value:function(e,t,r){var a=this.params.get("colorScheme"),n=this.ctx,s=this.prevFrame?this.prevFrame.data:null,i=e.data,o=i[1]/2,l=this.getYPosition(i[0]),u=this.getYPosition(i[0]-o),c=this.getYPosition(i[0]+o),f=void 0,p=void 0,h=void 0,m=void 0;null!==s&&(f=s[1]/2,p=this.getYPosition(s[0]),h=this.getYPosition(s[0]-f),m=this.getYPosition(s[0]+f));var d=this.params.get("color"),_=void 0,v=void 0;switch(a){case"none":v=(0,b.hexToRGB)(d),n.fillStyle="rgba("+v.join(",")+", 0.7)",n.strokeStyle=d;break;case"hue":_=n.createLinearGradient(-r,0,0,0),s?_.addColorStop(0,"hsl("+(0,b.getHue)(s[2])+", 100%, 50%)"):_.addColorStop(0,"hsl("+(0,b.getHue)(i[2])+", 100%, 50%)"),_.addColorStop(1,"hsl("+(0,b.getHue)(i[2])+", 100%, 50%)"),n.fillStyle=_;break;case"opacity":v=(0,b.hexToRGB)(this.params.get("color")),_=n.createLinearGradient(-r,0,0,0),s?_.addColorStop(0,"rgba("+v.join(",")+", "+s[2]+")"):_.addColorStop(0,"rgba("+v.join(",")+", "+i[2]+")"),_.addColorStop(1,"rgba("+v.join(",")+", "+i[2]+")"),n.fillStyle=_}n.save(),n.beginPath(),n.moveTo(0,l),n.lineTo(0,c),null!==s&&(n.lineTo(-r,m),n.lineTo(-r,h)),n.lineTo(0,u),n.closePath(),n.fill(),"none"===a&&p&&(n.beginPath(),n.moveTo(-r,p),n.lineTo(0,l),n.closePath(),n.stroke()),n.restore(),this.prevFrame=e}}]),t}(d.default);r.default=v},{"../utils/display-utils":41,"./BaseDisplay":22,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58}],32:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("babel-runtime/core-js/math/log10"),d=a(m),b=e("./BaseDisplay"),_=a(b),v=e("../operator/RMS"),y=a(v),g=e("parameters"),k=(a(g),d.default),j={offset:{type:"float",default:-14,metas:{kind:"dyanmic"}},min:{type:"float",default:-80,metas:{kind:"dynamic"}},max:{type:"float",default:6,metas:{kind:"dynamic"}},width:{type:"integer",default:6,metas:{kind:"dynamic"}}},w=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,j,e,!1));return r.rmsOperator=new y.default,r.lastDB=0,r.peak={value:0,time:0},r.peakLifetime=1,r}return(0,h.default)(t,e),(0,u.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e),this.rmsOperator.processStreamParams(e),this.rmsOperator.resetStream(),this.propagateStreamParams()}},{key:"processSignal",value:function(e){var t=(new Date).getTime()/1e3,r=this.params.get("offset"),a=this.canvasHeight,n=this.canvasWidth,s=this.ctx,i=this.lastDB,o=this.peak,l="#ff2121",u="#ffff1f",c="#00ff00",f=this.rmsOperator.inputSignal(e.data),p=20*k(f)-r;i>p&&(p=i-6),(p>o.value||t-o.time>this.peakLifetime)&&(o.value=p,o.time=t);var h=this.getYPosition(0),m=this.getYPosition(p),d=this.getYPosition(o.value);s.save(),s.fillStyle="#000000",s.fillRect(0,0,n,a);var b=s.createLinearGradient(0,a,0,0);b.addColorStop(0,c),b.addColorStop((a-h)/a,u),b.addColorStop(1,l),s.fillStyle=b,s.fillRect(0,m,n,a-m),s.fillStyle="#dcdcdc",s.fillRect(0,h,n,2),s.fillStyle=b,s.fillRect(0,d,n,2),s.restore(),this.lastDB=p}}]),t}(_.default);r.default=w},{"../operator/RMS":16,"./BaseDisplay":22,"babel-runtime/core-js/math/log10":43,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],33:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("./BaseDisplay"),d=a(m),b=e("../operator/MinMax"),_=a(b),v=e("../operator/RMS"),y=a(v),g=e("../utils/display-utils"),k={colors:{type:"any",default:(0,g.getColors)("waveform"),metas:{kind:"dyanmic"}},rms:{type:"boolean",default:!1,metas:{kind:"dyanmic"}}},j=function(e){function t(e){(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,k,e,!0));return r.minMaxOperator=new _.default,r.rmsOperator=new y.default,r}return(0,h.default)(t,e),(0,u.default)(t,[{key:"processStreamParams",value:function(e){this.prepareStreamParams(e),this.minMaxOperator.processStreamParams(),this.minMaxOperator.resetStream(),this.rmsOperator.processStreamParams(),this.rmsOperator.resetStream(),this.propagateStreamParams()}},{key:"processSignal",value:function(e,t,r){if(!(t<1))for(var a=this.params.get("colors"),n=this.params.get("rms"),s=this.ctx,i=e.data,o=Math.floor(i.length/t),l=0;l<t;l++){var u=l*o,c=l===t-1?void 0:u+o,f=i.subarray(u,c),p=this.minMaxOperator.inputSignal(f),h=this.getYPosition(p[0]),m=this.getYPosition(p[1]);if(s.strokeStyle=a[0],s.beginPath(),s.moveTo(l,h),s.lineTo(l,m),s.closePath(),s.stroke(),n){var d=this.rmsOperator.inputSignal(f),b=this.getYPosition(d),_=this.getYPosition(-d);s.strokeStyle=a[1],s.beginPath(),s.moveTo(l,_),s.lineTo(l,b),s.closePath(),s.stroke()}}}}]),t}(d.default);r.default=j},{"../operator/MinMax":13,"../operator/RMS":16,"../utils/display-utils":41,"./BaseDisplay":22,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58}],34:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("./BaseDisplay"),s=a(n),i=e("./BpfDisplay"),o=a(i),l=e("./Bridge"),u=a(l),c=e("./DataRecorder"),f=a(c),p=e("./Logger"),h=a(p),m=e("./MarkerDisplay"),d=a(m),b=e("./SignalRecorder"),_=a(b),v=e("./SignalDisplay"),y=a(v),g=e("./SpectrumDisplay"),k=a(g),j=e("./TraceDisplay"),w=a(j),S=e("./VuMeterDisplay"),P=a(S),x=e("./WaveformDisplay"),C=a(x);r.default={BaseDisplay:s.default,BpfDisplay:o.default,Bridge:u.default,DataRecorder:f.default,Logger:h.default,MarkerDisplay:d.default,SignalDisplay:y.default,SignalRecorder:_.default,SpectrumDisplay:k.default,TraceDisplay:w.default,VuMeterDisplay:P.default,WaveformDisplay:C.default}},{"./BaseDisplay":22,"./BpfDisplay":23,"./Bridge":24,"./DataRecorder":25,"./Logger":26,"./MarkerDisplay":27,"./SignalDisplay":28,"./SignalRecorder":29,"./SpectrumDisplay":30,"./TraceDisplay":31,"./VuMeterDisplay":32,"./WaveformDisplay":33}],35:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/possibleConstructorReturn"),o=a(i),l=e("babel-runtime/helpers/inherits"),u=a(l),c=e("babel-runtime/helpers/classCallCheck"),f=a(c),p=e("babel-runtime/helpers/createClass"),h=a(p),m=e("../core/BaseLfo"),d=a(m),b=e("parameters"),_=(a(b),"\nself.addEventListener('message', function process(e) {\n  var blockSize = e.data.blockSize;\n  var bufferSource = e.data.buffer;\n  var buffer = new Float32Array(bufferSource);\n  var length = buffer.length;\n  var index = 0;\n\n  while (index < length) {\n    var copySize = Math.min(length - index, blockSize);\n    var block = buffer.subarray(index, index + copySize);\n    var sendBlock = new Float32Array(block);\n\n    postMessage({\n      command: 'process',\n      index: index,\n      buffer: sendBlock.buffer,\n    }, [sendBlock.buffer]);\n\n    index += copySize;\n  }\n\n  postMessage({\n    command: 'finalize',\n    index: index,\n    buffer: bufferSource,\n  }, [bufferSource]);\n}, false)"),v=function(){function e(){(0,f.default)(this,e),this._callback=null}return(0,h.default)(e,[{key:"postMessage",value:function(e){var t=e.blockSize,r=e.buffer,a=new Float32Array(r),n=a.length,s=this,i=0;!function e(){if(i<n){var r=Math.min(n-i,t),o=a.subarray(i,i+r),l=new Float32Array(o);s._send({command:"process",index:i,buffer:l.buffer}),i+=r,setTimeout(e,0)}else s._send({command:"finalize",index:i,buffer:a})}()}},{key:"addListener",value:function(e){this._callback=e}},{key:"_send",value:function(e){this._callback({data:e})}}]),e}(),y={audioBuffer:{type:"any",default:null,constant:!0},frameSize:{type:"integer",default:512,constant:!0},channel:{type:"integer",default:0,constant:!0},useWorker:{type:"boolean",default:!0,constant:!0}},g=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,f.default)(this,t);var r=(0,o.default)(this,(t.__proto__||(0,s.default)(t)).call(this,y,e)),a=r.params.get("audioBuffer");if(!a)throw new Error('Invalid "audioBuffer" parameter');return r.endTime=0,r.worker=null,r.processFrame=r.processFrame.bind(r),r}return(0,u.default)(t,e),(0,h.default)(t,[{key:"start",value:function(){if(this.processStreamParams(),this.resetStream(),this.params.useWorker){var e=new Blob([_],{type:"text/javascript"});this.worker=new Worker(window.URL.createObjectURL(e)),this.worker.addEventListener("message",this.processFrame,!1)}else this.worker=new v,this.worker.addListener(this.processFrame);var t=this.params.get("channel"),r=this.params.get("useWorker"),a=this.params.get("audioBuffer"),n=a.getChannelData(t).buffer,s=r?n.slice(0):n;this.endTime=0,this.worker.postMessage({blockSize:this.streamParams.frameSize,buffer:s},[s])}},{key:"stop",value:function(){this.worker.terminate(),this.worker=null,this.finalizeStream(this.endTime)}},{key:"processStreamParams",value:function(){var e=this.params.get("audioBuffer"),t=this.params.get("frameSize"),r=e.sampleRate,a=r/t;this.streamParams.frameSize=t,this.streamParams.frameRate=a,this.streamParams.frameType="signal",this.streamParams.sourceSampleRate=r,this.propagateStreamParams()}},{key:"processFrame",value:function(e){var t=this.streamParams.sourceSampleRate,r=e.data.command,a=e.data.index,n=e.data.buffer,s=a/t;"finalize"===r?this.finalizeStream(s):"process"===r&&(this.frame.data=new Float32Array(n),this.frame.time=s,this.propagateFrame(),this.endTime=this.time+this.frame.data.length/t)}}]),t}(d.default);r.default=g},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],36:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/core-js/object/get-prototype-of"),s=a(n),i=e("babel-runtime/helpers/classCallCheck"),o=a(i),l=e("babel-runtime/helpers/createClass"),u=a(l),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=a(c),p=e("babel-runtime/helpers/inherits"),h=a(p),m=e("../core/BaseLfo"),d=a(m),b=e("parameters"),_=(a(b),{frameSize:{type:"integer",default:512,constant:!0},channel:{type:"integer",default:0,constant:!0},sourceNode:{type:"any",default:null,constant:!0},audioContext:{type:"any",default:null,constant:!0}}),v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,_,e)),a=r.params.get("audioContext"),n=r.params.get("sourceNode");if(!(a&&a instanceof AudioContext))throw new Error("Invalid `audioContext` parameter");if(!(n&&n instanceof AudioNode))throw new Error("Invalid `sourceNode` parameter");return r._channel=r.params.get("channel"),r._blockDuration=null,r}return(0,h.default)(t,e),(0,u.default)(t,[{key:"start",value:function(){this.processStreamParams(),this.resetStream();var e=this.params.get("audioContext");this.frame.time=0,this.scriptProcessor.connect(e.destination)}},{key:"stop",value:function(){this.finalizeStream(this.frame.time),this.scriptProcessor.disconnect()}},{key:"processStreamParams",value:function(){var e=this.params.get("audioContext"),t=this.params.get("frameSize"),r=this.params.get("sourceNode"),a=e.sampleRate;this.streamParams.frameSize=t,this.streamParams.frameRate=a/t,this.streamParams.frameType="signal",this.streamParams.sourceSampleRate=a,this._blockDuration=t/a,this.scriptProcessor=e.createScriptProcessor(t,1,1),this.scriptProcessor.onaudioprocess=this.processFrame.bind(this),r.connect(this.scriptProcessor),this.propagateStreamParams()}},{key:"processFrame",value:function(e){this.frame.data=e.inputBuffer.getChannelData(this._channel),this.propagateFrame(),this.frame.time+=this._blockDuration}}]),t}(d.default);r.default=v},{"../core/BaseLfo":4,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58,parameters:2}],37:[function(e,t,r){(function(t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"undefined"==typeof window?function(){var e=t.hrtime();return e[0]+1e-9*e[1]}:((null===e||!e instanceof AudioContext)&&(e=new AudioContext),function(){return e.currentTime})}Object.defineProperty(r,"__esModule",{value:!0});var s=e("babel-runtime/core-js/number/is-finite"),i=a(s),o=e("babel-runtime/core-js/object/get-prototype-of"),l=a(o),u=e("babel-runtime/helpers/classCallCheck"),c=a(u),f=e("babel-runtime/helpers/createClass"),p=a(f),h=e("babel-runtime/helpers/possibleConstructorReturn"),m=a(h),d=e("babel-runtime/helpers/inherits"),b=a(d),_=e("../core/BaseLfo"),v=a(_),y={absoluteTime:{type:"boolean",default:!1,constant:!0},audioContext:{type:"any",default:null,constant:!0,nullable:!0},frameType:{type:"enum",list:["signal","vector","scalar"],default:"signal",constant:!0},frameSize:{type:"integer",default:1,min:1,max:+(1/0),metas:{kind:"static"}},sampleRate:{type:"float",default:null,min:0,max:+(1/0),nullable:!0,metas:{kind:"static"}},frameRate:{type:"float",default:null,min:0,max:+(1/0),nullable:!0,metas:{kind:"static"}},description:{type:"any",default:null,constant:!0}},g=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(this,t);var r=(0,m.default)(this,(t.__proto__||(0,l.default)(t)).call(this,y,e)),a=r.params.get("audioContext");return r._getTime=n(a),r._isStarted=!1,r._startTime=null,r._systemTime=null,r._absoluteTime=r.params.get("absoluteTime"),r}return(0,b.default)(t,e),(0,p.default)(t,[{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.processStreamParams(),this.resetStream(),this._startTime=e,this._isStarted=!0,this._systemTime=null}},{key:"stop",value:function(){if(this._isStarted&&this._startTime){var e=this._getTime(),t=this.frame.time+(e-this._systemTime);this.finalizeStream(t),this._isStarted=!1}}},{key:"processStreamParams",value:function(){var e=this.params.get("frameSize"),t=this.params.get("frameType"),r=this.params.get("sampleRate"),a=this.params.get("frameRate"),n=this.params.get("description");if(this.streamParams.frameSize="scalar"===t?1:e,this.streamParams.frameType=t,this.streamParams.description=n,"signal"===t){if(null===r)throw new Error('Undefined "sampleRate" for "signal" stream');this.streamParams.sourceSampleRate=r,this.streamParams.frameRate=r/e}else{if(null===a)throw new Error('Undefined "frameRate" for "vector" stream');this.streamParams.frameRate=a,this.streamParams.sampleRate=a}this.propagateStreamParams()}},{key:"processFunction",value:function(e){var t=this._getTime(),r=e.data.length?e.data:[e.data],a=this.frame.data,n=(0,i.default)(e.time)?e.time:t;null===this._startTime&&(this._startTime=n),this._absoluteTime===!1&&(n-=this._startTime);for(var s=0,o=this.streamParams.frameSize;s<o;s++)a[s]=r[s];this.frame.time=n,this.frame.metadata=e.metadata,this._systemTime=t}},{key:"process",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.processFrame({time:e,data:t,metadata:r})}},{key:"processFrame",value:function(e){this._isStarted&&(this.prepareFrame(),this.processFunction(e),this.propagateFrame())}}]),t}(v.default);r.default=g}).call(this,e("_process"))},{"../core/BaseLfo":4,_process:159,"babel-runtime/core-js/number/is-finite":44,"babel-runtime/core-js/object/get-prototype-of":49,"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55,"babel-runtime/helpers/inherits":57,"babel-runtime/helpers/possibleConstructorReturn":58}],38:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("./AudioInBuffer"),s=a(n),i=e("./AudioInNode"),o=a(i),l=e("./EventIn"),u=a(l);r.default={AudioInBuffer:s.default,AudioInNode:o.default,EventIn:u.default}},{"./AudioInBuffer":35,"./AudioInNode":36,"./EventIn":37}],39:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("babel-runtime/helpers/classCallCheck"),s=a(n),i=e("babel-runtime/helpers/createClass"),o=a(i),l=function(){function e(){(0,s.default)(this,e),this.views=[],this.add.apply(this,arguments)}return(0,o.default)(e,[{key:"add",value:function(){for(var e=this,t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];r.forEach(function(t){return e.install(t)})}},{key:"install",value:function(e){this.views.push(e),e.displaySync=this}},{key:"shiftSiblings",value:function(e,t,r){this.views.forEach(function(a){a!==r&&a.shiftCanvas(e,t)})}}]),e}();r.default=l},{"babel-runtime/helpers/classCallCheck":54,"babel-runtime/helpers/createClass":55}],40:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("./DisplaySync"),s=a(n);r.default={DisplaySync:s.default}},{"./DisplaySync":39}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=["#4682B4","#ffa500","#00e600","#ff0000","#800080","#224153"],n=(r.getColors=function(e,t){switch(e){case"signal":return a[0];case"bpf":if(t<=a.length)return a.slice(0,t);for(var r=a.slice(0);r.length<t;)r.push(n());return r;case"waveform":return[a[0],a[5]];case"marker":return a[3];case"spectrum":return a[2];case"trace":return a[1]}},r.getRandomColor=function(){for(var e="0123456789ABCDEF".split(""),t="#",r=0;r<6;r++)t+=e[Math.floor(16*Math.random())];return t});r.getHue=function(e){var t=0,r=1,a=270,n=0;return(n-a)*(e-t)/(r-t)+a},r.hexToRGB=function(e){e=e.substring(1,7);var t=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16);return[t,r,a]}},{}],42:[function(e,t,r){"use strict";function a(e,t,r){for(var a=0,n=0,s=2*c/t,i=0;i<t;i++){var o=i*s,l=.5-.5*f(o);e[i]=l,a+=l,n+=l*l}r.linear=t/a,r.power=h(t/n)}function n(e,t,r){for(var a=0,n=0,s=2*c/t,i=0;i<t;i++){var o=i*s,l=.54-.46*f(o);e[i]=l,a+=l,n+=l*l}r.linear=t/a,r.power=h(t/n)}function s(e,t,r){for(var a=0,n=0,s=2*c/t,i=0;i<t;i++){var o=i*s,l=.42-.5*f(o)+.08*f(2*o);e[i]=l,a+=l,n+=l*l}r.linear=t/a,r.power=h(t/n)}function i(e,t,r){for(var a=0,n=0,s=.35875,i=.48829,o=.14128,l=.01168,u=2*c/t,p=0;p<t;p++){var m=p*u,d=s-i*f(m)+o*f(2*m);-l*f(3*m),e[p]=d,a+=d,n+=d*d}r.linear=t/a,r.power=h(t/n)}function o(e,t,r){for(var a=0,n=0,s=c/t,i=0;i<t;i++){var o=i*s,l=p(o);e[i]=l,a+=l,n+=l*l}r.linear=t/a,r.power=h(t/n)}function l(e,t,r){for(var a=0;a<t;a++)e[a]=1;r.linear=1,r.power=1}function u(e,t,r,u){switch(e=e.toLowerCase()){case"hann":case"hanning":a(t,r,u);break;case"hamming":n(t,r,u);break;case"blackman":s(t,r,u);break;case"blackmanharris":i(t,r,u);break;case"sine":o(t,r,u);break;case"rectangle":l(t,r,u)}}Object.defineProperty(r,"__esModule",{value:!0});var c=Math.PI,f=Math.cos,p=Math.sin,h=Math.sqrt;r.default=u},{}],43:[function(e,t,r){t.exports={default:e("core-js/library/fn/math/log10"),__esModule:!0}},{"core-js/library/fn/math/log10":60}],44:[function(e,t,r){t.exports={default:e("core-js/library/fn/number/is-finite"),__esModule:!0}},{"core-js/library/fn/number/is-finite":61}],45:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":62}],46:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":63}],47:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":64}],48:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":65}],49:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":66}],50:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":67}],51:[function(e,t,r){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":68}],52:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":69}],53:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":70}],54:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],55:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("../core-js/object/define-property"),s=a(n);r.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,s.default)(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}()},{"../core-js/object/define-property":47}],56:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("../core-js/object/get-prototype-of"),s=a(n),i=e("../core-js/object/get-own-property-descriptor"),o=a(i);r.default=function e(t,r,a){null===t&&(t=Function.prototype);var n=(0,o.default)(t,r);if(void 0===n){var i=(0,s.default)(t);return null===i?void 0:e(i,r,a)}if("value"in n)return n.value;var l=n.get;if(void 0!==l)return l.call(a)}},{"../core-js/object/get-own-property-descriptor":48,"../core-js/object/get-prototype-of":49}],57:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("../core-js/object/set-prototype-of"),s=a(n),i=e("../core-js/object/create"),o=a(i),l=e("../helpers/typeof"),u=a(l);r.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,u.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}},{"../core-js/object/create":46,"../core-js/object/set-prototype-of":50,"../helpers/typeof":59}],58:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("../helpers/typeof"),s=a(n);r.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t;
}},{"../helpers/typeof":59}],59:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var n=e("../core-js/symbol/iterator"),s=a(n),i=e("../core-js/symbol"),o=a(i),l="function"==typeof o.default&&"symbol"==typeof s.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default?"symbol":typeof e};r.default="function"==typeof o.default&&"symbol"===l(s.default)?function(e){return"undefined"==typeof e?"undefined":l(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default?"symbol":"undefined"==typeof e?"undefined":l(e)}},{"../core-js/symbol":52,"../core-js/symbol/iterator":53}],60:[function(e,t,r){e("../../modules/es6.math.log10"),t.exports=e("../../modules/_core").Math.log10},{"../../modules/_core":78,"../../modules/es6.math.log10":144}],61:[function(e,t,r){e("../../modules/es6.number.is-finite"),t.exports=e("../../modules/_core").Number.isFinite},{"../../modules/_core":78,"../../modules/es6.number.is-finite":145}],62:[function(e,t,r){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":78,"../../modules/es6.object.assign":146}],63:[function(e,t,r){e("../../modules/es6.object.create");var a=e("../../modules/_core").Object;t.exports=function(e,t){return a.create(e,t)}},{"../../modules/_core":78,"../../modules/es6.object.create":147}],64:[function(e,t,r){e("../../modules/es6.object.define-property");var a=e("../../modules/_core").Object;t.exports=function(e,t,r){return a.defineProperty(e,t,r)}},{"../../modules/_core":78,"../../modules/es6.object.define-property":148}],65:[function(e,t,r){e("../../modules/es6.object.get-own-property-descriptor");var a=e("../../modules/_core").Object;t.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)}},{"../../modules/_core":78,"../../modules/es6.object.get-own-property-descriptor":149}],66:[function(e,t,r){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":78,"../../modules/es6.object.get-prototype-of":150}],67:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":78,"../../modules/es6.object.set-prototype-of":151}],68:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/_core").Promise},{"../modules/_core":78,"../modules/es6.object.to-string":152,"../modules/es6.promise":153,"../modules/es6.string.iterator":154,"../modules/web.dom.iterable":158}],69:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":78,"../../modules/es6.object.to-string":152,"../../modules/es6.symbol":155,"../../modules/es7.symbol.async-iterator":156,"../../modules/es7.symbol.observable":157}],70:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":140,"../../modules/es6.string.iterator":154,"../../modules/web.dom.iterable":158}],71:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],72:[function(e,t,r){t.exports=function(){}},{}],73:[function(e,t,r){t.exports=function(e,t,r,a){if(!(e instanceof t)||void 0!==a&&a in e)throw TypeError(r+": incorrect invocation!");return e}},{}],74:[function(e,t,r){var a=e("./_is-object");t.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":97}],75:[function(e,t,r){var a=e("./_to-iobject"),n=e("./_to-length"),s=e("./_to-index");t.exports=function(e){return function(t,r,i){var o,l=a(t),u=n(l.length),c=s(i,u);if(e&&r!=r){for(;u>c;)if(o=l[c++],o!=o)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}}},{"./_to-index":132,"./_to-iobject":134,"./_to-length":135}],76:[function(e,t,r){var a=e("./_cof"),n=e("./_wks")("toStringTag"),s="Arguments"==a(function(){return arguments}()),i=function(e,t){try{return e[t]}catch(e){}};t.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=i(t=Object(e),n))?r:s?a(t):"Object"==(o=a(t))&&"function"==typeof t.callee?"Arguments":o}},{"./_cof":77,"./_wks":141}],77:[function(e,t,r){var a={}.toString;t.exports=function(e){return a.call(e).slice(8,-1)}},{}],78:[function(e,t,r){var a=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=a)},{}],79:[function(e,t,r){var a=e("./_a-function");t.exports=function(e,t,r){if(a(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,a){return e.call(t,r,a)};case 3:return function(r,a,n){return e.call(t,r,a,n)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":71}],80:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],81:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":86}],82:[function(e,t,r){var a=e("./_is-object"),n=e("./_global").document,s=a(n)&&a(n.createElement);t.exports=function(e){return s?n.createElement(e):{}}},{"./_global":88,"./_is-object":97}],83:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],84:[function(e,t,r){var a=e("./_object-keys"),n=e("./_object-gops"),s=e("./_object-pie");t.exports=function(e){var t=a(e),r=n.f;if(r)for(var i,o=r(e),l=s.f,u=0;o.length>u;)l.call(e,i=o[u++])&&t.push(i);return t}},{"./_object-gops":115,"./_object-keys":118,"./_object-pie":119}],85:[function(e,t,r){var a=e("./_global"),n=e("./_core"),s=e("./_ctx"),i=e("./_hide"),o="prototype",l=function(e,t,r){var u,c,f,p=e&l.F,h=e&l.G,m=e&l.S,d=e&l.P,b=e&l.B,_=e&l.W,v=h?n:n[t]||(n[t]={}),y=v[o],g=h?a:m?a[t]:(a[t]||{})[o];h&&(r=t);for(u in r)c=!p&&g&&void 0!==g[u],c&&u in v||(f=c?g[u]:r[u],v[u]=h&&"function"!=typeof g[u]?r[u]:b&&c?s(f,a):_&&g[u]==f?function(e){var t=function(t,r,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,a)}return e.apply(this,arguments)};return t[o]=e[o],t}(f):d&&"function"==typeof f?s(Function.call,f):f,d&&((v.virtual||(v.virtual={}))[u]=f,e&l.R&&y&&!y[u]&&i(y,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":78,"./_ctx":79,"./_global":88,"./_hide":90}],86:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],87:[function(e,t,r){var a=e("./_ctx"),n=e("./_iter-call"),s=e("./_is-array-iter"),i=e("./_an-object"),o=e("./_to-length"),l=e("./core.get-iterator-method"),u={},c={},r=t.exports=function(e,t,r,f,p){var h,m,d,b,_=p?function(){return e}:l(e),v=a(r,f,t?2:1),y=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(s(_)){for(h=o(e.length);h>y;y++)if(b=t?v(i(m=e[y])[0],m[1]):v(e[y]),b===u||b===c)return b}else for(d=_.call(e);!(m=d.next()).done;)if(b=n(d,v,m.value,t),b===u||b===c)return b};r.BREAK=u,r.RETURN=c},{"./_an-object":74,"./_ctx":79,"./_is-array-iter":95,"./_iter-call":98,"./_to-length":135,"./core.get-iterator-method":142}],88:[function(e,t,r){var a=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},{}],89:[function(e,t,r){var a={}.hasOwnProperty;t.exports=function(e,t){return a.call(e,t)}},{}],90:[function(e,t,r){var a=e("./_object-dp"),n=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return a.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":81,"./_object-dp":110,"./_property-desc":121}],91:[function(e,t,r){t.exports=e("./_global").document&&document.documentElement},{"./_global":88}],92:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":81,"./_dom-create":82,"./_fails":86}],93:[function(e,t,r){t.exports=function(e,t,r){var a=void 0===r;switch(t.length){case 0:return a?e():e.call(r);case 1:return a?e(t[0]):e.call(r,t[0]);case 2:return a?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return a?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return a?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],94:[function(e,t,r){var a=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},{"./_cof":77}],95:[function(e,t,r){var a=e("./_iterators"),n=e("./_wks")("iterator"),s=Array.prototype;t.exports=function(e){return void 0!==e&&(a.Array===e||s[n]===e)}},{"./_iterators":103,"./_wks":141}],96:[function(e,t,r){var a=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==a(e)}},{"./_cof":77}],97:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],98:[function(e,t,r){var a=e("./_an-object");t.exports=function(e,t,r,n){try{return n?t(a(r)[0],r[1]):t(r)}catch(t){var s=e.return;throw void 0!==s&&a(s.call(e)),t}}},{"./_an-object":74}],99:[function(e,t,r){"use strict";var a=e("./_object-create"),n=e("./_property-desc"),s=e("./_set-to-string-tag"),i={};e("./_hide")(i,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=a(i,{next:n(1,r)}),s(e,t+" Iterator")}},{"./_hide":90,"./_object-create":109,"./_property-desc":121,"./_set-to-string-tag":126,"./_wks":141}],100:[function(e,t,r){"use strict";var a=e("./_library"),n=e("./_export"),s=e("./_redefine"),i=e("./_hide"),o=e("./_has"),l=e("./_iterators"),u=e("./_iter-create"),c=e("./_set-to-string-tag"),f=e("./_object-gpo"),p=e("./_wks")("iterator"),h=!([].keys&&"next"in[].keys()),m="@@iterator",d="keys",b="values",_=function(){return this};t.exports=function(e,t,r,v,y,g,k){u(r,t,v);var j,w,S,P=function(e){if(!h&&e in O)return O[e];switch(e){case d:return function(){return new r(this,e)};case b:return function(){return new r(this,e)}}return function(){return new r(this,e)}},x=t+" Iterator",C=y==b,M=!1,O=e.prototype,F=O[p]||O[m]||y&&O[y],R=F||P(y),T=y?C?P("entries"):R:void 0,B="Array"==t?O.entries||F:F;if(B&&(S=f(B.call(new e)),S!==Object.prototype&&(c(S,x,!0),a||o(S,p)||i(S,p,_))),C&&F&&F.name!==b&&(M=!0,R=function(){return F.call(this)}),a&&!k||!h&&!M&&O[p]||i(O,p,R),l[t]=R,l[x]=_,y)if(j={values:C?R:P(b),keys:g?R:P(d),entries:T},k)for(w in j)w in O||s(O,w,j[w]);else n(n.P+n.F*(h||M),t,j);return j}},{"./_export":85,"./_has":89,"./_hide":90,"./_iter-create":99,"./_iterators":103,"./_library":105,"./_object-gpo":116,"./_redefine":123,"./_set-to-string-tag":126,"./_wks":141}],101:[function(e,t,r){var a=e("./_wks")("iterator"),n=!1;try{var s=[7][a]();s.return=function(){n=!0},Array.from(s,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var s=[7],i=s[a]();i.next=function(){return{done:r=!0}},s[a]=function(){return i},e(s)}catch(e){}return r}},{"./_wks":141}],102:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],103:[function(e,t,r){t.exports={}},{}],104:[function(e,t,r){var a=e("./_object-keys"),n=e("./_to-iobject");t.exports=function(e,t){for(var r,s=n(e),i=a(s),o=i.length,l=0;o>l;)if(s[r=i[l++]]===t)return r}},{"./_object-keys":118,"./_to-iobject":134}],105:[function(e,t,r){t.exports=!0},{}],106:[function(e,t,r){var a=e("./_uid")("meta"),n=e("./_is-object"),s=e("./_has"),i=e("./_object-dp").f,o=0,l=Object.isExtensible||function(){return!0},u=!e("./_fails")(function(){return l(Object.preventExtensions({}))}),c=function(e){i(e,a,{value:{i:"O"+ ++o,w:{}}})},f=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,a)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[a].i},p=function(e,t){if(!s(e,a)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[a].w},h=function(e){return u&&m.NEED&&l(e)&&!s(e,a)&&c(e),e},m=t.exports={KEY:a,NEED:!1,fastKey:f,getWeak:p,onFreeze:h}},{"./_fails":86,"./_has":89,"./_is-object":97,"./_object-dp":110,"./_uid":138}],107:[function(e,t,r){var a=e("./_global"),n=e("./_task").set,s=a.MutationObserver||a.WebKitMutationObserver,i=a.process,o=a.Promise,l="process"==e("./_cof")(i);t.exports=function(){var e,t,r,u=function(){var a,n;for(l&&(a=i.domain)&&a.exit();e;){n=e.fn,e=e.next;try{n()}catch(a){throw e?r():t=void 0,a}}t=void 0,a&&a.enter()};if(l)r=function(){i.nextTick(u)};else if(s){var c=!0,f=document.createTextNode("");new s(u).observe(f,{characterData:!0}),r=function(){f.data=c=!c}}else if(o&&o.resolve){var p=o.resolve();r=function(){p.then(u)}}else r=function(){n.call(a,u)};return function(a){var n={fn:a,next:void 0};t&&(t.next=n),e||(e=n,r()),t=n}}},{"./_cof":77,"./_global":88,"./_task":131}],108:[function(e,t,r){"use strict";var a=e("./_object-keys"),n=e("./_object-gops"),s=e("./_object-pie"),i=e("./_to-object"),o=e("./_iobject"),l=Object.assign;t.exports=!l||e("./_fails")(function(){var e={},t={},r=Symbol(),a="abcdefghijklmnopqrst";return e[r]=7,a.split("").forEach(function(e){t[e]=e}),7!=l({},e)[r]||Object.keys(l({},t)).join("")!=a})?function(e,t){for(var r=i(e),l=arguments.length,u=1,c=n.f,f=s.f;l>u;)for(var p,h=o(arguments[u++]),m=c?a(h).concat(c(h)):a(h),d=m.length,b=0;d>b;)f.call(h,p=m[b++])&&(r[p]=h[p]);return r}:l},{"./_fails":86,"./_iobject":94,"./_object-gops":115,"./_object-keys":118,"./_object-pie":119,"./_to-object":136}],109:[function(e,t,r){var a=e("./_an-object"),n=e("./_object-dps"),s=e("./_enum-bug-keys"),i=e("./_shared-key")("IE_PROTO"),o=function(){},l="prototype",u=function(){var t,r=e("./_dom-create")("iframe"),a=s.length,n="<",i=">";for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",t=r.contentWindow.document,t.open(),t.write(n+"script"+i+"document.F=Object"+n+"/script"+i),t.close(),u=t.F;a--;)delete u[l][s[a]];return u()};t.exports=Object.create||function(e,t){var r;return null!==e?(o[l]=a(e),r=new o,o[l]=null,r[i]=e):r=u(),void 0===t?r:n(r,t)}},{"./_an-object":74,"./_dom-create":82,"./_enum-bug-keys":83,"./_html":91,"./_object-dps":111,"./_shared-key":127}],110:[function(e,t,r){var a=e("./_an-object"),n=e("./_ie8-dom-define"),s=e("./_to-primitive"),i=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(a(e),t=s(t,!0),a(r),n)try{return i(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":74,"./_descriptors":81,"./_ie8-dom-define":92,"./_to-primitive":137}],111:[function(e,t,r){var a=e("./_object-dp"),n=e("./_an-object"),s=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){n(e);for(var r,i=s(t),o=i.length,l=0;o>l;)a.f(e,r=i[l++],t[r]);return e}},{"./_an-object":74,"./_descriptors":81,"./_object-dp":110,"./_object-keys":118}],112:[function(e,t,r){var a=e("./_object-pie"),n=e("./_property-desc"),s=e("./_to-iobject"),i=e("./_to-primitive"),o=e("./_has"),l=e("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?u:function(e,t){if(e=s(e),t=i(t,!0),l)try{return u(e,t)}catch(e){}if(o(e,t))return n(!a.f.call(e,t),e[t])}},{"./_descriptors":81,"./_has":89,"./_ie8-dom-define":92,"./_object-pie":119,"./_property-desc":121,"./_to-iobject":134,"./_to-primitive":137}],113:[function(e,t,r){var a=e("./_to-iobject"),n=e("./_object-gopn").f,s={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(e){try{return n(e)}catch(e){return i.slice()}};t.exports.f=function(e){return i&&"[object Window]"==s.call(e)?o(e):n(a(e))}},{"./_object-gopn":114,"./_to-iobject":134}],114:[function(e,t,r){var a=e("./_object-keys-internal"),n=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},{"./_enum-bug-keys":83,"./_object-keys-internal":117}],115:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],116:[function(e,t,r){var a=e("./_has"),n=e("./_to-object"),s=e("./_shared-key")("IE_PROTO"),i=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=n(e),a(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},{"./_has":89,"./_shared-key":127,"./_to-object":136}],117:[function(e,t,r){var a=e("./_has"),n=e("./_to-iobject"),s=e("./_array-includes")(!1),i=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,o=n(e),l=0,u=[];for(r in o)r!=i&&a(o,r)&&u.push(r);for(;t.length>l;)a(o,r=t[l++])&&(~s(u,r)||u.push(r));return u}},{"./_array-includes":75,"./_has":89,"./_shared-key":127,"./_to-iobject":134}],118:[function(e,t,r){var a=e("./_object-keys-internal"),n=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return a(e,n)}},{"./_enum-bug-keys":83,"./_object-keys-internal":117}],119:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],120:[function(e,t,r){var a=e("./_export"),n=e("./_core"),s=e("./_fails");t.exports=function(e,t){var r=(n.Object||{})[e]||Object[e],i={};i[e]=t(r),a(a.S+a.F*s(function(){r(1)}),"Object",i)}},{"./_core":78,"./_export":85,"./_fails":86}],121:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],122:[function(e,t,r){var a=e("./_hide");t.exports=function(e,t,r){for(var n in t)r&&e[n]?e[n]=t[n]:a(e,n,t[n]);return e}},{"./_hide":90}],123:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":90}],124:[function(e,t,r){var a=e("./_is-object"),n=e("./_an-object"),s=function(e,t){if(n(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,a){try{a=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),a(t,[]),r=!(t instanceof Array)}catch(e){r=!0}return function(e,t){return s(e,t),r?e.__proto__=t:a(e,t),e}}({},!1):void 0),check:s}},{"./_an-object":74,"./_ctx":79,"./_is-object":97,"./_object-gopd":112}],125:[function(e,t,r){"use strict";var a=e("./_global"),n=e("./_core"),s=e("./_object-dp"),i=e("./_descriptors"),o=e("./_wks")("species");t.exports=function(e){var t="function"==typeof n[e]?n[e]:a[e];i&&t&&!t[o]&&s.f(t,o,{configurable:!0,get:function(){return this}})}},{"./_core":78,"./_descriptors":81,"./_global":88,"./_object-dp":110,"./_wks":141}],126:[function(e,t,r){var a=e("./_object-dp").f,n=e("./_has"),s=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,s)&&a(e,s,{configurable:!0,value:t})}},{"./_has":89,"./_object-dp":110,"./_wks":141}],127:[function(e,t,r){var a=e("./_shared")("keys"),n=e("./_uid");t.exports=function(e){return a[e]||(a[e]=n(e))}},{"./_shared":128,"./_uid":138}],128:[function(e,t,r){var a=e("./_global"),n="__core-js_shared__",s=a[n]||(a[n]={});t.exports=function(e){return s[e]||(s[e]={})}},{"./_global":88}],129:[function(e,t,r){var a=e("./_an-object"),n=e("./_a-function"),s=e("./_wks")("species");t.exports=function(e,t){var r,i=a(e).constructor;return void 0===i||void 0==(r=a(i)[s])?t:n(r)}},{"./_a-function":71,"./_an-object":74,"./_wks":141}],130:[function(e,t,r){var a=e("./_to-integer"),n=e("./_defined");t.exports=function(e){return function(t,r){var s,i,o=String(n(t)),l=a(r),u=o.length;return l<0||l>=u?e?"":void 0:(s=o.charCodeAt(l),s<55296||s>56319||l+1===u||(i=o.charCodeAt(l+1))<56320||i>57343?e?o.charAt(l):s:e?o.slice(l,l+2):(s-55296<<10)+(i-56320)+65536)}}},{"./_defined":80,"./_to-integer":133}],131:[function(e,t,r){var a,n,s,i=e("./_ctx"),o=e("./_invoke"),l=e("./_html"),u=e("./_dom-create"),c=e("./_global"),f=c.process,p=c.setImmediate,h=c.clearImmediate,m=c.MessageChannel,d=0,b={},_="onreadystatechange",v=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},y=function(e){v.call(e.data)};p&&h||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return b[++d]=function(){o("function"==typeof e?e:Function(e),t)},a(d),d},h=function(e){delete b[e]},"process"==e("./_cof")(f)?a=function(e){f.nextTick(i(v,e,1))}:m?(n=new m,s=n.port2,n.port1.onmessage=y,a=i(s.postMessage,s,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(a=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):a=_ in u("script")?function(e){l.appendChild(u("script"))[_]=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(i(v,e,1),0)}),t.exports={set:p,clear:h}},{"./_cof":77,"./_ctx":79,"./_dom-create":82,"./_global":88,"./_html":91,"./_invoke":93}],132:[function(e,t,r){var a=e("./_to-integer"),n=Math.max,s=Math.min;t.exports=function(e,t){return e=a(e),e<0?n(e+t,0):s(e,t)}},{"./_to-integer":133}],133:[function(e,t,r){var a=Math.ceil,n=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?n:a)(e)}},{}],134:[function(e,t,r){var a=e("./_iobject"),n=e("./_defined");t.exports=function(e){return a(n(e))}},{"./_defined":80,"./_iobject":94}],135:[function(e,t,r){var a=e("./_to-integer"),n=Math.min;t.exports=function(e){return e>0?n(a(e),9007199254740991):0}},{"./_to-integer":133}],136:[function(e,t,r){var a=e("./_defined");t.exports=function(e){return Object(a(e))}},{"./_defined":80}],137:[function(e,t,r){var a=e("./_is-object");t.exports=function(e,t){if(!a(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!a(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!a(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!a(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":97}],138:[function(e,t,r){var a=0,n=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++a+n).toString(36))}},{}],139:[function(e,t,r){var a=e("./_global"),n=e("./_core"),s=e("./_library"),i=e("./_wks-ext"),o=e("./_object-dp").f;t.exports=function(e){var t=n.Symbol||(n.Symbol=s?{}:a.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:i.f(e)})}},{"./_core":78,"./_global":88,"./_library":105,"./_object-dp":110,"./_wks-ext":140}],140:[function(e,t,r){r.f=e("./_wks")},{"./_wks":141}],141:[function(e,t,r){var a=e("./_shared")("wks"),n=e("./_uid"),s=e("./_global").Symbol,i="function"==typeof s,o=t.exports=function(e){return a[e]||(a[e]=i&&s[e]||(i?s:n)("Symbol."+e))};o.store=a},{"./_global":88,"./_shared":128,"./_uid":138}],142:[function(e,t,r){var a=e("./_classof"),n=e("./_wks")("iterator"),s=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||s[a(e)]}},{"./_classof":76,"./_core":78,"./_iterators":103,"./_wks":141}],143:[function(e,t,r){"use strict";var a=e("./_add-to-unscopables"),n=e("./_iter-step"),s=e("./_iterators"),i=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,n(1)):"keys"==t?n(0,r):"values"==t?n(0,e[r]):n(0,[r,e[r]])},"values"),s.Arguments=s.Array,a("keys"),a("values"),a("entries")},{"./_add-to-unscopables":72,"./_iter-define":100,"./_iter-step":102,"./_iterators":103,"./_to-iobject":134}],144:[function(e,t,r){var a=e("./_export");a(a.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},{"./_export":85}],145:[function(e,t,r){var a=e("./_export"),n=e("./_global").isFinite;a(a.S,"Number",{isFinite:function(e){return"number"==typeof e&&n(e)}})},{"./_export":85,"./_global":88}],146:[function(e,t,r){var a=e("./_export");a(a.S+a.F,"Object",{assign:e("./_object-assign")})},{"./_export":85,"./_object-assign":108}],147:[function(e,t,r){var a=e("./_export");a(a.S,"Object",{create:e("./_object-create")})},{"./_export":85,"./_object-create":109}],148:[function(e,t,r){var a=e("./_export");a(a.S+a.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":81,"./_export":85,"./_object-dp":110}],149:[function(e,t,r){var a=e("./_to-iobject"),n=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(e,t){return n(a(e),t)}})},{"./_object-gopd":112,"./_object-sap":120,"./_to-iobject":134}],150:[function(e,t,r){var a=e("./_to-object"),n=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return n(a(e))}})},{"./_object-gpo":116,"./_object-sap":120,"./_to-object":136}],151:[function(e,t,r){var a=e("./_export");a(a.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":85,"./_set-proto":124}],152:[function(e,t,r){},{}],153:[function(e,t,r){"use strict";var a,n,s,i=e("./_library"),o=e("./_global"),l=e("./_ctx"),u=e("./_classof"),c=e("./_export"),f=e("./_is-object"),p=e("./_a-function"),h=e("./_an-instance"),m=e("./_for-of"),d=e("./_species-constructor"),b=e("./_task").set,_=e("./_microtask")(),v="Promise",y=o.TypeError,g=o.process,k=o[v],g=o.process,j="process"==u(g),w=function(){},S=!!function(){try{var t=k.resolve(1),r=(t.constructor={})[e("./_wks")("species")]=function(e){e(w,w)};return(j||"function"==typeof PromiseRejectionEvent)&&t.then(w)instanceof r}catch(e){}}(),P=function(e,t){return e===t||e===k&&t===s},x=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},C=function(e){return P(k,e)?new M(e):new n(e)},M=n=function(e){var t,r;this.promise=new e(function(e,a){if(void 0!==t||void 0!==r)throw y("Bad Promise constructor");t=e,r=a}),this.resolve=p(t),this.reject=p(r)},O=function(e){try{e()}catch(e){return{error:e}}},F=function(e,t){if(!e._n){e._n=!0;var r=e._c;_(function(){for(var a=e._v,n=1==e._s,s=0,i=function(t){var r,s,i=n?t.ok:t.fail,o=t.resolve,l=t.reject,u=t.domain;try{i?(n||(2==e._h&&B(e),e._h=1),i===!0?r=a:(u&&u.enter(),r=i(a),u&&u.exit()),r===t.promise?l(y("Promise-chain cycle")):(s=x(r))?s.call(r,o,l):o(r)):l(a)}catch(e){l(e)}};r.length>s;)i(r[s++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){b.call(o,function(){var t,r,a,n=e._v;if(T(e)&&(t=O(function(){j?g.emit("unhandledRejection",n,e):(r=o.onunhandledrejection)?r({promise:e,reason:n}):(a=o.console)&&a.error&&a.error("Unhandled promise rejection",n)}),e._h=j||T(e)?2:1),e._a=void 0,t)throw t.error})},T=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,a=0;r.length>a;)if(t=r[a++],t.fail||!T(t.promise))return!1;return!0},B=function(e){b.call(o,function(){var t;j?g.emit("rejectionHandled",e):(t=o.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),F(t,!0))},z=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw y("Promise can't be resolved itself");(t=x(e))?_(function(){var a={_w:r,_d:!1};try{t.call(e,l(z,a,1),l(L,a,1))}catch(e){L.call(a,e)}}):(r._v=e,r._s=1,F(r,!1))}catch(e){L.call({_w:r,_d:!1},e)}}};S||(k=function(e){h(this,k,v,"_h"),p(e),a.call(this);try{e(l(z,this,1),l(L,this,1))}catch(e){L.call(this,e)}},a=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},a.prototype=e("./_redefine-all")(k.prototype,{then:function(e,t){var r=C(d(this,k));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=j?g.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&F(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),M=function(){var e=new a;this.promise=e,this.resolve=l(z,e,1),this.reject=l(L,e,1)}),c(c.G+c.W+c.F*!S,{Promise:k}),e("./_set-to-string-tag")(k,v),e("./_set-species")(v),s=e("./_core")[v],c(c.S+c.F*!S,v,{reject:function(e){var t=C(this),r=t.reject;return r(e),t.promise}}),c(c.S+c.F*(i||!S),v,{resolve:function(e){if(e instanceof k&&P(e.constructor,this))return e;var t=C(this),r=t.resolve;return r(e),t.promise}}),c(c.S+c.F*!(S&&e("./_iter-detect")(function(e){k.all(e).catch(w)})),v,{all:function(e){var t=this,r=C(t),a=r.resolve,n=r.reject,s=O(function(){var r=[],s=0,i=1;m(e,!1,function(e){var o=s++,l=!1;r.push(void 0),i++,t.resolve(e).then(function(e){l||(l=!0,r[o]=e,--i||a(r))},n)}),--i||a(r)});return s&&n(s.error),r.promise},race:function(e){var t=this,r=C(t),a=r.reject,n=O(function(){m(e,!1,function(e){t.resolve(e).then(r.resolve,a)})});return n&&a(n.error),r.promise}})},{"./_a-function":71,"./_an-instance":73,"./_classof":76,"./_core":78,"./_ctx":79,"./_export":85,"./_for-of":87,"./_global":88,"./_is-object":97,"./_iter-detect":101,"./_library":105,"./_microtask":107,"./_redefine-all":122,"./_set-species":125,"./_set-to-string-tag":126,"./_species-constructor":129,"./_task":131,"./_wks":141}],154:[function(e,t,r){"use strict";var a=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=a(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":100,"./_string-at":130}],155:[function(e,t,r){"use strict";var a=e("./_global"),n=e("./_has"),s=e("./_descriptors"),i=e("./_export"),o=e("./_redefine"),l=e("./_meta").KEY,u=e("./_fails"),c=e("./_shared"),f=e("./_set-to-string-tag"),p=e("./_uid"),h=e("./_wks"),m=e("./_wks-ext"),d=e("./_wks-define"),b=e("./_keyof"),_=e("./_enum-keys"),v=e("./_is-array"),y=e("./_an-object"),g=e("./_to-iobject"),k=e("./_to-primitive"),j=e("./_property-desc"),w=e("./_object-create"),S=e("./_object-gopn-ext"),P=e("./_object-gopd"),x=e("./_object-dp"),C=e("./_object-keys"),M=P.f,O=x.f,F=S.f,R=a.Symbol,T=a.JSON,B=T&&T.stringify,L="prototype",z=h("_hidden"),I=h("toPrimitive"),E={}.propertyIsEnumerable,A=c("symbol-registry"),D=c("symbols"),N=c("op-symbols"),q=Object[L],U="function"==typeof R,W=a.QObject,V=!W||!W[L]||!W[L].findChild,Y=s&&u(function(){return 7!=w(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,r){var a=M(q,t);a&&delete q[t],O(e,t,r),a&&e!==q&&O(q,t,a)}:O,H=function(e){var t=D[e]=w(R[L]);return t._k=e,t},G=U&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Z=function(e,t,r){return e===q&&Z(N,t,r),y(e),t=k(t,!0),y(r),n(D,t)?(r.enumerable?(n(e,z)&&e[z][t]&&(e[z][t]=!1),r=w(r,{enumerable:j(0,!1)})):(n(e,z)||O(e,z,j(1,{})),e[z][t]=!0),Y(e,t,r)):O(e,t,r)},K=function(e,t){y(e);for(var r,a=_(t=g(t)),n=0,s=a.length;s>n;)Z(e,r=a[n++],t[r]);return e},J=function(e,t){return void 0===t?w(e):K(w(e),t)},Q=function(e){var t=E.call(this,e=k(e,!0));return!(this===q&&n(D,e)&&!n(N,e))&&(!(t||!n(this,e)||!n(D,e)||n(this,z)&&this[z][e])||t)},X=function(e,t){if(e=g(e),t=k(t,!0),e!==q||!n(D,t)||n(N,t)){var r=M(e,t);return!r||!n(D,t)||n(e,z)&&e[z][t]||(r.enumerable=!0),r}},$=function(e){for(var t,r=F(g(e)),a=[],s=0;r.length>s;)n(D,t=r[s++])||t==z||t==l||a.push(t);return a},ee=function(e){for(var t,r=e===q,a=F(r?N:g(e)),s=[],i=0;a.length>i;)!n(D,t=a[i++])||r&&!n(q,t)||s.push(D[t]);return s};U||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===q&&t.call(N,r),n(this,z)&&n(this[z],e)&&(this[z][e]=!1),Y(this,e,j(1,r))};return s&&V&&Y(q,e,{configurable:!0,set:t}),H(e)},o(R[L],"toString",function(){return this._k}),P.f=X,x.f=Z,e("./_object-gopn").f=S.f=$,e("./_object-pie").f=Q,e("./_object-gops").f=ee,s&&!e("./_library")&&o(q,"propertyIsEnumerable",Q,!0),m.f=function(e){return H(h(e))}),i(i.G+i.W+i.F*!U,{Symbol:R});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)h(te[re++]);for(var te=C(h.store),re=0;te.length>re;)d(te[re++]);i(i.S+i.F*!U,"Symbol",{for:function(e){return n(A,e+="")?A[e]:A[e]=R(e)},keyFor:function(e){if(G(e))return b(A,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){V=!0},useSimple:function(){V=!1}}),i(i.S+i.F*!U,"Object",{create:J,defineProperty:Z,defineProperties:K,getOwnPropertyDescriptor:X,getOwnPropertyNames:$,getOwnPropertySymbols:ee}),T&&i(i.S+i.F*(!U||u(function(){var e=R();
return"[null]"!=B([e])||"{}"!=B({a:e})||"{}"!=B(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!G(e)){for(var t,r,a=[e],n=1;arguments.length>n;)a.push(arguments[n++]);return t=a[1],"function"==typeof t&&(r=t),!r&&v(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!G(t))return t}),a[1]=t,B.apply(T,a)}}}),R[L][I]||e("./_hide")(R[L],I,R[L].valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(a.JSON,"JSON",!0)},{"./_an-object":74,"./_descriptors":81,"./_enum-keys":84,"./_export":85,"./_fails":86,"./_global":88,"./_has":89,"./_hide":90,"./_is-array":96,"./_keyof":104,"./_library":105,"./_meta":106,"./_object-create":109,"./_object-dp":110,"./_object-gopd":112,"./_object-gopn":114,"./_object-gopn-ext":113,"./_object-gops":115,"./_object-keys":118,"./_object-pie":119,"./_property-desc":121,"./_redefine":123,"./_set-to-string-tag":126,"./_shared":128,"./_to-iobject":134,"./_to-primitive":137,"./_uid":138,"./_wks":141,"./_wks-define":139,"./_wks-ext":140}],156:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":139}],157:[function(e,t,r){e("./_wks-define")("observable")},{"./_wks-define":139}],158:[function(e,t,r){e("./es6.array.iterator");for(var a=e("./_global"),n=e("./_hide"),s=e("./_iterators"),i=e("./_wks")("toStringTag"),o=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var u=o[l],c=a[u],f=c&&c.prototype;f&&!f[i]&&n(f,i,u),s[u]=s.Array}},{"./_global":88,"./_hide":90,"./_iterators":103,"./_wks":141,"./es6.array.iterator":143}],159:[function(e,t,r){function a(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function s(e){if(f===setTimeout)return setTimeout(e,0);if((f===a||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(p===clearTimeout)return clearTimeout(e);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function o(){b&&m&&(b=!1,m.length?d=m.concat(d):_=-1,d.length&&l())}function l(){if(!b){var e=s(o);b=!0;for(var t=d.length;t;){for(m=d,d=[];++_<t;)m&&m[_].run();_=-1,t=d.length}m=null,b=!1,i(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var f,p,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:a}catch(e){f=a}try{p="function"==typeof clearTimeout?clearTimeout:n}catch(e){p=n}}();var m,d=[],b=!1,_=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new u(e,t)),1!==d.length||b||s(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}]},{},[6])(6)});