!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.wavesLFO=e()}}(function(){return function e(t,r,a){function i(s,o){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!o&&u)return u(s,!0);if(n)return n(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r?r:e)},c,c.exports,e,t,r,a)}return r[s].exports}for(var n="function"==typeof require&&require,s=0;s<a.length;s++)i(a[s]);return i}({1:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],n=e("babel-runtime/core-js/object/assign")["default"];Object.defineProperty(r,"__esModule",{value:!0});var s=0,o=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,e),this.cid=s++,this.params={},this.streamParams={frameSize:1,frameRate:0,sourceSampleRate:0},this.params=n({},r,t),this.children=[]}return a(e,[{key:"connect",value:function(e){if(null===this.streamParams)throw new Error("cannot connect to a dead lfo node");this.children.push(e),e.parent=this}},{key:"initialize",value:function(){this.parent&&(this.streamParams=n(this.streamParams,this.parent.streamParams)),this.configureStream(),this.setupStream();for(var e=0,t=this.children.length;t>e;e++)this.children[e].initialize()}},{key:"configureStream",value:function(){this.params.frameSize&&(this.streamParams.frameSize=this.params.frameSize),this.params.frameRate&&(this.streamParams.frameRate=this.params.frameRate),this.params.sourceSampleRate&&(this.streamParams.sourceSampleRate=this.params.sourceSampleRate)}},{key:"setupStream",value:function(){this.outFrame=new Float32Array(this.streamParams.frameSize)}},{key:"reset",value:function(){for(var e=0,t=this.children.length;t>e;e++)this.children[e].reset();if(this.outFrame)for(var e=0,t=this.outFrame.length;t>e;e++)this.outFrame[e]=0}},{key:"finalize",value:function(){for(var e=0,t=this.children.length;t>e;e++)this.children[e].finalize()}},{key:"output",value:function(){for(var e=arguments.length<=0||void 0===arguments[0]?this.time:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.outFrame:arguments[1],r=arguments.length<=2||void 0===arguments[2]?this.metaData:arguments[2],a=0,i=this.children.length;i>a;a++)this.children[a].process(e,t,r)}},{key:"process",value:function(e,t,r){this.time=e,this.outFrame=t,this.metaData=r,this.output()}},{key:"destroy",value:function(){for(var e=this.children.length;e--;)this.children[e].destroy();if(this.parent){var t=this.parent.children.indexOf(this);this.parent.children.splice(t,1)}this.streamParams=null}}]),e}();r["default"]=o,t.exports=r["default"]},{"babel-runtime/core-js/object/assign":33,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40}],2:[function(e,t,r){"use strict";function a(e,t,r){var a=k*e,i=y(a)/(2*t),n=w(a),s=1/(1+i);r.a1=-2*n*s,r.a2=(1-i)*s,r.b0=.5*(1-n)*s,r.b1=(1-n)*s,r.b2=r.b0}function i(e,t,r){var a=k*e,i=y(a)/(2*t),n=w(a),s=1/(1+i);r.a1=-2*n*s,r.a2=(1-i)*s,r.b0=.5*(1+n)*s,r.b1=(-1-n)*s,r.b2=r.b0}function n(e,t,r){var a=k*e,i=y(a),n=i/(2*t),s=w(a),o=1/(1+n);r.a1=-2*s*o,r.a2=(1-n)*o,r.b0=.5*i*o,r.b1=0,r.b2=-r.b0}function s(e,t,r){var a=k*e,i=y(a)/(2*t),n=w(a),s=1/(1+i);r.a1=-2*n*s,r.a2=(1-i)*s,r.b0=i*s,r.b1=0,r.b2=-r.b0}function o(e,t,r){var a=k*e,i=y(a)/(2*t),n=w(a),s=1/(1+i);r.a1=-2*n*s,r.a2=(1-i)*s,r.b0=s,r.b1=r.a1,r.b2=r.b0}function u(e,t,r){var a=k*e,i=y(a)/(2*t),n=w(a),s=1/(1+i);r.a1=-2*n*s,r.a2=(1-i)*s,r.b0=r.a2,r.b1=r.a1,r.b2=1}function l(e,t,r,a){var i=_(r),n=1/i,s=k*e,o=y(s)/(2*t),u=w(s),l=1/(1+o*n);a.a1=-2*u*l,a.a2=(1-o*n)*l,a.b0=(1+o*i)*l,a.b1=a.a1,a.b2=(1-o*i)*l}function c(e,t,r,a){var i=_(r),n=k*e,s=y(n)*_(i)/t,o=w(n),u=1/(i+1+(i-1)*o+s);a.a1=-2*(i-1+(i+1)*o)*u,a.a2=(i+1+(i-1)*o-s)*u,a.b0=i*(i+1-(i-1)*o+s)*u,a.b1=2*i*(i-1-(i+1)*o)*u,a.b2=i*(i+1-(i-1)*o-s)*u}function f(e,t,r,a){var i=_(r),n=k*e,s=y(n)*_(i)/t,o=w(n),u=1/(i+1-(i-1)*o+s);a.a1=2*(i-1-(i+1)*o)*u,a.a2=(i+1-(i-1)*o-s)*u,a.b0=i*(i+1+(i-1)*o+s)*u,a.b1=-2*i*(i-1+(i+1)*o)*u,a.b2=i*(i+1+(i-1)*o-s)*u}function h(e,t,r,h,p){switch(e){case"lowpass":a(t,r,p);break;case"highpass":i(t,r,p);break;case"bandpass_constant_skirt":n(t,r,p);break;case"bandpass_constant_peak":s(t,r,p);break;case"notch":o(t,r,p);break;case"allpass":u(t,r,p);break;case"peaking":l(t,r,h,p);break;case"lowshelf":c(t,r,h,p);break;case"highshelf":f(t,r,h,p)}switch(e){case"lowpass":case"highpass":case"bandpass_constant_skirt":case"bandpass_constant_peak":case"notch":case"allpass":1!=h&&(p.b0*=h,p.b1*=h,p.b2*=h);break;case"peaking":case"lowshelf":case"highshelf":}}function p(e,t,r,a,i){for(var n=0;i>n;n++){var s=e.b0*r[n]+e.b1*t.xn_1[n]+e.b2*t.xn_2[n]-e.a1*t.yn_1[n]-e.a2*t.yn_2[n];a[n]=s,t.xn_2[n]=t.xn_1[n],t.xn_1[n]=r[n],t.yn_2[n]=t.yn_1[n],t.yn_1[n]=s}}var d=e("babel-runtime/helpers/get")["default"],b=e("babel-runtime/helpers/inherits")["default"],m=e("babel-runtime/helpers/create-class")["default"],v=e("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(r,"__esModule",{value:!0});var g=e("../core/base-lfo"),y=Math.sin,w=Math.cos,k=Math.PI,_=Math.sqrt,x=function(e){function t(e){v(this,t);var r={filterType:"lowpass",f0:1,gain:1,q:1};d(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r)}return b(t,e),m(t,[{key:"initialize",value:function(){d(Object.getPrototypeOf(t.prototype),"initialize",this).call(this);var e=this.streamParams.frameRate;if(!e||0>=e)throw new Error("This Operator requires a frameRate higher than 0.");var r,a=this.params.f0/e,i=this.params.gain;this.params.q&&(r=this.params.q),this.params.bw&&(r=this.params.f0/this.params.bw),this.coefs={b0:0,b1:0,b2:0,a1:0,a2:0};var n=this.streamParams.frameSize;this.state={xn_1:new Float32Array(n),xn_2:new Float32Array(n),yn_1:new Float32Array(n),yn_2:new Float32Array(n)},h(this.params.filterType,a,r,i,this.coefs)}},{key:"process",value:function(e,t,r){p(this.coefs,this.state,t,this.outFrame,t.length),this.output(e,this.outFrame,r)}}]),t}(g);r["default"]=x,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42}],3:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/base-lfo"),l=o(u),c=e("jsfft"),f=(o(c),e("jsfft/lib/complex_array")),h=o(f),p=e("../utils/fft-windows"),d=o(p),b=Math.sqrt,m=function(e){for(;e%2===0&&e>1;)e/=2;return 1===e},v=function(e){function t(e){s(this,t);var r={fftSize:1024,windowName:"hann",outType:"magnitude"};if(a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),!m(this.params.fftSize))throw new Error("fftSize must be a power of two")}return i(t,e),n(t,[{key:"initialize",value:function(){a(Object.getPrototypeOf(t.prototype),"initialize",this).call(this);var e=this.parent.streamParams.frameSize,r=this.params.fftSize;this.appliedWindowSize=r>e?e:r,this.normalizeCoefs={linear:0,power:0},this.window=new Float32Array(this.appliedWindowSize),this.complexFrame=new h["default"].ComplexArray(r),d["default"](this.params.windowName,this.window,this.appliedWindowSize,this.normalizeCoefs),this.windowedFrame=new Float32Array(r)}},{key:"configureStream",value:function(){this.streamParams.frameSize=this.params.fftSize/2+1}},{key:"process",value:function(e,t,r){var a=this,i=this.parent.streamParams.frameSize,n=this.streamParams.frameSize,s=this.streamParams.sourceSampleRate,o=this.params.fftSize;t=i>o?t.subarray(0,o):t;for(var u=0;u<this.appliedWindowSize;u++)this.windowedFrame[u]=t[u]*this.window[u];this.complexFrame.map(function(e,t){e.real=a.windowedFrame[t],e.imag=0});var l=this.complexFrame.FFT(),c=1/o,f=l.real[0],h=l.imag[0];this.outFrame[0]=(f*f+h*h)*c;var p=l.real[o/2],d=l.imag[o/2];this.outFrame[o/2]=(p*p+d*d)*c;for(var u=1,m=o-1;o/2>u;u++,m--){var v=l.real[u]+l.real[m],g=l.imag[u]-l.imag[m];this.outFrame[u]=(v*v+g*g)*c}if("magnitude"===this.params.outType)for(var u=0;n>u;u++)this.outFrame[u]=b(this.outFrame[u]);this.time=e+i/s/2,this.output()}}]),t}(l["default"]);r["default"]=v,t.exports=r["default"]},{"../core/base-lfo":1,"../utils/fft-windows":30,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43,jsfft:117,"jsfft/lib/complex_array":116}],4:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/base-lfo"),l=o(u),c=function(e){function t(e){s(this,t);var r={frameSize:512,centeredTimeTag:!1};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.frameIndex=0}return i(t,e),n(t,[{key:"configureStream",value:function(){this.params.hopSize||(this.params.hopSize=this.params.frameSize),this.streamParams.frameSize=this.params.frameSize,this.streamParams.frameRate=this.streamParams.sourceSampleRate/this.params.hopSize}},{key:"reset",value:function(){this.frameIndex=0,a(Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"finalize",value:function(){for(var e=this.frameIndex,r=this.outFrame.length;r>e;e++)this.outFrame[e]=0;this.output(),a(Object.getPrototypeOf(t.prototype),"finalize",this).call(this)}},{key:"process",value:function(e,t,r){for(var a=this.streamParams.sourceSampleRate,i=1/a,n=this.frameIndex,s=this.streamParams.frameSize,o=t.length,u=0,l=this.params.hopSize,c=this.outFrame;o>u;){var f=0;if(0>n&&(f=-n),o>f){u+=f;var h=o-u,p=s-n;h>=p&&(h=p);var d=t.subarray(u,u+h);c.set(d,n),u+=h,n+=h,n===s&&(this.params.centeredTimeTag?this.time=e+(u-s/2)*i:this.time=e+(u-s)*i,this.metaData=r,this.output(),s>l&&c.set(c.subarray(l,s),0),n-=l)}else{var b=o-u;n+=b,u+=b}}this.frameIndex=n}}]),t}(l["default"]);r["default"]=c,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],5:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/base-lfo"),l=o(u),c=function(e){function t(e){s(this,t);var r={normalize:!1};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r)}return i(t,e),n(t,[{key:"configureStream",value:function(){this.streamParams.frameSize=1}},{key:"process",value:function(e,t,r){for(var a=t.length,i=0,n=0;a>n;n++)i+=t[n]*t[n];this.params.normalize&&(i/=a),this.time=e,this.outFrame[0]=Math.sqrt(i),this.metaData=r,this.output()}}]),t}(l["default"]);r["default"]=c,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],6:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/base-lfo"),l=o(u),c=function(e){function t(e){s(this,t);var r={};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r)}return i(t,e),n(t,[{key:"configureStream",value:function(){this.streamParams.frameSize=2}},{key:"process",value:function(e,t,r){for(var a=+(1/0),i=-(1/0),n=0,s=t.length;s>n;n++){var o=t[n];a>o&&(a=o),o>i&&(i=o)}this.time=e,this.outFrame[0]=a,this.outFrame[1]=i,this.metaData=r,this.output()}}]),t}(l["default"]);r["default"]=c,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],7:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/base-lfo"),l=o(u),c=function(e){function t(e){s(this,t);var r={order:10,zeroFill:!0};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.sum=0,this.counter=0,this.queue=new Float32Array(this.params.order)}return i(t,e),n(t,[{key:"reset",value:function(){a(Object.getPrototypeOf(t.prototype),"reset",this).call(this);for(var e=0,r=this.queue.length;r>e;e++)this.queue[e]=0;this.sum=0,this.counter=0}},{key:"process",value:function(e,t,r){for(var a=this.outFrame,i=this.streamParams.frameSize,n=this.params.order,s=this.params.order-1,o=this.params.zeroFill,u=void 0,l=0;i>l;l++){var c=t[l];this.sum-=this.queue[0],this.sum+=c,o?a[l]=this.sum/n:(this.counter<n?(this.counter+=1,u=this.counter):u=n,a[l]=this.sum/u),this.queue.set(this.queue.subarray(1),0),this.queue[s]=c}this.output(e,a,r)}}]),t}(l["default"]);r["default"]=c,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],8:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/core-js/array/from")["default"],u=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("../core/base-lfo"),c=u(l),f=function(e){function t(e){s(this,t);var r={order:9};if(a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.params.order%2===0)throw new Error("order must be an odd number");this.queue=new Float32Array(this.params.order),this.sorter=[]}return i(t,e),n(t,[{key:"reset",value:function(){a(Object.getPrototypeOf(t.prototype),"reset",this).call(this);for(var e=0,r=this.queue.length;r>e;e++)this.queue[e]=0}},{key:"process",value:function(e,t,r){for(var a=this.outFrame,i=t.length,n=this.params.order,s=this.params.order-1,u=Math.floor(n/2),l=0;i>l;l++){var c=t[l];this.queue.set(this.queue.subarray(1),0),this.queue[s]=c,this.sorter=o(this.queue.values()),this.sorter.sort(function(e,t){return e-t}),a[l]=this.sorter[u]}this.output(e,a,r)}}]),t}(c["default"]);r["default"]=f,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/core-js/array/from":32,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],9:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/base-lfo"),l=o(u),c=function(e){function t(e){s(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{})}return i(t,e),n(t,[{key:"process",value:function(e,t,r){this.outFrame.set(t,0),this.time=e,this.metaData=r,this.output()}}]),t}(l["default"]);r["default"]=c,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],10:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/base-lfo"),l=o(u),c=function(e){function t(e){s(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{}),this.params.type=this.params.type||"scalar",this.params.onProcess&&(this.callback=this.params.onProcess.bind(this))}return i(t,e),n(t,[{key:"configureStream",value:function(){"vector"===this.params.type&&this.params.frameSize&&(this.streamParams.frameSize=this.params.frameSize)}},{key:"process",value:function(e,t,r){if("vector"===this.params.type){var a=this.callback(e,t,this.outFrame);void 0!==a&&(e=a)}else for(var i=0,n=t.length;n>i;i++)this.outFrame[i]=this.callback(t[i],i);this.time=e,this.metaData=r,this.output()}}]),t}(l["default"]);r["default"]=c,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],11:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/core-js/promise")["default"],u=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("../core/base-lfo"),c=u(l),f="\nvar isInfiniteBuffer = false;\nvar stack = [];\nvar buffer;\nvar bufferLength;\nvar currentIndex;\n\nfunction init() {\n  buffer = new Float32Array(bufferLength);\n  stack.length = 0;\n  currentIndex = 0;\n}\n\nfunction append(block) {\n  var availableSpace = bufferLength - currentIndex;\n  var currentBlock;\n  // return if already full\n  if (availableSpace <= 0) { return; }\n\n  if (availableSpace < block.length) {\n    currentBlock = block.subarray(0, availableSpace);\n  } else {\n    currentBlock = block;\n  }\n\n  buffer.set(currentBlock, currentIndex);\n  currentIndex += currentBlock.length;\n\n  if (isInfiniteBuffer && currentIndex === buffer.length) {\n    stack.push(buffer);\n\n    currentBlock = block.subarray(availableSpace);\n    buffer = new Float32Array(buffer.length);\n    buffer.set(currentBlock, 0);\n    currentIndex = currentBlock.length;\n  }\n}\n\nself.addEventListener('message', function(e) {\n  switch (e.data.command) {\n    case 'init':\n      if (isFinite(e.data.duration)) {\n        bufferLength = e.data.sampleRate * e.data.duration;\n      } else {\n        isInfiniteBuffer = true;\n        bufferLength = e.data.sampleRate * 10;\n      }\n\n      init();\n      break;\n\n    case 'process':\n      var block = new Float32Array(e.data.buffer);\n      append(block);\n\n      // if the buffer is full return it, only works with finite buffers\n      if (!isInfiniteBuffer && currentIndex === bufferLength) {\n        var buf = buffer.buffer.slice(0);\n        self.postMessage({ buffer: buf }, [buf]);\n        init();\n      }\n      break;\n\n    case 'finalize':\n      if (!isInfiniteBuffer) {\n        // @TODO add option to not clip the returned buffer\n        // values in FLoat32Array are 4 bytes long (32 / 8)\n        var copy = buffer.buffer.slice(0, currentIndex * (32 / 8));\n        self.postMessage({ buffer: copy }, [copy]);\n      } else {\n        var copy = new Float32Array(stack.length * bufferLength + currentIndex);\n        stack.forEach(function(buffer, index) {\n          copy.set(buffer, bufferLength * index);\n        });\n\n        copy.set(buffer.subarray(0, currentIndex), stack.length * bufferLength);\n        self.postMessage({ buffer: copy.buffer }, [copy.buffer]);\n      }\n      init();\n      break;\n  }\n}, false)",h=void 0,p=function(e){function t(e){s(this,t);var r={duration:10};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.metaData={},this.params.ctx?this.ctx=this.params.ctx:(h||(h=new window.AudioContext),this.ctx=h);var i=new Blob([f],{type:"text/javascript"});this.worker=new Worker(window.URL.createObjectURL(i))}return i(t,e),n(t,[{key:"initialize",value:function(){a(Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.worker.postMessage({command:"init",duration:this.params.duration,sampleRate:this.streamParams.sourceSampleRate})}},{key:"start",value:function(){this._isStarted=!0}},{key:"stop",value:function(){this.finalize(),this._isStarted=!1}},{key:"finalize",value:function(){this._isStarted&&this.worker.postMessage({command:"finalize"})}},{key:"process",value:function(e,t,r){if(this._isStarted){this.outFrame=new Float32Array(t);var a=this.outFrame.buffer;this.worker.postMessage({command:"process",buffer:a},[a])}}},{key:"retrieve",value:function(){var e=this;return new o(function(t,r){var a=function i(r){e._isStarted=!1,e.worker.removeEventListener("message",i,!1);var a=new Float32Array(r.data.buffer),n=a.length,s=e.streamParams.sourceSampleRate,o=e.ctx.createBuffer(1,n,s),u=o.getChannelData(0);u.set(a,0),t(o)};e.worker.addEventListener("message",a,!1)})}}]),t}(c["default"]);r["default"]=p,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/core-js/promise":38,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],12:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/core-js/object/assign")["default"],u=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("../core/base-lfo"),c=u(l),f=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];s(this,t);var i=o({duration:1,min:-1,max:1,width:300,height:150,isSynchronized:!1},r);if(a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,i),!this.params.canvas)throw new Error("params.canvas is mandatory and must be canvas DOM element");this.canvas=this.params.canvas,this.ctx=this.canvas.getContext("2d"),this.cachedCanvas=document.createElement("canvas"),this.cachedCtx=this.cachedCanvas.getContext("2d"),this.ctx.canvas.width=this.cachedCtx.canvas.width=this.params.width,this.ctx.canvas.height=this.cachedCtx.canvas.height=this.params.height,this.previousTime=0,this.lastShiftError=0,this.currentPartialShift=0}return i(t,e),n(t,[{key:"reset",value:function(){a(Object.getPrototypeOf(t.prototype),"reset",this).call(this),this.ctx.clearRect(0,0,this.params.width,this.params.height),this.cachedCtx.clearRect(0,0,this.params.width,this.params.height)}},{key:"setupStream",value:function(){a(Object.getPrototypeOf(t.prototype),"setupStream",this).call(this),this.previousFrame=new Float32Array(this.streamParams.frameSize)}},{key:"getYPosition",value:function(e){var t=this.params.min,r=this.params.max,a=this.params.height;return(0-a)*(e-t)/(r-t)+a}},{key:"process",value:function(e,r,i){a(Object.getPrototypeOf(t.prototype),"process",this).call(this,e,r,i)}},{key:"scrollModeDraw",value:function(e,t){var r=this.params.width,a=this.params.height,i=this.params.duration,n=this.ctx,s=e-this.previousTime,o=s/i*r-this.lastShiftError,u=Math.round(o);this.lastShiftError=u-o;var l=u-this.currentPartialShift;this.shiftCanvas(l),this.params.isSynchronized&&this.synchronizer&&this.synchronizer.shiftSiblings(l,this),n.save(),n.translate(r,0),this.drawCurve(t,this.previousFrame,u),n.restore(),this.currentPartialShift-=u,this.cachedCtx.clearRect(0,0,r,a),this.cachedCtx.drawImage(this.canvas,0,0,r,a),this.previousFrame.set(t,0),this.previousTime=e}},{key:"shiftCanvas",value:function(e){var t=this.params.width,r=this.params.height,a=this.ctx;this.currentPartialShift+=e,a.clearRect(0,0,t,r),a.save(),a.drawImage(this.cachedCanvas,this.currentPartialShift,0,t-this.currentPartialShift,r,0,0,t-this.currentPartialShift,r),a.restore()}},{key:"drawCurve",value:function(e,t,r){console.error("must be implemented")}},{key:"duration",set:function(e){this.params.duration=e}},{key:"min",set:function(e){this.params.min=e}},{key:"max",set:function(e){this.params.max=e}}]),t}(c["default"]);r["default"]=f,t.exports=f,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/core-js/object/assign":33,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],13:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./base-draw"),l=o(u),c=e("../utils/draw-utils"),f=function(e){function t(e){s(this,t);var r={trigger:!1,radius:0,line:!0};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.currentXPosition=0}return i(t,e),n(t,[{key:"initialize",value:function(){if(a(Object.getPrototypeOf(t.prototype),"initialize",this).call(this),!this.params.colors){this.params.colors=[];for(var e=0,r=this.streamParams.frameSize;r>e;e++)this.params.colors.push(c.getRandomColor())}}},{key:"setTrigger",value:function(e){this.params.trigger=e,this.ctx.clearRect(0,0,this.params.width,this.params.height),this.cachedCtx.clearRect(0,0,this.params.width,this.params.height),this.currentXPosition=0,this.lastShiftError=0}},{key:"process",value:function(e,r){this.params.trigger?this.triggerModeDraw(e,r):this.scrollModeDraw(e,r),a(Object.getPrototypeOf(t.prototype),"process",this).call(this,e,r)}},{key:"triggerModeDraw",value:function(e,t){var r=this.params.width,a=this.params.height,i=this.params.duration,n=this.ctx,s=e-this.previousTime,o=s/i*r-this.lastShiftError,u=Math.round(o);this.lastShiftError=u-o,this.currentXPosition+=u,n.save(),n.translate(this.currentXPosition,0),n.clearRect(-u,0,u,a),this.drawCurve(t,u),n.restore(),this.currentXPosition>r&&(this.currentXPosition-=r,n.save(),n.translate(this.currentXPosition,0),n.clearRect(-u,0,u,a),this.drawCurve(t,this.previousFrame,u),n.restore())}},{key:"drawCurve",value:function(e,t,r){for(var a=this.params.colors,i=this.ctx,n=this.params.radius,s=0,o=e.length;o>s;s++){i.save(),i.fillStyle=a[s],i.strokeStyle=a[s];var u=this.getYPosition(e[s]);if(n>0&&(i.beginPath(),i.arc(0,u,n,0,2*Math.PI,!1),i.fill(),i.closePath()),t&&this.params.line){var l=this.getYPosition(t[s]);i.beginPath(),i.moveTo(-r,l),i.lineTo(0,u),i.stroke(),i.closePath()}i.restore()}}}]),t}(l["default"]);r["default"]=f,t.exports=r["default"]},{"../utils/draw-utils":29,"./base-draw":12,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],14:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/base-lfo"),l=o(u),c=function(e){function t(e,r){s(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{}),this.process=r.bind(this),this.data=this.outFrame=[]}return i(t,e),n(t,[{key:"setupStream",value:function(){a(Object.getPrototypeOf(t.prototype),"setupStream",this).call(this),this.data.length=0}},{key:"reset",value:function(){this.data.length=0}}]),t}(l["default"]);r["default"]=c,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],15:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/core-js/promise")["default"],u=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("../core/base-lfo"),c=u(l),f="\nvar _separateArrays = false;\nvar _data = [];\nvar _separateArraysData = { time: [], data: [] };\n\nfunction init() {\n  _data.length = 0;\n  _separateArraysData.time.length = 0;\n  _separateArraysData.data.length = 0;\n}\n\nfunction process(time, data) {\n  if (_separateArrays) {\n    _separateArraysData.time.push(time);\n    _separateArraysData.data.push(data);\n  } else {\n    var datum = { time: time, data: data };\n    _data.push(datum);\n  }\n}\n\nself.addEventListener('message', function(e) {\n  switch (e.data.command) {\n    case 'init':\n      _separateArrays = e.data.separateArrays;\n      init();\n      break;\n    case 'process':\n      var time = e.data.time;\n      var data = new Float32Array(e.data.buffer);\n      process(time, data);\n      break;\n    case 'finalize':\n      var data = _separateArrays ? _separateArraysData : _data;\n      self.postMessage({ data: data });\n      init();\n      break;\n  }\n});\n",h=function(e){function t(e){s(this,t);var r={separateArrays:!1};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this._isStarted=!1;var i=new Blob([f],{type:"text/javascript"});this.worker=new Worker(window.URL.createObjectURL(i))}return i(t,e),n(t,[{key:"initialize",value:function(){a(Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.worker.postMessage({command:"init",separateArrays:this.params.separateArrays})}},{key:"start",value:function(){this._isStarted=!0}},{key:"stop",value:function(){this.finalize(),this._isStarted=!1}},{key:"finalize",value:function(){this._isStarted&&this.worker.postMessage({command:"finalize"})}},{key:"process",value:function(e,t,r){if(this._isStarted){this.outFrame=new Float32Array(t);var a=this.outFrame.buffer;this.worker.postMessage({command:"process",time:e,buffer:a},[a])}}},{key:"retrieve",value:function(){var e=this;return new o(function(t,r){var a=function i(r){e._started=!1,e.worker.removeEventListener("message",i,!1),t(r.data.data)};e.worker.addEventListener("message",a,!1)})}}]),t}(c["default"]);r["default"]=h,
t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/core-js/promise":38,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],16:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/base-lfo"),l=o(u),c=e("../utils/socket-utils"),f=function(e){function t(e){s(this,t);var r={port:3030,address:window.location.hostname};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.socket=null,this.initConnection()}return i(t,e),n(t,[{key:"initConnection",value:function(){var e=this,t="ws://"+this.params.address+":"+this.params.port;this.socket=new WebSocket(t),this.socket.binaryType="arraybuffer",this.socket.onopen=function(){e.params.onopen()},this.socket.onclose=function(){},this.socket.onmessage=function(){},this.socket.onerror=function(e){console.error(e)}}},{key:"process",value:function(e,t,r){var a=c.encodeMessage(e,t,r);this.socket.send(a)}}]),t}(l["default"]);r["default"]=f,t.exports=r["default"]},{"../core/base-lfo":1,"../utils/socket-utils":31,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],17:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"],u=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("../core/base-lfo"),c=o(l),f=e("ws"),h=u(f),p=e("../utils/socket-utils"),d=function(e){function t(e){s(this,t);var r={port:3031};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.server=null,this.initServer()}return i(t,e),n(t,[{key:"initServer",value:function(){this.server=new h.Server({port:this.params.port})}},{key:"process",value:function(e,t,r){var a=p.encodeMessage(e,t,r),i=p.arrayBufferToBuffer(a);this.server.clients.forEach(function(e){e.send(i)})}}]),t}(c["default"]);r["default"]=d,t.exports=r["default"]},{"../core/base-lfo":1,"../utils/socket-utils":31,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43,"babel-runtime/helpers/interop-require-wildcard":44,ws:118}],18:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./base-draw"),l=o(u),c=(e("../utils/draw-utils"),function(e){function t(e){s(this,t);var r={scale:1};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r)}return i(t,e),n(t,[{key:"process",value:function(e,r,i){this.scrollModeDraw(e,r),a(Object.getPrototypeOf(t.prototype),"process",this).call(this,e,r,i)}},{key:"drawCurve",value:function(e,t,r){for(var a=this.ctx,i=this.params.height,n=this.params.scale,s=e.length/this.params.height,o=0;i>o;o++){var u=o*s,l=Math.floor(u),c=Math.ceil(u),f=e[l],h=e[c],p=u-l,d=h-f,b=f,m=d*p+b,v=this.params.height-o,g=Math.round(m*n*255);a.fillStyle="rgba("+g+", "+g+", "+g+", 1)",a.fillRect(-r,v,r,-1)}}},{key:"scale",set:function(e){this.params.scale=e},get:function(){return this.params.scale}}]),t}(l["default"]));r["default"]=c,t.exports=r["default"]},{"../utils/draw-utils":29,"./base-draw":12,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],19:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./base-draw"),l=o(u),c=e("../utils/draw-utils"),f=function(e){function t(e){s(this,t);var r={min:0,max:1,scale:1};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r)}return i(t,e),n(t,[{key:"initialize",value:function(){a(Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this._rafFlag=!0,this.params.color||(this.params.color=c.getRandomColor())}},{key:"finalize",value:function(){a(Object.getPrototypeOf(t.prototype),"finalize",this).call(this),this._rafFlag=!1}},{key:"process",value:function(e,r,i){var n=this;this._rafFlag&&(this._rafFlag=!1,requestAnimationFrame(function(){return n.drawCurve(r)})),a(Object.getPrototypeOf(t.prototype),"process",this).call(this,e,r,i)}},{key:"drawCurve",value:function(e){var t=e.length,r=this.params.width,a=this.params.height,i=r/t,n=this.params.scale,s=this.ctx;s.fillStyle=this.params.color,s.clearRect(0,0,r,a);for(var o=0;t>o;o++){var u=o/t*r,l=this.getYPosition(e[o]*n);s.fillRect(u,l,i,a-l)}this._rafFlag=!0}},{key:"scale",set:function(e){this.params.scale=e}}]),t}(l["default"]);r["default"]=f,t.exports=r["default"]},{"../utils/draw-utils":29,"./base-draw":12,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],20:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){i(this,e),this.views=[];for(var t=arguments.length,r=Array(t),a=0;t>a;a++)r[a]=arguments[a];this.add.apply(this,r)}return a(e,[{key:"add",value:function(){for(var e=this,t=arguments.length,r=Array(t),a=0;t>a;a++)r[a]=arguments[a];r.forEach(function(t){e.install(t)})}},{key:"install",value:function(e){this.views.push(e),e.params.isSynchronized=!0,e.synchronizer=this}},{key:"shiftSiblings",value:function(e,t){this.views.forEach(function(r){r!==t&&r.shiftCanvas(e)})}}]),e}();r["default"]=n,t.exports=r["default"]},{"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40}],21:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./base-draw"),l=o(u),c=e("../utils/draw-utils"),f=function(e){function t(e){s(this,t);var r={colorScheme:"none"};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r)}return i(t,e),n(t,[{key:"initialize",value:function(){a(Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.params.color||(this.params.color=c.getRandomColor())}},{key:"process",value:function(e,r){this.scrollModeDraw(e,r),a(Object.getPrototypeOf(t.prototype),"process",this).call(this,e,r)}},{key:"drawCurve",value:function(e,t,r){var a=this.ctx,i=void 0,n=e[1]/2,s=this.getYPosition(e[0]),o=this.getYPosition(e[0]-n),u=this.getYPosition(e[0]+n),l=void 0,f=void 0,h=void 0;switch(t&&(l=t[1]/2,f=this.getYPosition(t[0]-l),h=this.getYPosition(t[0]+l)),this.params.colorScheme){case"none":a.fillStyle=this.params.color;break;case"hue":i=a.createLinearGradient(-r,0,0,0),t?i.addColorStop(0,"hsl("+c.getHue(t[2])+", 100%, 50%)"):i.addColorStop(0,"hsl("+c.getHue(e[2])+", 100%, 50%)"),i.addColorStop(1,"hsl("+c.getHue(e[2])+", 100%, 50%)"),a.fillStyle=i;break;case"opacity":var p=c.hexToRGB(this.params.color);i=a.createLinearGradient(-r,0,0,0),t?i.addColorStop(0,"rgba("+p.join(",")+","+t[2]+")"):i.addColorStop(0,"rgba("+p.join(",")+","+e[2]+")"),i.addColorStop(1,"rgba("+p.join(",")+","+e[2]+")"),a.fillStyle=i}a.save(),a.beginPath(),a.moveTo(0,s),a.lineTo(0,u),t&&(a.lineTo(-r,h),a.lineTo(-r,f)),a.lineTo(0,o),a.closePath(),a.fill(),a.restore()}}]),t}(l["default"]);r["default"]=f,t.exports=f,t.exports=r["default"]},{"../utils/draw-utils":29,"./base-draw":12,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],22:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./base-draw"),l=o(u),c=e("../utils/draw-utils"),f=function(e){function t(e){s(this,t);var r={};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r)}return i(t,e),n(t,[{key:"initialize",value:function(){a(Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.params.color||(this.params.color=c.getRandomColor())}},{key:"process",value:function(e,r,i){this.scrollModeDraw(e,r),a(Object.getPrototypeOf(t.prototype),"process",this).call(this,e,r,i)}},{key:"drawCurve",value:function(e,t,r){var a=this.ctx,i=this.getYPosition(e[0]),n=this.getYPosition(e[1]);if(a.save(),a.fillStyle=this.params.color,a.beginPath(),a.moveTo(0,this.getYPosition(0)),a.lineTo(0,n),t){var s=this.getYPosition(t[0]),o=this.getYPosition(t[1]);a.lineTo(-r,o),a.lineTo(-r,s)}a.lineTo(0,i),a.closePath(),a.fill(),a.restore()}}]),t}(l["default"]);r["default"]=f,t.exports=r["default"]},{"../utils/draw-utils":29,"./base-draw":12,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],23:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./audio-in"),l=o(u),c="\nself.addEventListener('message', function process(e) {\n  var blockSize = e.data.options.blockSize;\n  var sampleRate = e.data.options.sampleRate;\n  var buffer = new Float32Array(e.data.buffer);\n\n  var length = buffer.length;\n  // var block = new Float32Array(blockSize);\n\n  for (var index = 0; index < length; index += blockSize) {\n    var copySize = length - index;\n    if (copySize > blockSize) { copySize = blockSize; }\n\n    var block = buffer.subarray(index, index + copySize);\n    block = new Float32Array(block);\n\n    postMessage({ buffer: block.buffer, time: index / sampleRate }, [block.buffer]);\n  }\n}, false)",f=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(s(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,{}),this.metaData={},!(this.params.src&&this.params.src instanceof AudioBuffer))throw new Error("An AudioBuffer source must be given")}return i(t,e),n(t,[{key:"configureStream",value:function(){this.streamParams.frameSize=this.params.frameSize,this.streamParams.frameRate=this.params.src.sampleRate/this.params.frameSize,this.streamParams.sourceSampleRate=this.params.src.sampleRate}},{key:"initialize",value:function(){a(Object.getPrototypeOf(t.prototype),"initialize",this).call(this);var e=new Blob([c],{type:"text/javascript"});this.worker=new Worker(window.URL.createObjectURL(e)),this.worker.addEventListener("message",this.process.bind(this),!1)}},{key:"start",value:function(){this.initialize(),this.reset();var e=this.src.getChannelData(this.channel).buffer;this.worker.postMessage({options:{sampleRate:this.streamParams.sourceSampleRate,blockSize:this.streamParams.frameSize},buffer:e},[e])}},{key:"stop",value:function(){this.finalize()}},{key:"process",value:function(e){var t=new Float32Array(e.data.buffer);this.outFrame.set(t,0),this.time=e.data.time,this.output()}}]),t}(l["default"]);r["default"]=f,t.exports=r["default"]},{"./audio-in":25,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],24:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./audio-in"),l=o(u),c=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s(this,t);a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.metaData={}}return i(t,e),n(t,[{key:"configureStream",value:function(){this.streamParams.frameSize=this.params.frameSize,this.streamParams.frameRate=this.ctx.sampleRate/this.params.frameSize,this.streamParams.sourceSampleRate=this.ctx.sampleRate}},{key:"initialize",value:function(){a(Object.getPrototypeOf(t.prototype),"initialize",this).call(this);var e=this.streamParams.frameSize;this.scriptProcessor=this.ctx.createScriptProcessor(e,1,1),this.scriptProcessor.onaudioprocess=this.process.bind(this),this.src.connect(this.scriptProcessor)}},{key:"start",value:function(){"relative"===this.params.timeType&&(this.time=0),this.initialize(),this.reset(),this.scriptProcessor.connect(this.ctx.destination)}},{key:"stop",value:function(){this.finalize(),this.scriptProcessor.disconnect()}},{key:"process",value:function(e){var t=e.inputBuffer.getChannelData(this.params.channel);this.time+=t.length/this.streamParams.sourceSampleRate,this.outFrame.set(t,0),this.output()}}]),t}(l["default"]);r["default"]=c,t.exports=r["default"]},{"./audio-in":25,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],25:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/base-lfo"),l=o(u),c=void 0,f=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s(this,t);var r={frameSize:512,channel:0};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.params.ctx?this.ctx=this.params.ctx:(c||(c=new window.AudioContext),this.ctx=c),this.src=this.params.src,this.time=0,this.metaData={}}return i(t,e),n(t,[{key:"start",value:function(){}},{key:"stop",value:function(){}}]),t}(l["default"]);r["default"]=f,t.exports=f,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],26:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/base-lfo"),l=o(u),c=function(e){function t(e){s(this,t);var r={timeType:"absolute"};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.params.ctx||"undefined"!=typeof process||(this.params.ctx=new AudioContext),this._isStarted=!1,this._startTime=void 0}return i(t,e),n(t,[{key:"configureStream",value:function(){this.streamParams.frameSize=this.params.frameSize,this.streamParams.frameRate=this.params.frameRate,this.streamParams.sourceSampleRate=this.params.sourceSampleRate||this.params.frameRate}},{key:"start",value:function(){this._isStarted=!0,this._startTime=void 0,this.initialize(),this.reset()}},{key:"stop",value:function(){this._isStarted=!1,this._startTime=void 0,this.finalize()}},{key:"process",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(this._isStarted){var a=!isNaN(parseFloat(e))&&isFinite(e)?e:this.params.ctx.currentTime;this._startTime||(this._startTime=a),"relative"===this.params.timeType&&(a=e-this._startTime),void 0===t.length&&(t=[t]),this.outFrame.set(t,0),this.time=a,this.metaData=r,this.output()}}}]),t}(l["default"]);r["default"]=c,t.exports=c,t.exports=r["default"]},{"../core/base-lfo":1,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],27:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/base-lfo"),l=o(u),c=e("../utils/socket-utils"),f=function(e){function t(e){s(this,t);var r={port:3031,address:window.location.hostname};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.socket=null,this.initConnection()}return i(t,e),n(t,[{key:"start",value:function(){this.initialize(),this.reset()}},{key:"configureStream",value:function(){this.streamParams.frameSize=this.params.frameSize,this.streamParams.frameRate=this.params.frameRate}},{key:"initConnection",value:function(){var e=this,t="ws://"+this.params.address+":"+this.params.port;this.socket=new WebSocket(t),this.socket.binaryType="arraybuffer",this.socket.onopen=function(){e.start()},this.socket.onclose=function(){},this.socket.onmessage=function(t){e.process(t.data)},this.socket.onerror=function(e){console.error(e)}}},{key:"process",value:function(e){var t=c.decodeMessage(e);this.time=t.time,this.outFrame=t.frame,this.metaData=t.metaData,this.output()}}]),t}(l["default"]);r["default"]=f,t.exports=r["default"]},{"../core/base-lfo":1,"../utils/socket-utils":31,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43}],28:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],n=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"],u=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("../core/base-lfo"),c=o(l),f=e("ws"),h=u(f),p=e("../utils/socket-utils"),d=function(e){function t(e){s(this,t);var r={port:3030};a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.clients=[],this.server=null,this.initServer(),this.start()}return i(t,e),n(t,[{key:"start",value:function(){this.initialize(),this.reset()}},{key:"initServer",value:function(){var e=this;this.server=new h.Server({port:this.params.port}),this.server.on("connection",function(t){t.on("message",e.process.bind(e))})}},{key:"process",value:function(e){var t=p.bufferToArrayBuffer(e),r=p.decodeMessage(t);this.time=r.time,this.outFrame=r.frame,this.metaData=r.metaData,this.output()}}]),t}(c["default"]);r["default"]=d,t.exports=r["default"]},{"../core/base-lfo":1,"../utils/socket-utils":31,"babel-runtime/helpers/class-call-check":39,"babel-runtime/helpers/create-class":40,"babel-runtime/helpers/get":41,"babel-runtime/helpers/inherits":42,"babel-runtime/helpers/interop-require-default":43,"babel-runtime/helpers/interop-require-wildcard":44,ws:118}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=function(){for(var e="0123456789ABCDEF".split(""),t="#",r=0;6>r;r++)t+=e[Math.floor(16*Math.random())];return t},i=function(e){var t=0,r=1,a=270,i=0;return(i-a)*(e-t)/(r-t)+a},n=function(e){e=e.substring(1,7);var t=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16);return[t,r,a]};r["default"]={getRandomColor:a,getHue:i,hexToRGB:n},t.exports=r["default"]},{}],30:[function(e,t,r){"use strict";function a(e,t,r){for(var a=0,i=0,n=2*l/t,s=0;t>s;s++){var o=s*n,u=.5-.5*c(o);e[s]=u,a+=u,i+=u*u}r.linear=t/a,r.power=h(t/i)}function i(e,t,r){for(var a=0,i=0,n=2*l/t,s=0;t>s;s++){var o=s*n,u=.54-.46*c(o);e[s]=u,a+=u,i+=u*u}r.linear=t/a,r.power=h(t/i)}function n(e,t,r){for(var a=0,i=0,n=2*l/t,s=0;t>s;s++){var o=s*n,u=.42-.5*c(o)+.08*c(2*o);e[s]=u,a+=u,i+=u*u}r.linear=t/a,r.power=h(t/i)}function s(e,t,r){for(var a=0,i=0,n=.35875,s=.48829,o=.14128,u=.01168,f=2*l/t,p=0;t>p;p++){var d=p*f,b=n-s*c(d)+o*c(2*d);-u*c(3*d),e[p]=b,a+=b,i+=b*b}r.linear=t/a,r.power=h(t/i)}function o(e,t,r){for(var a=0,i=0,n=l/t,s=0;t>s;s++){var o=s*n,u=f(o);e[s]=u,a+=u,i+=u*u}r.linear=t/a,r.power=h(t/i)}function u(e,t,r){for(var a=0;t>a;a++)e[a]=1}Object.defineProperty(r,"__esModule",{value:!0});var l=Math.PI,c=Math.cos,f=Math.sin,h=Math.sqrt;r["default"]=function(){return function(e,t,r,l){switch(e=e.toLowerCase()){case"hann":case"hanning":a(t,r,l);break;case"hamming":i(t,r,l);break;case"blackman":n(t,r,l);break;case"blackmanharris":s(t,r,l);break;case"sine":o(t,r,l);break;case"rectangle":u(t,r,l)}}}(),t.exports=r["default"]},{}],31:[function(e,t,r){(function(e){"use strict";function r(e){return String.fromCharCode.apply(null,e)}function a(e){for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),a=0,i=e.length;i>a;a++)r[a]=e.charCodeAt(a);return r}t.exports.bufferToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a<e.length;++a)r[a]=e[a];return t},t.exports.arrayBufferToBuffer=function(t){for(var r=new e(t.byteLength),a=new Uint8Array(t),i=0;i<r.length;++i)r[i]=a[i];return r},t.exports.encodeMessage=function(e,t,r){var i=new Float64Array(1);i[0]=e;var n=new Uint16Array(i.buffer),s=new Uint16Array(1);s[0]=t.length;var o=new Uint16Array(t.buffer),u=a(JSON.stringify(r)),l=n.length+s.length+o.length+u.length,c=new Uint16Array(l);return c.set(n,0),c.set(s,n.length),c.set(o,n.length+s.length),c.set(u,n.length+s.length+o.length),c.buffer},t.exports.decodeMessage=function(e){var t=new Float64Array(e.slice(0,8)),a=t[0],i=new Uint16Array(e.slice(8,10)),n=i[0],s=4*n,o=new Float32Array(e.slice(10,10+s)),u=new Uint16Array(e.slice(10+s)),l=r(u);return l=JSON.parse(l.replace(/\u0000/g,"")),{time:a,frame:o,metaData:l}}}).call(this,e("buffer").Buffer)},{buffer:112}],32:[function(e,t,r){t.exports={"default":e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":45}],33:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":46}],34:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":47}],35:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":48}],36:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":49}],37:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":50}],38:[function(e,t,r){t.exports={"default":e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":51}],39:[function(e,t,r){"use strict";r["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r.__esModule=!0},{}],40:[function(e,t,r){"use strict";var a=e("babel-runtime/core-js/object/define-property")["default"];r["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),a(e,i.key,i)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),r.__esModule=!0},{"babel-runtime/core-js/object/define-property":35}],41:[function(e,t,r){"use strict";var a=e("babel-runtime/core-js/object/get-own-property-descriptor")["default"];r["default"]=function(e,t,r){for(var i=!0;i;){var n=e,s=t,o=r;i=!1,null===n&&(n=Function.prototype);var u=a(n,s);if(void 0!==u){if("value"in u)return u.value;var l=u.get;return void 0===l?void 0:l.call(o)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=s,r=o,i=!0,u=c=void 0}},r.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":36}],42:[function(e,t,r){"use strict";var a=e("babel-runtime/core-js/object/create")["default"],i=e("babel-runtime/core-js/object/set-prototype-of")["default"];r["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=a(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i?i(e,t):e.__proto__=t)},r.__esModule=!0},{"babel-runtime/core-js/object/create":34,"babel-runtime/core-js/object/set-prototype-of":37}],43:[function(e,t,r){"use strict";r["default"]=function(e){return e&&e.__esModule?e:{"default":e}},r.__esModule=!0},{}],44:[function(e,t,r){"use strict";r["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t},r.__esModule=!0},{}],45:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/$.core").Array.from},{"../../modules/$.core":57,"../../modules/es6.array.from":103,"../../modules/es6.string.iterator":110}],46:[function(e,t,r){e("../../modules/es6.object.assign"),t.exports=e("../../modules/$.core").Object.assign},{"../../modules/$.core":57,"../../modules/es6.object.assign":105}],47:[function(e,t,r){var a=e("../../modules/$");t.exports=function(e,t){return a.create(e,t)}},{"../../modules/$":79}],48:[function(e,t,r){var a=e("../../modules/$");t.exports=function(e,t,r){return a.setDesc(e,t,r)}},{"../../modules/$":79}],49:[function(e,t,r){var a=e("../../modules/$");e("../../modules/es6.object.get-own-property-descriptor"),t.exports=function(e,t){return a.getDesc(e,t)}},{"../../modules/$":79,"../../modules/es6.object.get-own-property-descriptor":106}],50:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":57,"../../modules/es6.object.set-prototype-of":107}],51:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$.core").Promise},{"../modules/$.core":57,"../modules/es6.object.to-string":108,"../modules/es6.promise":109,"../modules/es6.string.iterator":110,"../modules/web.dom.iterable":111}],52:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],53:[function(e,t,r){t.exports=function(){}},{}],54:[function(e,t,r){var a=e("./$.is-object");t.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":72}],55:[function(e,t,r){var a=e("./$.cof"),i=e("./$.wks")("toStringTag"),n="Arguments"==a(function(){return arguments}());t.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[i])?r:n?a(t):"Object"==(s=a(t))&&"function"==typeof t.callee?"Arguments":s}},{"./$.cof":56,"./$.wks":101}],56:[function(e,t,r){var a={}.toString;t.exports=function(e){return a.call(e).slice(8,-1)}},{}],57:[function(e,t,r){var a=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=a)},{}],58:[function(e,t,r){var a=e("./$.a-function");t.exports=function(e,t,r){if(a(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,a){return e.call(t,r,a)};case 3:return function(r,a,i){return e.call(t,r,a,i)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":52}],59:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],60:[function(e,t,r){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":63}],61:[function(e,t,r){var a=e("./$.is-object"),i=e("./$.global").document,n=a(i)&&a(i.createElement);t.exports=function(e){return n?i.createElement(e):{}}},{"./$.global":65,"./$.is-object":72}],62:[function(e,t,r){var a=e("./$.global"),i=e("./$.core"),n=e("./$.ctx"),s="prototype",o=function(e,t,r){var u,l,c,f=e&o.F,h=e&o.G,p=e&o.S,d=e&o.P,b=e&o.B,m=e&o.W,v=h?i:i[t]||(i[t]={}),g=h?a:p?a[t]:(a[t]||{})[s];h&&(r=t);for(u in r)l=!f&&g&&u in g,l&&u in v||(c=l?g[u]:r[u],v[u]=h&&"function"!=typeof g[u]?r[u]:b&&l?n(c,a):m&&g[u]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[s]=e[s],t}(c):d&&"function"==typeof c?n(Function.call,c):c,d&&((v[s]||(v[s]={}))[u]=c))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,t.exports=o},{"./$.core":57,"./$.ctx":58,"./$.global":65}],63:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],64:[function(e,t,r){var a=e("./$.ctx"),i=e("./$.iter-call"),n=e("./$.is-array-iter"),s=e("./$.an-object"),o=e("./$.to-length"),u=e("./core.get-iterator-method");t.exports=function(e,t,r,l){var c,f,h,p=u(e),d=a(r,l,t?2:1),b=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(n(p))for(c=o(e.length);c>b;b++)t?d(s(f=e[b])[0],f[1]):d(e[b]);else for(h=p.call(e);!(f=h.next()).done;)i(h,d,f.value,t)}},{"./$.an-object":54,"./$.ctx":58,"./$.is-array-iter":71,"./$.iter-call":73,"./$.to-length":98,"./core.get-iterator-method":102}],65:[function(e,t,r){var a=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},{}],66:[function(e,t,r){var a={}.hasOwnProperty;t.exports=function(e,t){return a.call(e,t)}},{}],67:[function(e,t,r){var a=e("./$"),i=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,r){return a.setDesc(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"./$":79,"./$.descriptors":60,"./$.property-desc":84}],68:[function(e,t,r){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":65}],69:[function(e,t,r){t.exports=function(e,t,r){var a=void 0===r;switch(t.length){case 0:return a?e():e.call(r);case 1:return a?e(t[0]):e.call(r,t[0]);case 2:return a?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return a?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return a?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],70:[function(e,t,r){var a=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){
return"String"==a(e)?e.split(""):Object(e)}},{"./$.cof":56}],71:[function(e,t,r){var a=e("./$.iterators"),i=e("./$.wks")("iterator"),n=Array.prototype;t.exports=function(e){return void 0!==e&&(a.Array===e||n[i]===e)}},{"./$.iterators":78,"./$.wks":101}],72:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],73:[function(e,t,r){var a=e("./$.an-object");t.exports=function(e,t,r,i){try{return i?t(a(r)[0],r[1]):t(r)}catch(n){var s=e["return"];throw void 0!==s&&a(s.call(e)),n}}},{"./$.an-object":54}],74:[function(e,t,r){"use strict";var a=e("./$"),i=e("./$.property-desc"),n=e("./$.set-to-string-tag"),s={};e("./$.hide")(s,e("./$.wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=a.create(s,{next:i(1,r)}),n(e,t+" Iterator")}},{"./$":79,"./$.hide":67,"./$.property-desc":84,"./$.set-to-string-tag":90,"./$.wks":101}],75:[function(e,t,r){"use strict";var a=e("./$.library"),i=e("./$.export"),n=e("./$.redefine"),s=e("./$.hide"),o=e("./$.has"),u=e("./$.iterators"),l=e("./$.iter-create"),c=e("./$.set-to-string-tag"),f=e("./$").getProto,h=e("./$.wks")("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",b="keys",m="values",v=function(){return this};t.exports=function(e,t,r,g,y,w,k){l(r,t,g);var _,x,P=function(e){if(!p&&e in O)return O[e];switch(e){case b:return function(){return new r(this,e)};case m:return function(){return new r(this,e)}}return function(){return new r(this,e)}},$=t+" Iterator",S=y==m,j=!1,O=e.prototype,A=O[h]||O[d]||y&&O[y],E=A||P(y);if(A){var M=f(E.call(new e));c(M,$,!0),!a&&o(O,d)&&s(M,h,v),S&&A.name!==m&&(j=!0,E=function(){return A.call(this)})}if(a&&!k||!p&&!j&&O[h]||s(O,h,E),u[t]=E,u[$]=v,y)if(_={values:S?E:P(m),keys:w?E:P(b),entries:S?P("entries"):E},k)for(x in _)x in O||n(O,x,_[x]);else i(i.P+i.F*(p||j),t,_);return _}},{"./$":79,"./$.export":62,"./$.has":66,"./$.hide":67,"./$.iter-create":74,"./$.iterators":78,"./$.library":80,"./$.redefine":86,"./$.set-to-string-tag":90,"./$.wks":101}],76:[function(e,t,r){var a=e("./$.wks")("iterator"),i=!1;try{var n=[7][a]();n["return"]=function(){i=!0},Array.from(n,function(){throw 2})}catch(s){}t.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var n=[7],s=n[a]();s.next=function(){r=!0},n[a]=function(){return s},e(n)}catch(o){}return r}},{"./$.wks":101}],77:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],78:[function(e,t,r){t.exports={}},{}],79:[function(e,t,r){var a=Object;t.exports={create:a.create,getProto:a.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:a.getOwnPropertyDescriptor,setDesc:a.defineProperty,setDescs:a.defineProperties,getKeys:a.keys,getNames:a.getOwnPropertyNames,getSymbols:a.getOwnPropertySymbols,each:[].forEach}},{}],80:[function(e,t,r){t.exports=!0},{}],81:[function(e,t,r){var a,i,n,s=e("./$.global"),o=e("./$.task").set,u=s.MutationObserver||s.WebKitMutationObserver,l=s.process,c=s.Promise,f="process"==e("./$.cof")(l),h=function(){var e,t,r;for(f&&(e=l.domain)&&(l.domain=null,e.exit());a;)t=a.domain,r=a.fn,t&&t.enter(),r(),t&&t.exit(),a=a.next;i=void 0,e&&e.enter()};if(f)n=function(){l.nextTick(h)};else if(u){var p=1,d=document.createTextNode("");new u(h).observe(d,{characterData:!0}),n=function(){d.data=p=-p}}else n=c&&c.resolve?function(){c.resolve().then(h)}:function(){o.call(s,h)};t.exports=function(e){var t={fn:e,next:void 0,domain:f&&l.domain};i&&(i.next=t),a||(a=t,n()),i=t}},{"./$.cof":56,"./$.global":65,"./$.task":95}],82:[function(e,t,r){var a=e("./$"),i=e("./$.to-object"),n=e("./$.iobject");t.exports=e("./$.fails")(function(){var e=Object.assign,t={},r={},a=Symbol(),i="abcdefghijklmnopqrst";return t[a]=7,i.split("").forEach(function(e){r[e]=e}),7!=e({},t)[a]||Object.keys(e({},r)).join("")!=i})?function(e,t){for(var r=i(e),s=arguments,o=s.length,u=1,l=a.getKeys,c=a.getSymbols,f=a.isEnum;o>u;)for(var h,p=n(s[u++]),d=c?l(p).concat(c(p)):l(p),b=d.length,m=0;b>m;)f.call(p,h=d[m++])&&(r[h]=p[h]);return r}:Object.assign},{"./$":79,"./$.fails":63,"./$.iobject":70,"./$.to-object":99}],83:[function(e,t,r){var a=e("./$.export"),i=e("./$.core"),n=e("./$.fails");t.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],s={};s[e]=t(r),a(a.S+a.F*n(function(){r(1)}),"Object",s)}},{"./$.core":57,"./$.export":62,"./$.fails":63}],84:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],85:[function(e,t,r){var a=e("./$.redefine");t.exports=function(e,t){for(var r in t)a(e,r,t[r]);return e}},{"./$.redefine":86}],86:[function(e,t,r){t.exports=e("./$.hide")},{"./$.hide":67}],87:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],88:[function(e,t,r){var a=e("./$").getDesc,i=e("./$.is-object"),n=e("./$.an-object"),s=function(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,i){try{i=e("./$.ctx")(Function.call,a(Object.prototype,"__proto__").set,2),i(t,[]),r=!(t instanceof Array)}catch(n){r=!0}return function(e,t){return s(e,t),r?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:s}},{"./$":79,"./$.an-object":54,"./$.ctx":58,"./$.is-object":72}],89:[function(e,t,r){"use strict";var a=e("./$.core"),i=e("./$"),n=e("./$.descriptors"),s=e("./$.wks")("species");t.exports=function(e){var t=a[e];n&&t&&!t[s]&&i.setDesc(t,s,{configurable:!0,get:function(){return this}})}},{"./$":79,"./$.core":57,"./$.descriptors":60,"./$.wks":101}],90:[function(e,t,r){var a=e("./$").setDesc,i=e("./$.has"),n=e("./$.wks")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,n)&&a(e,n,{configurable:!0,value:t})}},{"./$":79,"./$.has":66,"./$.wks":101}],91:[function(e,t,r){var a=e("./$.global"),i="__core-js_shared__",n=a[i]||(a[i]={});t.exports=function(e){return n[e]||(n[e]={})}},{"./$.global":65}],92:[function(e,t,r){var a=e("./$.an-object"),i=e("./$.a-function"),n=e("./$.wks")("species");t.exports=function(e,t){var r,s=a(e).constructor;return void 0===s||void 0==(r=a(s)[n])?t:i(r)}},{"./$.a-function":52,"./$.an-object":54,"./$.wks":101}],93:[function(e,t,r){t.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e}},{}],94:[function(e,t,r){var a=e("./$.to-integer"),i=e("./$.defined");t.exports=function(e){return function(t,r){var n,s,o=String(i(t)),u=a(r),l=o.length;return 0>u||u>=l?e?"":void 0:(n=o.charCodeAt(u),55296>n||n>56319||u+1===l||(s=o.charCodeAt(u+1))<56320||s>57343?e?o.charAt(u):n:e?o.slice(u,u+2):(n-55296<<10)+(s-56320)+65536)}}},{"./$.defined":59,"./$.to-integer":96}],95:[function(e,t,r){var a,i,n,s=e("./$.ctx"),o=e("./$.invoke"),u=e("./$.html"),l=e("./$.dom-create"),c=e("./$.global"),f=c.process,h=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,b=0,m={},v="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){g.call(e.data)};h&&p||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return m[++b]=function(){o("function"==typeof e?e:Function(e),t)},a(b),b},p=function(e){delete m[e]},"process"==e("./$.cof")(f)?a=function(e){f.nextTick(s(g,e,1))}:d?(i=new d,n=i.port2,i.port1.onmessage=y,a=s(n.postMessage,n,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(a=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):a=v in l("script")?function(e){u.appendChild(l("script"))[v]=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(s(g,e,1),0)}),t.exports={set:h,clear:p}},{"./$.cof":56,"./$.ctx":58,"./$.dom-create":61,"./$.global":65,"./$.html":68,"./$.invoke":69}],96:[function(e,t,r){var a=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:a)(e)}},{}],97:[function(e,t,r){var a=e("./$.iobject"),i=e("./$.defined");t.exports=function(e){return a(i(e))}},{"./$.defined":59,"./$.iobject":70}],98:[function(e,t,r){var a=e("./$.to-integer"),i=Math.min;t.exports=function(e){return e>0?i(a(e),9007199254740991):0}},{"./$.to-integer":96}],99:[function(e,t,r){var a=e("./$.defined");t.exports=function(e){return Object(a(e))}},{"./$.defined":59}],100:[function(e,t,r){var a=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++a+i).toString(36))}},{}],101:[function(e,t,r){var a=e("./$.shared")("wks"),i=e("./$.uid"),n=e("./$.global").Symbol;t.exports=function(e){return a[e]||(a[e]=n&&n[e]||(n||i)("Symbol."+e))}},{"./$.global":65,"./$.shared":91,"./$.uid":100}],102:[function(e,t,r){var a=e("./$.classof"),i=e("./$.wks")("iterator"),n=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||n[a(e)]:void 0}},{"./$.classof":55,"./$.core":57,"./$.iterators":78,"./$.wks":101}],103:[function(e,t,r){"use strict";var a=e("./$.ctx"),i=e("./$.export"),n=e("./$.to-object"),s=e("./$.iter-call"),o=e("./$.is-array-iter"),u=e("./$.to-length"),l=e("./core.get-iterator-method");i(i.S+i.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,c,f=n(e),h="function"==typeof this?this:Array,p=arguments,d=p.length,b=d>1?p[1]:void 0,m=void 0!==b,v=0,g=l(f);if(m&&(b=a(b,d>2?p[2]:void 0,2)),void 0==g||h==Array&&o(g))for(t=u(f.length),r=new h(t);t>v;v++)r[v]=m?b(f[v],v):f[v];else for(c=g.call(f),r=new h;!(i=c.next()).done;v++)r[v]=m?s(c,b,[i.value,v],!0):i.value;return r.length=v,r}})},{"./$.ctx":58,"./$.export":62,"./$.is-array-iter":71,"./$.iter-call":73,"./$.iter-detect":76,"./$.to-length":98,"./$.to-object":99,"./core.get-iterator-method":102}],104:[function(e,t,r){"use strict";var a=e("./$.add-to-unscopables"),i=e("./$.iter-step"),n=e("./$.iterators"),s=e("./$.to-iobject");t.exports=e("./$.iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),n.Arguments=n.Array,a("keys"),a("values"),a("entries")},{"./$.add-to-unscopables":53,"./$.iter-define":75,"./$.iter-step":77,"./$.iterators":78,"./$.to-iobject":97}],105:[function(e,t,r){var a=e("./$.export");a(a.S+a.F,"Object",{assign:e("./$.object-assign")})},{"./$.export":62,"./$.object-assign":82}],106:[function(e,t,r){var a=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(t,r){return e(a(t),r)}})},{"./$.object-sap":83,"./$.to-iobject":97}],107:[function(e,t,r){var a=e("./$.export");a(a.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.export":62,"./$.set-proto":88}],108:[function(e,t,r){},{}],109:[function(e,t,r){"use strict";var a,i=e("./$"),n=e("./$.library"),s=e("./$.global"),o=e("./$.ctx"),u=e("./$.classof"),l=e("./$.export"),c=e("./$.is-object"),f=e("./$.an-object"),h=e("./$.a-function"),p=e("./$.strict-new"),d=e("./$.for-of"),b=e("./$.set-proto").set,m=e("./$.same-value"),v=e("./$.wks")("species"),g=e("./$.species-constructor"),y=e("./$.microtask"),w="Promise",k=s.process,_="process"==u(k),x=s[w],P=function(e){var t=new x(function(){});return e&&(t.constructor=Object),x.resolve(t)===t},$=function(){function t(e){var r=new x(e);return b(r,t.prototype),r}var r=!1;try{if(r=x&&x.resolve&&P(),b(t,x),t.prototype=i.create(x.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(r=!1),r&&e("./$.descriptors")){var a=!1;x.resolve(i.setDesc({},"then",{get:function(){a=!0}})),r=a}}catch(n){r=!1}return r}(),S=function(e,t){return n&&e===x&&t===a?!0:m(e,t)},j=function(e){var t=f(e)[v];return void 0!=t?t:e},O=function(e){var t;return c(e)&&"function"==typeof(t=e.then)?t:!1},A=function(e){var t,r;this.promise=new e(function(e,a){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=a}),this.resolve=h(t),this.reject=h(r)},E=function(e){try{e()}catch(t){return{error:t}}},M=function(e,t){if(!e.n){e.n=!0;var r=e.c;y(function(){for(var a=e.v,i=1==e.s,n=0,o=function(t){var r,n,s=i?t.ok:t.fail,o=t.resolve,u=t.reject;try{s?(i||(e.h=!0),r=s===!0?a:s(a),r===t.promise?u(TypeError("Promise-chain cycle")):(n=O(r))?n.call(r,o,u):o(r)):u(a)}catch(l){u(l)}};r.length>n;)o(r[n++]);r.length=0,e.n=!1,t&&setTimeout(function(){var t,r,i=e.p;R(i)&&(_?k.emit("unhandledRejection",a,i):(t=s.onunhandledrejection)?t({promise:i,reason:a}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",a)),e.a=void 0},1)})}},R=function(e){var t,r=e._d,a=r.a||r.c,i=0;if(r.h)return!1;for(;a.length>i;)if(t=a[i++],t.fail||!R(t.promise))return!1;return!0},T=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),M(t,!0))},I=function(e){var t,r=this;if(!r.d){r.d=!0,r=r.r||r;try{if(r.p===e)throw TypeError("Promise can't be resolved itself");(t=O(e))?y(function(){var a={r:r,d:!1};try{t.call(e,o(I,a,1),o(T,a,1))}catch(i){T.call(a,i)}}):(r.v=e,r.s=1,M(r,!1))}catch(a){T.call({r:r,d:!1},a)}}};$||(x=function(e){h(e);var t=this._d={p:p(this,x,w),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(o(I,t,1),o(T,t,1))}catch(r){T.call(t,r)}},e("./$.redefine-all")(x.prototype,{then:function(e,t){var r=new A(g(this,x)),a=r.promise,i=this._d;return r.ok="function"==typeof e?e:!0,r.fail="function"==typeof t&&t,i.c.push(r),i.a&&i.a.push(r),i.s&&M(i,!1),a},"catch":function(e){return this.then(void 0,e)}})),l(l.G+l.W+l.F*!$,{Promise:x}),e("./$.set-to-string-tag")(x,w),e("./$.set-species")(w),a=e("./$.core")[w],l(l.S+l.F*!$,w,{reject:function(e){var t=new A(this),r=t.reject;return r(e),t.promise}}),l(l.S+l.F*(!$||P(!0)),w,{resolve:function(e){if(e instanceof x&&S(e.constructor,this))return e;var t=new A(this),r=t.resolve;return r(e),t.promise}}),l(l.S+l.F*!($&&e("./$.iter-detect")(function(e){x.all(e)["catch"](function(){})})),w,{all:function(e){var t=j(this),r=new A(t),a=r.resolve,n=r.reject,s=[],o=E(function(){d(e,!1,s.push,s);var r=s.length,o=Array(r);r?i.each.call(s,function(e,i){var s=!1;t.resolve(e).then(function(e){s||(s=!0,o[i]=e,--r||a(o))},n)}):a(o)});return o&&n(o.error),r.promise},race:function(e){var t=j(this),r=new A(t),a=r.reject,i=E(function(){d(e,!1,function(e){t.resolve(e).then(r.resolve,a)})});return i&&a(i.error),r.promise}})},{"./$":79,"./$.a-function":52,"./$.an-object":54,"./$.classof":55,"./$.core":57,"./$.ctx":58,"./$.descriptors":60,"./$.export":62,"./$.for-of":64,"./$.global":65,"./$.is-object":72,"./$.iter-detect":76,"./$.library":80,"./$.microtask":81,"./$.redefine-all":85,"./$.same-value":87,"./$.set-proto":88,"./$.set-species":89,"./$.set-to-string-tag":90,"./$.species-constructor":92,"./$.strict-new":93,"./$.wks":101}],110:[function(e,t,r){"use strict";var a=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=a(t,r),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":75,"./$.string-at":94}],111:[function(e,t,r){e("./es6.array.iterator");var a=e("./$.iterators");a.NodeList=a.HTMLCollection=a.Array},{"./$.iterators":78,"./es6.array.iterator":104}],112:[function(e,t,r){(function(t){function a(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function i(){return n.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function n(e){return this instanceof n?(this.length=0,this.parent=void 0,"number"==typeof e?s(this,e):"string"==typeof e?o(this,e,arguments.length>1?arguments[1]:"utf8"):u(this,e)):arguments.length>1?new n(e,arguments[1]):new n(e)}function s(e,t){if(e=b(e,0>t?0:0|m(t)),!n.TYPED_ARRAY_SUPPORT)for(var r=0;t>r;r++)e[r]=0;return e}function o(e,t,r){("string"!=typeof r||""===r)&&(r="utf8");var a=0|g(t,r);return e=b(e,a),e.write(t,r),e}function u(e,t){if(n.isBuffer(t))return l(e,t);if(K(t))return c(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return f(e,t);if(t instanceof ArrayBuffer)return h(e,t)}return t.length?p(e,t):d(e,t)}function l(e,t){var r=0|m(t.length);return e=b(e,r),t.copy(e,0,0,r),e}function c(e,t){var r=0|m(t.length);e=b(e,r);for(var a=0;r>a;a+=1)e[a]=255&t[a];return e}function f(e,t){var r=0|m(t.length);e=b(e,r);for(var a=0;r>a;a+=1)e[a]=255&t[a];return e}function h(e,t){return n.TYPED_ARRAY_SUPPORT?(t.byteLength,e=n._augment(new Uint8Array(t))):e=f(e,new Uint8Array(t)),e}function p(e,t){var r=0|m(t.length);e=b(e,r);for(var a=0;r>a;a+=1)e[a]=255&t[a];return e}function d(e,t){var r,a=0;"Buffer"===t.type&&K(t.data)&&(r=t.data,a=0|m(r.length)),e=b(e,a);for(var i=0;a>i;i+=1)e[i]=255&r[i];return e}function b(e,t){n.TYPED_ARRAY_SUPPORT?(e=n._augment(new Uint8Array(t)),e.__proto__=n.prototype):(e.length=t,e._isBuffer=!0);var r=0!==t&&t<=n.poolSize>>>1;return r&&(e.parent=Q),e}function m(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function v(e,t){if(!(this instanceof v))return new v(e,t);var r=new n(e,t);return delete r.parent,r}function g(e,t){"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var a=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(a)return Y(e).length;t=(""+t).toLowerCase(),a=!0}}function y(e,t,r){var a=!1;if(t=0|t,r=void 0===r||r===1/0?this.length:0|r,e||(e="utf8"),0>t&&(t=0),r>this.length&&(r=this.length),t>=r)return"";for(;;)switch(e){case"hex":return M(this,t,r);case"utf8":case"utf-8":return j(this,t,r);case"ascii":return A(this,t,r);case"binary":return E(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function w(e,t,r,a){r=Number(r)||0;var i=e.length-r;a?(a=Number(a),a>i&&(a=i)):a=i;var n=t.length;if(n%2!==0)throw new Error("Invalid hex string");a>n/2&&(a=n/2);for(var s=0;a>s;s++){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))throw new Error("Invalid hex string");e[r+s]=o}return s}function k(e,t,r,a){return G(Y(t,e.length-r),e,r,a)}function _(e,t,r,a){return G(N(t),e,r,a)}function x(e,t,r,a){return _(e,t,r,a)}function P(e,t,r,a){return G(X(t),e,r,a)}function $(e,t,r,a){return G(W(t,e.length-r),e,r,a)}function S(e,t,r){return 0===t&&r===e.length?H.fromByteArray(e):H.fromByteArray(e.slice(t,r))}function j(e,t,r){r=Math.min(e.length,r);for(var a=[],i=t;r>i;){var n=e[i],s=null,o=n>239?4:n>223?3:n>191?2:1;if(r>=i+o){var u,l,c,f;switch(o){case 1:128>n&&(s=n);break;case 2:u=e[i+1],128===(192&u)&&(f=(31&n)<<6|63&u,f>127&&(s=f));break;case 3:u=e[i+1],l=e[i+2],128===(192&u)&&128===(192&l)&&(f=(15&n)<<12|(63&u)<<6|63&l,f>2047&&(55296>f||f>57343)&&(s=f));break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(f=(15&n)<<18|(63&u)<<12|(63&l)<<6|63&c,f>65535&&1114112>f&&(s=f))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,a.push(s>>>10&1023|55296),s=56320|1023&s),a.push(s),i+=o}return O(a)}function O(e){var t=e.length;if(Z>=t)return String.fromCharCode.apply(String,e);for(var r="",a=0;t>a;)r+=String.fromCharCode.apply(String,e.slice(a,a+=Z));return r}function A(e,t,r){var a="";r=Math.min(e.length,r);for(var i=t;r>i;i++)a+=String.fromCharCode(127&e[i]);return a}function E(e,t,r){var a="";r=Math.min(e.length,r);for(var i=t;r>i;i++)a+=String.fromCharCode(e[i]);return a}function M(e,t,r){var a=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>a)&&(r=a);for(var i="",n=t;r>n;n++)i+=D(e[n]);return i}function R(e,t,r){for(var a=e.slice(t,r),i="",n=0;n<a.length;n+=2)i+=String.fromCharCode(a[n]+256*a[n+1]);return i}function T(e,t,r){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,a,i,s){if(!n.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||s>t)throw new RangeError("value is out of bounds");if(r+a>e.length)throw new RangeError("index out of range")}function F(e,t,r,a){0>t&&(t=65535+t+1);for(var i=0,n=Math.min(e.length-r,2);n>i;i++)e[r+i]=(t&255<<8*(a?i:1-i))>>>8*(a?i:1-i)}function z(e,t,r,a){0>t&&(t=4294967295+t+1);for(var i=0,n=Math.min(e.length-r,4);n>i;i++)e[r+i]=t>>>8*(a?i:3-i)&255}function B(e,t,r,a,i,n){if(t>i||n>t)throw new RangeError("value is out of bounds");if(r+a>e.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function U(e,t,r,a,i){return i||B(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,r,a,23,4),r+4}function C(e,t,r,a,i){return i||B(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,r,a,52,8),r+8}function q(e){if(e=L(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function L(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function D(e){return 16>e?"0"+e.toString(16):e.toString(16)}function Y(e,t){t=t||1/0;for(var r,a=e.length,i=null,n=[],s=0;a>s;s++){if(r=e.charCodeAt(s),r>55295&&57344>r){if(!i){if(r>56319){(t-=3)>-1&&n.push(239,191,189);continue}if(s+1===a){(t-=3)>-1&&n.push(239,191,189);continue}i=r;continue}if(56320>r){(t-=3)>-1&&n.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&n.push(239,191,189);if(i=null,128>r){if((t-=1)<0)break;n.push(r)}else if(2048>r){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(65536>r){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return n}function N(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}function W(e,t){for(var r,a,i,n=[],s=0;s<e.length&&!((t-=2)<0);s++)r=e.charCodeAt(s),a=r>>8,i=r%256,n.push(i),n.push(a);return n}function X(e){return H.toByteArray(q(e))}function G(e,t,r,a){for(var i=0;a>i&&!(i+r>=t.length||i>=e.length);i++)t[i+r]=e[i];return i}var H=e("base64-js"),J=e("ieee754"),K=e("is-array");r.Buffer=n,r.SlowBuffer=v,r.INSPECT_MAX_BYTES=50,n.poolSize=8192;var Q={};n.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array),n.isBuffer=function(e){return!(null==e||!e._isBuffer)},n.compare=function(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,a=t.length,i=0,s=Math.min(r,a);s>i&&e[i]===t[i];)++i;return i!==s&&(r=e[i],a=t[i]),a>r?-1:r>a?1:0},n.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(e,t){if(!K(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new n(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;r++)t+=e[r].length;var a=new n(t),i=0;for(r=0;r<e.length;r++){var s=e[r];s.copy(a,i),i+=s.length}return a},n.byteLength=g,n.prototype.length=void 0,n.prototype.parent=void 0,n.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):y.apply(this,arguments)},n.prototype.equals=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===n.compare(this,e)},n.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},n.prototype.compare=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:n.compare(this,e)},n.prototype.indexOf=function(e,t){function r(e,t,r){for(var a=-1,i=0;r+i<e.length;i++)if(e[r+i]===t[-1===a?0:i-a]){if(-1===a&&(a=i),i-a+1===t.length)return r+a}else a=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(n.isBuffer(e))return r(this,e,t);if("number"==typeof e)return n.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):r(this,[e],t);throw new TypeError("val must be string, number or Buffer")},n.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},n.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},n.prototype.write=function(e,t,r,a){if(void 0===t)a="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)a=t,r=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(r)?(r=0|r,void 0===a&&(a="utf8")):(a=r,r=void 0);else{var i=a;a=t,t=0|r,r=i}var n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(0>r||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");a||(a="utf8");for(var s=!1;;)switch(a){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return k(this,e,t,r);case"ascii":return _(this,e,t,r);case"binary":return x(this,e,t,r);case"base64":return P(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),s=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;n.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),e>t&&(t=e);var a;if(n.TYPED_ARRAY_SUPPORT)a=n._augment(this.subarray(e,t));else{var i=t-e;a=new n(i,void 0);for(var s=0;i>s;s++)a[s]=this[s+e]}return a.length&&(a.parent=this.parent||this),a},n.prototype.readUIntLE=function(e,t,r){e=0|e,t=0|t,r||T(e,t,this.length);for(var a=this[e],i=1,n=0;++n<t&&(i*=256);)a+=this[e+n]*i;return a},n.prototype.readUIntBE=function(e,t,r){e=0|e,t=0|t,r||T(e,t,this.length);for(var a=this[e+--t],i=1;t>0&&(i*=256);)a+=this[e+--t]*i;return a},n.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},n.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},n.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},n.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},n.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},n.prototype.readIntLE=function(e,t,r){e=0|e,t=0|t,r||T(e,t,this.length);for(var a=this[e],i=1,n=0;++n<t&&(i*=256);)a+=this[e+n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},n.prototype.readIntBE=function(e,t,r){e=0|e,t=0|t,r||T(e,t,this.length);for(var a=t,i=1,n=this[e+--a];a>0&&(i*=256);)n+=this[e+--a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},n.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},n.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},n.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},n.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},n.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},n.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),J.read(this,e,!0,23,4)},n.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),J.read(this,e,!1,23,4)},n.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),J.read(this,e,!0,52,8)},n.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),J.read(this,e,!1,52,8)},n.prototype.writeUIntLE=function(e,t,r,a){e=+e,t=0|t,r=0|r,a||I(this,e,t,r,Math.pow(2,8*r),0);var i=1,n=0;for(this[t]=255&e;++n<r&&(i*=256);)this[t+n]=e/i&255;return t+r},n.prototype.writeUIntBE=function(e,t,r,a){e=+e,t=0|t,r=0|r,a||I(this,e,t,r,Math.pow(2,8*r),0);var i=r-1,n=1;for(this[t+i]=255&e;--i>=0&&(n*=256);)this[t+i]=e/n&255;return t+r},n.prototype.writeUInt8=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,1,255,0),n.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},n.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},n.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},n.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):z(this,e,t,!0),t+4},n.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):z(this,e,t,!1),t+4},n.prototype.writeIntLE=function(e,t,r,a){if(e=+e,t=0|t,!a){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var n=0,s=1,o=0>e?1:0;for(this[t]=255&e;++n<r&&(s*=256);)this[t+n]=(e/s>>0)-o&255;return t+r},n.prototype.writeIntBE=function(e,t,r,a){if(e=+e,t=0|t,!a){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var n=r-1,s=1,o=0>e?1:0;for(this[t+n]=255&e;--n>=0&&(s*=256);)this[t+n]=(e/s>>0)-o&255;return t+r},n.prototype.writeInt8=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,1,127,-128),n.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},n.prototype.writeInt16LE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},n.prototype.writeInt16BE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},n.prototype.writeInt32LE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):z(this,e,t,!0),t+4},n.prototype.writeInt32BE=function(e,t,r){return e=+e,t=0|t,r||I(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):z(this,e,t,!1),t+4},n.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},n.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},n.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},n.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},n.prototype.copy=function(e,t,r,a){if(r||(r=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&r>a&&(a=r),a===r)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>a)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-r&&(a=e.length-t+r);var i,s=a-r;if(this===e&&t>r&&a>t)for(i=s-1;i>=0;i--)e[i+t]=this[i+r];else if(1e3>s||!n.TYPED_ARRAY_SUPPORT)for(i=0;s>i;i++)e[i+t]=this[i+r];else e._set(this.subarray(r,r+s),t);return s},n.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),t>r)throw new RangeError("end < start");if(r!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var a;if("number"==typeof e)for(a=t;r>a;a++)this[a]=e;else{var i=Y(e.toString()),n=i.length;for(a=t;r>a;a++)this[a]=i[a%n]}return this}},n.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(n.TYPED_ARRAY_SUPPORT)return new n(this).buffer;for(var e=new Uint8Array(this.length),t=0,r=e.length;r>t;t+=1)e[t]=this[t];
return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var V=n.prototype;n._augment=function(e){return e.constructor=n,e._isBuffer=!0,e._set=e.set,e.get=V.get,e.set=V.set,e.write=V.write,e.toString=V.toString,e.toLocaleString=V.toString,e.toJSON=V.toJSON,e.equals=V.equals,e.compare=V.compare,e.indexOf=V.indexOf,e.copy=V.copy,e.slice=V.slice,e.readUIntLE=V.readUIntLE,e.readUIntBE=V.readUIntBE,e.readUInt8=V.readUInt8,e.readUInt16LE=V.readUInt16LE,e.readUInt16BE=V.readUInt16BE,e.readUInt32LE=V.readUInt32LE,e.readUInt32BE=V.readUInt32BE,e.readIntLE=V.readIntLE,e.readIntBE=V.readIntBE,e.readInt8=V.readInt8,e.readInt16LE=V.readInt16LE,e.readInt16BE=V.readInt16BE,e.readInt32LE=V.readInt32LE,e.readInt32BE=V.readInt32BE,e.readFloatLE=V.readFloatLE,e.readFloatBE=V.readFloatBE,e.readDoubleLE=V.readDoubleLE,e.readDoubleBE=V.readDoubleBE,e.writeUInt8=V.writeUInt8,e.writeUIntLE=V.writeUIntLE,e.writeUIntBE=V.writeUIntBE,e.writeUInt16LE=V.writeUInt16LE,e.writeUInt16BE=V.writeUInt16BE,e.writeUInt32LE=V.writeUInt32LE,e.writeUInt32BE=V.writeUInt32BE,e.writeIntLE=V.writeIntLE,e.writeIntBE=V.writeIntBE,e.writeInt8=V.writeInt8,e.writeInt16LE=V.writeInt16LE,e.writeInt16BE=V.writeInt16BE,e.writeInt32LE=V.writeInt32LE,e.writeInt32BE=V.writeInt32BE,e.writeFloatLE=V.writeFloatLE,e.writeFloatBE=V.writeFloatBE,e.writeDoubleLE=V.writeDoubleLE,e.writeDoubleBE=V.writeDoubleBE,e.fill=V.fill,e.inspect=V.inspect,e.toArrayBuffer=V.toArrayBuffer,e};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":113,ieee754:114,"is-array":115}],113:[function(e,t,r){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===s||t===f?62:t===o||t===h?63:u>t?-1:u+10>t?t-u+26+26:c+26>t?t-c:l+26>t?t-l+26:void 0}function r(e){function r(e){l[f++]=e}var a,i,s,o,u,l;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;u="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,l=new n(3*e.length/4-u),s=u>0?e.length-4:e.length;var f=0;for(a=0,i=0;s>a;a+=4,i+=3)o=t(e.charAt(a))<<18|t(e.charAt(a+1))<<12|t(e.charAt(a+2))<<6|t(e.charAt(a+3)),r((16711680&o)>>16),r((65280&o)>>8),r(255&o);return 2===u?(o=t(e.charAt(a))<<2|t(e.charAt(a+1))>>4,r(255&o)):1===u&&(o=t(e.charAt(a))<<10|t(e.charAt(a+1))<<4|t(e.charAt(a+2))>>2,r(o>>8&255),r(255&o)),l}function i(e){function t(e){return a.charAt(e)}function r(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,n,s,o=e.length%3,u="";for(i=0,s=e.length-o;s>i;i+=3)n=(e[i]<<16)+(e[i+1]<<8)+e[i+2],u+=r(n);switch(o){case 1:n=e[e.length-1],u+=t(n>>2),u+=t(n<<4&63),u+="==";break;case 2:n=(e[e.length-2]<<8)+e[e.length-1],u+=t(n>>10),u+=t(n>>4&63),u+=t(n<<2&63),u+="="}return u}var n="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),o="/".charCodeAt(0),u="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0),f="-".charCodeAt(0),h="_".charCodeAt(0);e.toByteArray=r,e.fromByteArray=i}("undefined"==typeof r?this.base64js={}:r)},{}],114:[function(e,t,r){r.read=function(e,t,r,a,i){var n,s,o=8*i-a-1,u=(1<<o)-1,l=u>>1,c=-7,f=r?i-1:0,h=r?-1:1,p=e[t+f];for(f+=h,n=p&(1<<-c)-1,p>>=-c,c+=o;c>0;n=256*n+e[t+f],f+=h,c-=8);for(s=n&(1<<-c)-1,n>>=-c,c+=a;c>0;s=256*s+e[t+f],f+=h,c-=8);if(0===n)n=1-l;else{if(n===u)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,a),n-=l}return(p?-1:1)*s*Math.pow(2,n-a)},r.write=function(e,t,r,a,i,n){var s,o,u,l=8*n-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:n-1,d=a?1:-1,b=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+f>=1?h/u:h*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=c?(o=0,s=c):s+f>=1?(o=(t*u-1)*Math.pow(2,i),s+=f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&o,p+=d,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;e[r+p]=255&s,p+=d,s/=256,l-=8);e[r+p-d]|=128*b}},{}],115:[function(e,t,r){var a=Array.isArray,i=Object.prototype.toString;t.exports=a||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],116:[function(e,t,r){"use strict";!function(e,t){function r(e){return e.forEach||(e.forEach=function(e){var t,r=this.length;for(t=0;r>t;t++)e(this[t],t,r)}),e}var a,i,n=Float32Array,s=Math.sqrt,o=function(e){return Math.pow(e,2)};e.isComplexArray=a=function(e){return e!==t&&e.hasOwnProperty!==t&&e.hasOwnProperty("real")&&e.hasOwnProperty("imag")},e.ComplexArray=i=function(e,t){a(e)?(this.ArrayType=e.ArrayType,this.real=new this.ArrayType(e.real),this.imag=new this.ArrayType(e.imag)):(this.ArrayType=t||n,this.real=new this.ArrayType(e),this.imag=new this.ArrayType(this.real.length)),this.length=this.real.length},i.prototype.toString=function(){var e=[];return this.forEach(function(t,r){e.push("("+t.real.toFixed(2)+","+t.imag.toFixed(2)+")")}),"["+e.join(",")+"]"},i.prototype.map=function(e){var t,r=this.length,a={};for(t=0;r>t;t++)a.real=this.real[t],a.imag=this.imag[t],e(a,t,r),this.real[t]=a.real,this.imag[t]=a.imag;return this},i.prototype.forEach=function(e){var t,r=this.length,a={};for(t=0;r>t;t++)a.real=this.real[t],a.imag=this.imag[t],e(a,t,r)},i.prototype.conjugate=function(){return new i(this).map(function(e){e.imag*=-1})},i.prototype.magnitude=function(){var e=new this.ArrayType(this.length);return this.forEach(function(t,r){e[r]=s(o(t.real)+o(t.imag))}),r(e)}}("undefined"==typeof r&&(this.complex_array={})||r)},{}],117:[function(e,t,r){"use strict";!function(e,t){function r(e){return t.isComplexArray(e)&&e||new l(e)}function a(e,t){var r=e.length;return r&r-1?i(e,t):n(e,t)}function i(e,t){var r,i,n,s,o,f,b,m,v,g,y,w,k,_,x=e.length;if(1===x)return e;for(n=new l(x,e.ArrayType),m=u(x),v=x/m,g=1/h(m),y=new l(v,e.ArrayType),i=0;m>i;i++){for(r=0;v>r;r++)y.real[r]=e.real[r*m+i],y.imag[r]=e.imag[r*m+i];for(v>1&&(y=a(y,t)),f=p(2*c*i/x),b=(t?-1:1)*d(2*c*i/x),s=1,o=0,r=0;x>r;r++)k=y.real[r%v],_=y.imag[r%v],n.real[r]+=s*k-o*_,n.imag[r]+=s*_+o*k,w=s*f-o*b,o=s*b+o*f,s=w}for(r=0;x>r;r++)e.real[r]=g*n.real[r],e.imag[r]=g*n.imag[r];return e}function n(e,t){var r,a,i,n,s,u,l,h,b,m,v,g,y,w,k,_,x,P=e.length;for(i=o(e),n=i.real,s=i.imag,x=1;P>x;){for(h=p(c/x),b=(t?-1:1)*d(c/x),r=0;P/(2*x)>r;r++)for(u=1,l=0,a=0;x>a;a++)v=2*r*x+a,g=v+x,y=n[v],w=s[v],k=u*n[g]-l*s[g],_=l*n[g]+u*s[g],n[v]=f*(y+k),s[v]=f*(w+_),n[g]=f*(y-k),s[g]=f*(w-_),m=u*h-l*b,l=u*b+l*h,u=m;x<<=1}return i}function s(e,t){for(var r=0;t>1;)r<<=1,r+=1&e,e>>=1,t>>=1;return r}function o(e){var t,r,a=e.length,i={};for(r=0;a>r;r++){var n=s(r,a);i.hasOwnProperty(r)||i.hasOwnProperty(n)||(t=e.real[n],e.real[n]=e.real[r],e.real[r]=t,t=e.imag[n],e.imag[n]=e.imag[r],e.imag[r]=t,i[r]=i[n]=!0)}return e}function u(e){for(var t=3,r=h(e);r>=t;){if(e%t===0)return t;t+=2}return e}var l=t.ComplexArray,c=Math.PI,f=Math.SQRT1_2,h=Math.sqrt,p=Math.cos,d=Math.sin;l.prototype.FFT=function(){return a(this,!1)},e.FFT=function(e){return r(e).FFT()},l.prototype.InvFFT=function(){return a(this,!0)},e.InvFFT=function(e){return r(e).InvFFT()},l.prototype.frequencyMap=function(e){return this.FFT().map(e).InvFFT()},e.frequencyMap=function(e,t){return r(e).frequencyMap(t)}}("undefined"==typeof r&&(this.fft={})||r,"undefined"==typeof e&&this.complex_array||e("./complex_array"))},{"./complex_array":116}],118:[function(e,t,r){function a(e,t,r){var a;return a=t?new n(e,t):new n(e)}var i=function(){return this}(),n=i.WebSocket||i.MozWebSocket;t.exports=n?a:null,n&&(a.prototype=n.prototype)},{}],119:[function(e,t,r){t.exports={core:{BaseLfo:e("./dist/core/base-lfo")},sources:{AudioInBuffer:e("./dist/sources/audio-in-buffer"),AudioInNode:e("./dist/sources/audio-in-node"),EventIn:e("./dist/sources/event-in"),SocketClient:e("./dist/sources/socket-client"),SocketServer:e("./dist/sources/socket-server")},sinks:{AudioRecorder:e("./dist/sinks/audio-recorder"),Bpf:e("./dist/sinks/bpf"),Bridge:e("./dist/sinks/bridge"),DataRecorder:e("./dist/sinks/data-recorder"),Trace:e("./dist/sinks/trace"),Spectrogram:e("./dist/sinks/spectrogram"),SocketClient:e("./dist/sinks/socket-client"),SocketServer:e("./dist/sinks/socket-server"),Sonogram:e("./dist/sinks/sonogram"),SynchronizedDraw:e("./dist/sinks/synchronized-draw"),Waveform:e("./dist/sinks/waveform")},operators:{Biquad:e("./dist/operators/biquad"),Fft:e("./dist/operators/fft"),Framer:e("./dist/operators/framer"),Magnitude:e("./dist/operators/magnitude"),MinMax:e("./dist/operators/min-max"),MovingAverage:e("./dist/operators/moving-average"),MovingMedian:e("./dist/operators/moving-median"),Noop:e("./dist/operators/noop"),Operator:e("./dist/operators/operator")}}},{"./dist/core/base-lfo":1,"./dist/operators/biquad":2,"./dist/operators/fft":3,"./dist/operators/framer":4,"./dist/operators/magnitude":5,"./dist/operators/min-max":6,"./dist/operators/moving-average":7,"./dist/operators/moving-median":8,"./dist/operators/noop":9,"./dist/operators/operator":10,"./dist/sinks/audio-recorder":11,"./dist/sinks/bpf":13,"./dist/sinks/bridge":14,"./dist/sinks/data-recorder":15,"./dist/sinks/socket-client":16,"./dist/sinks/socket-server":17,"./dist/sinks/sonogram":18,"./dist/sinks/spectrogram":19,"./dist/sinks/synchronized-draw":20,"./dist/sinks/trace":21,"./dist/sinks/waveform":22,"./dist/sources/audio-in-buffer":23,"./dist/sources/audio-in-node":24,"./dist/sources/event-in":26,"./dist/sources/socket-client":27,"./dist/sources/socket-server":28}]},{},[119])(119)});