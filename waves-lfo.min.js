!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.wavesLFO=e()}}(function(){return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/assign"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=0,f=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,s["default"])(this,e),this.cid=c++,this.params={},this.streamParams={frameSize:1,frameRate:0,sourceSampleRate:0},this.params=(0,a["default"])({},t,r),this.children=[],this.time=0,this.outFrame=null,this.metaData={}}return(0,l["default"])(e,[{key:"connect",value:function(e){if(null===this.streamParams)throw new Error("cannot connect to a dead lfo node");this.children.push(e),e.parent=this}},{key:"disconnect",value:function(){var e=this.parent.children.indexOf(this);this.parent.children.splice(e,1)}},{key:"initialize",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,a["default"])(this.streamParams,e,t),this.setupStream();for(var r=0,n=this.children.length;n>r;r++)this.children[r].initialize(this.streamParams)}},{key:"setupStream",value:function(){var e=this.streamParams.frameSize;e>0&&(this.outFrame=new Float32Array(e))}},{key:"reset",value:function(){for(var e=0,t=this.children.length;t>e;e++)this.children[e].reset();if(this.outFrame)for(var r=0,n=this.outFrame.length;n>r;r++)this.outFrame[r]=0}},{key:"finalize",value:function(e){for(var t=0,r=this.children.length;r>t;t++)this.children[t].finalize(e)}},{key:"output",value:function(){for(var e=arguments.length<=0||void 0===arguments[0]?this.time:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.outFrame:arguments[1],r=arguments.length<=2||void 0===arguments[2]?this.metaData:arguments[2],n=0,i=this.children.length;i>n;n++)this.children[n].process(e,t,r)}},{key:"process",value:function(e,t,r){this.time=e,this.outFrame=t,this.metaData=r,this.output()}},{key:"destroy",value:function(){for(var e=this.children.length;e--;)this.children[e].destroy();if(this.parent){var t=this.parent.children.indexOf(this);this.parent.children.splice(t,1)}this.streamParams=null}}]),e}();r["default"]=f},{"babel-runtime/core-js/object/assign":41,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./base-lfo"),a=n(i);r["default"]={BaseLfo:a["default"]}},{"./base-lfo":1}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./core");Object.defineProperty(r,"core",{enumerable:!0,get:function(){return n(i)["default"]}});var a=e("./sources");Object.defineProperty(r,"sources",{enumerable:!0,get:function(){return n(a)["default"]}});var o=e("./sinks");Object.defineProperty(r,"sinks",{enumerable:!0,get:function(){return n(o)["default"]}});var s=e("./operators");Object.defineProperty(r,"operators",{enumerable:!0,get:function(){return n(s)["default"]}})},{"./core":2,"./operators":7,"./sinks":21,"./sources":33}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,r){var n=R*e,i=M(n)/(2*t),a=A(n),o=1/(1+i);r.a1=-2*a*o,r.a2=(1-i)*o,r.b0=.5*(1-a)*o,r.b1=(1-a)*o,r.b2=r.b0}function a(e,t,r){var n=R*e,i=M(n)/(2*t),a=A(n),o=1/(1+i);r.a1=-2*a*o,r.a2=(1-i)*o,r.b0=.5*(1+a)*o,r.b1=(-1-a)*o,r.b2=r.b0}function o(e,t,r){var n=R*e,i=M(n),a=i/(2*t),o=A(n),s=1/(1+a);r.a1=-2*o*s,r.a2=(1-a)*s,r.b0=.5*i*s,r.b1=0,r.b2=-r.b0}function s(e,t,r){var n=R*e,i=M(n)/(2*t),a=A(n),o=1/(1+i);r.a1=-2*a*o,r.a2=(1-i)*o,r.b0=i*o,r.b1=0,r.b2=-r.b0}function u(e,t,r){var n=R*e,i=M(n)/(2*t),a=A(n),o=1/(1+i);r.a1=-2*a*o,r.a2=(1-i)*o,r.b0=o,r.b1=r.a1,r.b2=r.b0}function l(e,t,r){var n=R*e,i=M(n)/(2*t),a=A(n),o=1/(1+i);r.a1=-2*a*o,r.a2=(1-i)*o,r.b0=r.a2,r.b1=r.a1,r.b2=1}function c(e,t,r,n){var i=O(r),a=1/i,o=R*e,s=M(o)/(2*t),u=A(o),l=1/(1+s*a);n.a1=-2*u*l,n.a2=(1-s*a)*l,n.b0=(1+s*i)*l,n.b1=n.a1,n.b2=(1-s*i)*l}function f(e,t,r,n){var i=O(r),a=R*e,o=M(a)*O(i)/t,s=A(a),u=1/(i+1+(i-1)*s+o);n.a1=-2*(i-1+(i+1)*s)*u,n.a2=(i+1+(i-1)*s-o)*u,n.b0=i*(i+1-(i-1)*s+o)*u,n.b1=2*i*(i-1-(i+1)*s)*u,n.b2=i*(i+1-(i-1)*s-o)*u}function h(e,t,r,n){var i=O(r),a=R*e,o=M(a)*O(i)/t,s=A(a),u=1/(i+1-(i-1)*s+o);n.a1=2*(i-1-(i+1)*s)*u,n.a2=(i+1-(i-1)*s-o)*u,n.b0=i*(i+1+(i-1)*s+o)*u,n.b1=-2*i*(i-1+(i+1)*s)*u,n.b2=i*(i+1+(i-1)*s-o)*u}function p(e,t,r,n,p){switch(e){case"lowpass":i(t,r,p);break;case"highpass":a(t,r,p);break;case"bandpass_constant_skirt":o(t,r,p);break;case"bandpass_constant_peak":s(t,r,p);break;case"notch":u(t,r,p);break;case"allpass":l(t,r,p);break;case"peaking":c(t,r,n,p);break;case"lowshelf":f(t,r,n,p);break;case"highshelf":h(t,r,n,p)}switch(e){case"lowpass":case"highpass":case"bandpass_constant_skirt":case"bandpass_constant_peak":case"notch":case"allpass":1!=n&&(p.b0*=n,p.b1*=n,p.b2*=n);break;case"peaking":case"lowshelf":case"highshelf":}}function b(e,t,r,n,i){for(var a=0;i>a;a++){var o=e.b0*r[a]+e.b1*t.xn_1[a]+e.b2*t.xn_2[a]-e.a1*t.yn_1[a]-e.a2*t.yn_2[a];n[a]=o,t.xn_2[a]=t.xn_1[a],t.xn_1[a]=r[a],t.yn_2[a]=t.yn_1[a],t.yn_1[a]=o}}Object.defineProperty(r,"__esModule",{value:!0});var d=e("babel-runtime/core-js/object/get-prototype-of"),m=n(d),_=e("babel-runtime/helpers/classCallCheck"),v=n(_),y=e("babel-runtime/helpers/createClass"),g=n(y),w=e("babel-runtime/helpers/possibleConstructorReturn"),j=n(w),k=e("babel-runtime/helpers/get"),C=n(k),x=e("babel-runtime/helpers/inherits"),S=n(x),P=e("../core/base-lfo"),M=Math.sin,A=Math.cos,R=Math.PI,O=Math.sqrt,T=function(e){function t(e){return(0,v["default"])(this,t),(0,j["default"])(this,(0,m["default"])(t).call(this,{filterType:"lowpass",f0:1,gain:1,q:1},e))}return(0,S["default"])(t,e),(0,g["default"])(t,[{key:"initialize",value:function(e){(0,C["default"])((0,m["default"])(t.prototype),"initialize",this).call(this,e);var r=this.streamParams.frameRate;if(!r||0>=r)throw new Error("This Operator requires a frameRate higher than 0.");var n=this.params.f0/r,i=this.params.gain,a=void 0;this.params.q&&(a=this.params.q),this.params.bw&&(a=this.params.f0/this.params.bw),this.coefs={b0:0,b1:0,b2:0,a1:0,a2:0};var o=this.streamParams.frameSize;this.state={xn_1:new Float32Array(o),xn_2:new Float32Array(o),yn_1:new Float32Array(o),yn_2:new Float32Array(o)},p(this.params.filterType,n,a,i,this.coefs)}},{key:"process",value:function(e,t,r){b(this.coefs,this.state,t,this.outFrame,t.length),this.output(e,this.outFrame,r)}}]),t}(P);r["default"]=T},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/get"),p=n(h),b=e("babel-runtime/helpers/inherits"),d=n(b),m=e("../core/base-lfo"),_=n(m),v=e("jsfft"),y=(n(v),e("jsfft/lib/complex_array")),g=n(y),w=e("../utils/fft-windows"),j=n(w),k=Math.sqrt,C=function(e){for(;e%2===0&&e>1;)e/=2;return 1===e},x=function(e){function t(e){(0,s["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,{fftSize:1024,windowName:"hann",outType:"magnitude"},e));if(r.windowSize=r.params.fftSize,!C(r.params.fftSize))throw new Error("fftSize must be a power of two");return r}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"initialize",value:function(e){(0,p["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,e,{frameSize:this.params.fftSize/2+1});var r=e.frameSize,n=this.params.fftSize;this.windowSize=n,n>r&&(this.windowSize=r),this.normalizeCoefs={linear:0,power:0},this.window=new Float32Array(this.windowSize),this.complexFrame=new g["default"].ComplexArray(n),(0,j["default"])(this.params.windowName,this.window,this.windowSize,this.normalizeCoefs),this.windowedFrame=new Float32Array(n)}},{key:"process",value:function(e,t,r){for(var n=this,i=this.windowSize,a=this.streamParams.frameSize,o=this.params.fftSize,s=0;i>s;s++)this.windowedFrame[s]=t[s]*this.window[s];o>i&&this.windowedFrame.fill(0,i),this.complexFrame.map(function(e,t){e.real=n.windowedFrame[t],e.imag=0});var u=this.complexFrame.FFT(),l=1/o,c=u.real[0],f=u.imag[0];this.outFrame[0]=(c*c+f*f)*l;var h=u.real[o/2],p=u.imag[o/2];this.outFrame[o/2]=(h*h+p*p)*l;for(var b=1,d=o-1;o/2>b;b++,d--){var m=u.real[b]+u.real[d],_=u.imag[b]-u.imag[d];this.outFrame[b]=(m*m+_*_)*l}if("magnitude"===this.params.outType)for(var v=0;a>v;v++)this.outFrame[v]=k(this.outFrame[v]);this.output(e)}}]),t}(_["default"]);r["default"]=x},{"../core/base-lfo":1,"../utils/fft-windows":37,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54,jsfft:155,"jsfft/lib/complex_array":154}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/get"),p=n(h),b=e("babel-runtime/helpers/inherits"),d=n(b),m=e("../core/base-lfo"),_=n(m),v=function(e){function t(e){(0,s["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,{frameSize:512,centeredTimeTag:!1},e));return r.frameIndex=0,r}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"initialize",value:function(e){this.params.hopSize||(this.params.hopSize=this.params.frameSize),(0,p["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,e,{frameSize:this.params.frameSize,frameRate:e.sourceSampleRate/this.params.hopSize})}},{key:"reset",value:function(){this.frameIndex=0,(0,p["default"])((0,a["default"])(t.prototype),"reset",this).call(this)}},{key:"finalize",value:function(e){this.frameIndex>0&&(this.outFrame.fill(0,this.frameIndex),this.output()),(0,p["default"])((0,a["default"])(t.prototype),"finalize",this).call(this,e)}},{key:"process",value:function(e,t,r){for(var n=this.outFrame,i=this.streamParams.sourceSampleRate,a=1/i,o=this.streamParams.frameSize,s=t.length,u=this.params.hopSize,l=this.frameIndex,c=0;s>c;){var f=0;if(0>l&&(f=-l),s>f){c+=f;var h=s-c,p=o-l;h>=p&&(h=p);var b=t.subarray(c,c+h);n.set(b,l),c+=h,l+=h,l===o&&(this.params.centeredTimeTag?this.time=e+(c-o/2)*a:this.time=e+(c-o)*a,this.metaData=r,this.output(),o>u&&n.set(n.subarray(u,o),0),l-=u)}else{var d=s-c;l+=d,c+=d}}this.frameIndex=l}}]),t}(_["default"]);r["default"]=v},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],7:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./biquad"),a=n(i),o=e("./fft"),s=n(o),u=e("./framer"),l=n(u),c=e("./magnitude"),f=n(c),h=e("./max"),p=n(h),b=e("./min-max"),d=n(b),m=e("./moving-average"),_=n(m),v=e("./moving-median"),y=n(v),g=e("./noop"),w=n(g),j=e("./operator"),k=n(j),C=e("./segmenter"),x=n(C);r["default"]={Biquad:a["default"],Fft:s["default"],Framer:l["default"],Magnitude:f["default"],Max:p["default"],MinMax:d["default"],MovingAverage:_["default"],MovingMedian:y["default"],Noop:w["default"],Operator:k["default"],Segmenter:x["default"]}},{"./biquad":4,"./fft":5,"./framer":6,"./magnitude":8,"./max":9,"./min-max":10,"./moving-average":11,"./moving-median":12,"./noop":13,"./operator":14,"./segmenter":15}],8:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/get"),p=n(h),b=e("babel-runtime/helpers/inherits"),d=n(b),m=e("../core/base-lfo"),_=n(m),v=function(e){function t(e){return(0,s["default"])(this,t),(0,f["default"])(this,(0,a["default"])(t).call(this,{normalize:!0,power:!1},e))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"initialize",value:function(e){(0,p["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,e,{frameSize:1})}},{key:"inputArray",value:function(e){for(var t=this.outFrame,r=e.length,n=0,i=0;r>i;i++)n+=e[i]*e[i];var a=n;return this.params.normalize&&(a/=r),this.params.power||(a=Math.sqrt(a)),t[0]=a,t}},{key:"process",value:function(e,t,r){this.inputArray(t),this.output(e,this.outFrame,r)}}]),t}(_["default"]);r["default"]=v},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],9:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/get"),p=n(h),b=e("babel-runtime/helpers/inherits"),d=n(b),m=e("../core/base-lfo"),_=n(m),v=function(e){function t(e){return(0,s["default"])(this,t),(0,f["default"])(this,(0,a["default"])(t).call(this,e))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"initialize",value:function(e){(0,p["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,e,{frameSize:1})}},{key:"process",value:function(e,t,r){this.time=e,this.outFrame[0]=Math.max.apply(null,t),this.metaData=r,this.output()}}]),t}(_["default"]);r["default"]=v},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/get"),p=n(h),b=e("babel-runtime/helpers/inherits"),d=n(b),m=e("../core/base-lfo"),_=n(m),v=function(e){function t(e){return(0,s["default"])(this,t),(0,f["default"])(this,(0,a["default"])(t).call(this,e))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"initialize",value:function(e){(0,p["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,e,{frameSize:2})}},{key:"process",value:function(e,t,r){for(var n=+(1/0),i=-(1/0),a=0,o=t.length;o>a;a++){var s=t[a];n>s&&(n=s),s>i&&(i=s)}this.time=e,this.outFrame[0]=n,this.outFrame[1]=i,this.metaData=r,this.output()}}]),t}(_["default"]);r["default"]=v},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/get"),p=n(h),b=e("babel-runtime/helpers/inherits"),d=n(b),m=e("../core/base-lfo"),_=n(m),v=function(e){function t(e){(0,s["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,{order:10,fill:0},e));return r.sum=null,r.ringBuffer=null,r.ringIndex=0,r}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"initialize",value:function(e){(0,p["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,e),this.ringBuffer=new Float32Array(this.params.order*this.streamParams.frameSize),this.streamParams.frameSize>1?this.sum=new Float32Array(this.streamParams.frameSize):this.sum=0}},{key:"reset",value:function(){(0,p["default"])((0,a["default"])(t.prototype),"reset",this).call(this),this.ringBuffer.fill(this.params.fill);var e=this.params.order*this.params.fill;this.streamParams.frameSize>1?this.sum.fill(e):this.sum=e,this.ringIndex=0}},{key:"inputScalar",value:function(e){var t=this.params.order,r=this.ringIndex,n=this.ringBuffer,i=this.sum;return i-=n[r],i+=e,this.sum=i,this.ringBuffer[r]=e,this.ringIndex=(r+1)%t,i/t}},{key:"inputArray",value:function(e){for(var t=this.outFrame,r=this.params.order,n=this.streamParams.frameSize,i=this.ringIndex,a=i*n,o=(this.ringBuffer,this.sum,1/r),s=0;n>s;s++){var u=a+s,l=e[s],c=c[s];c-=ringBuffer[u],c+=l,t[s]=c*o,this.sum[s]=c,this.ringBuffer[u]=l}return this.ringIndex=(i+1)%r,t}},{key:"process",value:function(e,t,r){this.frameSize>1?this.inputArray(t):this.outFrame[0]=this.inputScalar(t[0]),this.streamParams.sourceSampleRate&&(e-=.5*(this.params.order-1)/this.streamParams.sourceSampleRate),this.output(e,this.outFrame,r)}}]),t}(_["default"]);r["default"]=v},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/array/from"),a=n(i),o=e("babel-runtime/core-js/object/get-prototype-of"),s=n(o),u=e("babel-runtime/helpers/classCallCheck"),l=n(u),c=e("babel-runtime/helpers/createClass"),f=n(c),h=e("babel-runtime/helpers/possibleConstructorReturn"),p=n(h),b=e("babel-runtime/helpers/get"),d=n(b),m=e("babel-runtime/helpers/inherits"),_=n(m),v=e("../core/base-lfo"),y=n(v),g=function(e){function t(e){(0,l["default"])(this,t);var r=(0,p["default"])(this,(0,s["default"])(t).call(this,{order:9},e));if(r.params.order%2===0)throw new Error("order must be an odd number");return r.queue=new Float32Array(r.params.order),r.sorter=[],r}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"reset",value:function(){(0,d["default"])((0,s["default"])(t.prototype),"reset",this).call(this);for(var e=0,r=this.queue.length;r>e;e++)this.queue[e]=0}},{key:"process",value:function(e,t,r){for(var n=this.outFrame,i=t.length,o=this.params.order,s=this.params.order-1,u=Math.floor(o/2),l=0;i>l;l++){var c=t[l];this.queue.set(this.queue.subarray(1),0),this.queue[s]=c,this.sorter=(0,a["default"])(this.queue.values()),this.sorter.sort(function(e,t){return e-t}),n[l]=this.sorter[u]}this.output(e,n,r)}}]),t}(y["default"]);r["default"]=g},{"../core/base-lfo":1,"babel-runtime/core-js/array/from":39,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/inherits"),p=n(h),b=e("../core/base-lfo"),d=n(b),m=function(e){function t(e){return(0,s["default"])(this,t),(0,f["default"])(this,(0,a["default"])(t).call(this,e))}return(0,p["default"])(t,e),(0,l["default"])(t,[{key:"process",value:function(e,t,r){this.outFrame.set(t,0),this.time=e,this.metaData=r,this.output()}}]),t}(d["default"]);r["default"]=m},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/inherits"),p=n(h),b=e("../core/base-lfo"),d=n(b),m=function(e){function t(e){(0,s["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,e));return r.params.type=r.params.type||"scalar",r.params.onProcess&&(r.callback=r.params.onProcess.bind(r)),r}return(0,p["default"])(t,e),(0,l["default"])(t,[{key:"configureStream",value:function(){"vector"===this.params.type&&this.params.frameSize&&(this.streamParams.frameSize=this.params.frameSize)}},{key:"process",value:function(e,t,r){if("vector"===this.params.type){var n=this.callback(e,t,this.outFrame);void 0!==n&&(e=n)}else for(var i=0,a=t.length;a>i;i++)this.outFrame[i]=this.callback(t[i],i);this.time=e,this.metaData=r,this.output()}}]),t}(d["default"]);r["default"]=m},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],15:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/get"),p=n(h),b=e("babel-runtime/helpers/inherits"),d=n(b),m=e("../core/base-lfo"),_=n(m),v=e("./moving-average"),y=n(v),g=function(e){function t(e){(0,s["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,{logInput:!1,minInput:1e-12,filterOrder:5,threshold:3,offThreshold:-(1/0),minInter:.05,maxDuration:1/0},e));r.insideSegment=!1,r.onsetTime=-(1/0),r.min=1/0,r.max=-(1/0),r.sum=0,r.sumOfSquares=0,r.count=0;var n=r.params.minInput,i=n;return r.params.logInput&&n>0&&(i=Math.log(n)),r.movingAverage=new y["default"]({order:r.params.filterOrder,fill:i}),r.lastMvavrg=i,r}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"resetSegment",value:function(){this.insideSegment=!1,this.onsetTime=-(1/0),this.min=1/0,this.max=-(1/0),this.sum=0,this.sumOfSquares=0,this.count=0}},{key:"outputSegment",value:function(e){this.outFrame[0]=e-this.onsetTime,this.outFrame[1]=this.min,this.outFrame[2]=this.max;var t=1/this.count,r=this.sum*t,n=this.sumOfSquares*t,i=r*r;this.outFrame[3]=r,this.outFrame[4]=0,n>i&&(this.outFrame[4]=Math.sqrt(n-i)),this.output(this.onsetTime)}},{key:"initialize",value:function(e){(0,p["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,e,{frameSize:5,description:["duration","min","max","mean","std dev"]}),this.movingAverage.initialize(e)}},{key:"reset",value:function(){(0,p["default"])((0,a["default"])(t.prototype),"reset",this).call(this),this.movingAverage.reset(),this.resetSegment()}},{key:"finalize",value:function(e){this.insideSegment&&this.outputSegment(e),(0,p["default"])((0,a["default"])(t.prototype),"finalize",this).call(this,e)}},{key:"process",value:function(e,t,r){var n=t[0],i=this.params.minInput,a=Math.max(n,i);this.params.logInput&&(a=Math.log(a));var o=a-this.lastMvavrg;this.lastMvavrg=this.movingAverage.inputScalar(a),this.metaData=r,o>this.params.threshold&&e-this.onsetTime>this.params.minInter&&(this.insideSegment&&this.outputSegment(e),this.insideSegment=!0,this.onsetTime=e,this.max=-(1/0)),this.insideSegment&&(this.min=Math.min(this.min,n),this.max=Math.max(this.max,n),this.sum+=n,this.sumOfSquares+=n*n,this.count++,(e-this.onsetTime>=this.params.maxDuration||a<=this.params.offThreshold)&&(this.outputSegment(e),this.insideSegment=!1))}},{key:"threshold",set:function(e){this.params.threshold=e}},{key:"offThreshold",set:function(e){this.params.offThreshold=e}}]),t}(_["default"]);r["default"]=g},{"../core/base-lfo":1,"./moving-average":11,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],16:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/promise"),a=n(i),o=e("babel-runtime/core-js/object/get-prototype-of"),s=n(o),u=e("babel-runtime/helpers/classCallCheck"),l=n(u),c=e("babel-runtime/helpers/createClass"),f=n(c),h=e("babel-runtime/helpers/possibleConstructorReturn"),p=n(h),b=e("babel-runtime/helpers/get"),d=n(b),m=e("babel-runtime/helpers/inherits"),_=n(m),v=e("../core/base-lfo"),y=n(v),g="\nvar isInfiniteBuffer = false;\nvar stack = [];\nvar buffer;\nvar bufferLength;\nvar currentIndex;\n\nfunction init() {\n  buffer = new Float32Array(bufferLength);\n  stack.length = 0;\n  currentIndex = 0;\n}\n\nfunction append(block) {\n  var availableSpace = bufferLength - currentIndex;\n  var currentBlock;\n  // return if already full\n  if (availableSpace <= 0) { return; }\n\n  if (availableSpace < block.length) {\n    currentBlock = block.subarray(0, availableSpace);\n  } else {\n    currentBlock = block;\n  }\n\n  buffer.set(currentBlock, currentIndex);\n  currentIndex += currentBlock.length;\n\n  if (isInfiniteBuffer && currentIndex === buffer.length) {\n    stack.push(buffer);\n\n    currentBlock = block.subarray(availableSpace);\n    buffer = new Float32Array(buffer.length);\n    buffer.set(currentBlock, 0);\n    currentIndex = currentBlock.length;\n  }\n}\n\nself.addEventListener('message', function(e) {\n  switch (e.data.command) {\n    case 'init':\n      if (isFinite(e.data.duration)) {\n        bufferLength = e.data.sampleRate * e.data.duration;\n      } else {\n        isInfiniteBuffer = true;\n        bufferLength = e.data.sampleRate * 10;\n      }\n\n      init();\n      break;\n\n    case 'process':\n      var block = new Float32Array(e.data.buffer);\n      append(block);\n\n\n      // if the buffer is full return it, only works with finite buffers\n      if (!isInfiniteBuffer && currentIndex === bufferLength) {\n        var buf = buffer.buffer.slice(0);\n        self.postMessage({ buffer: buf }, [buf]);\n        init();\n      }\n      break;\n\n    case 'stop':\n      if (!isInfiniteBuffer) {\n        // @TODO add option to not clip the returned buffer\n        // values in FLoat32Array are 4 bytes long (32 / 8)\n        var copy = buffer.buffer.slice(0, currentIndex * (32 / 8));\n        self.postMessage({ buffer: copy }, [copy]);\n      } else {\n        var copy = new Float32Array(stack.length * bufferLength + currentIndex);\n        stack.forEach(function(buffer, index) {\n          copy.set(buffer, bufferLength * index);\n        });\n\n        copy.set(buffer.subarray(0, currentIndex), stack.length * bufferLength);\n        self.postMessage({ buffer: copy.buffer }, [copy.buffer]);\n      }\n      init();\n      break;\n  }\n}, false)",w=void 0,j=function(e){function t(e){(0,l["default"])(this,t);var r=(0,p["default"])(this,(0,s["default"])(t).call(this,{duration:10,ignoreLeadingZeros:!0},e));r.params.ctx?r.ctx=r.params.ctx:(w||(w=new window.AudioContext),r.ctx=w),r._isStarted=!1,r._ignoreZeros=!1;var n=new Blob([g],{type:"text/javascript"});return r.worker=new Worker(window.URL.createObjectURL(n)),r}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"initialize",value:function(e){(0,d["default"])((0,s["default"])(t.prototype),"initialize",this).call(this,e),this.worker.postMessage({command:"init",duration:this.params.duration,sampleRate:this.streamParams.sourceSampleRate})}},{key:"start",value:function(){this._isStarted=!0,this._ignoreZeros=this.params.ignoreLeadingZeros,this.count=0}},{key:"stop",value:function(){this._isStarted&&(this.worker.postMessage({command:"stop"}),this._isStarted=!1)}},{key:"finalize",value:function(e){this.stop()}},{key:"process",value:function(e,t,r){if(this._isStarted){var n=null;if(this._ignoreZeros){if(0!==t[t.length-1]){var i=t.length,a=void 0;for(a=0;i>a&&0===t[a];a++);n=new Float32Array(t.subarray(a)),this._ignoreZeros=!1}}else n=new Float32Array(t);if(n){var o=n.buffer;this.worker.postMessage({command:"process",buffer:o},[o])}}}},{key:"retrieve",value:function(){var e=this;return new a["default"](function(t,r){var n=function i(r){e._isStarted=!1,e.worker.removeEventListener("message",i,!1);var n=new Float32Array(r.data.buffer),a=n.length,o=e.streamParams.sourceSampleRate,s=e.ctx.createBuffer(1,a,o),u=s.getChannelData(0);u.set(n,0),t(s)};e.worker.addEventListener("message",n,!1)})}}]),t}(y["default"]);r["default"]=j},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/core-js/promise":47,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],17:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/core-js/object/assign"),s=n(o),u=e("babel-runtime/helpers/classCallCheck"),l=n(u),c=e("babel-runtime/helpers/createClass"),f=n(c),h=e("babel-runtime/helpers/possibleConstructorReturn"),p=n(h),b=e("babel-runtime/helpers/get"),d=n(b),m=e("babel-runtime/helpers/inherits"),_=n(m),v=e("../core/base-lfo"),y=n(v),g=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,l["default"])(this,t);var n=(0,s["default"])({duration:1,min:-1,max:1,width:300,height:150,isSynchronized:!1,canvas:null,
container:null},e),i=(0,p["default"])(this,(0,a["default"])(t).call(this,n,r));if(!i.params.canvas&&!i.params.container)throw new Error("parameter `canvas` or `container` are mandatory");if(i.params.canvas)i.canvas=i.params.canvas;else if(i.params.container){var o=document.querySelector(i.params.container);i.canvas=document.createElement("canvas"),o.appendChild(i.canvas)}return i.ctx=i.canvas.getContext("2d"),i.cachedCanvas=document.createElement("canvas"),i.cachedCtx=i.cachedCanvas.getContext("2d"),i.previousTime=0,i.lastShiftError=0,i.currentPartialShift=0,i.resize(i.params.width,i.params.height),i._stack,i._rafId,i.draw=i.draw.bind(i),i}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"_setYScale",value:function(){var e=this.params.min,t=this.params.max,r=this.params.height,n=(0-r)/(t-e),i=r-n*e;this.getYPosition=function(e){return n*e+i}}},{key:"setupStream",value:function(){(0,d["default"])((0,a["default"])(t.prototype),"setupStream",this).call(this),this.previousFrame=new Float32Array(this.streamParams.frameSize)}},{key:"initialize",value:function(e){(0,d["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,e),this._stack=[],this._rafId=requestAnimationFrame(this.draw)}},{key:"reset",value:function(){(0,d["default"])((0,a["default"])(t.prototype),"reset",this).call(this),this.ctx.clearRect(0,0,this.params.width,this.params.height),this.cachedCtx.clearRect(0,0,this.params.width,this.params.height)}},{key:"finalize",value:function(e){(0,d["default"])((0,a["default"])(t.prototype),"finalize",this).call(this,e),cancelAnimationFrame(this._rafId)}},{key:"process",value:function(e,t,r){var n=t.buffer.slice(0),i=new Float32Array(n);this._stack.push({time:e,frame:i,metaData:r})}},{key:"draw",value:function(){for(var e=0,t=this._stack.length;t>e;e++){var r=this._stack[e];this.executeDraw(r.time,r.frame)}this._stack.length=0,this._rafId=requestAnimationFrame(this.draw)}},{key:"executeDraw",value:function(e,t){this.scrollModeDraw(e,t)}},{key:"resize",value:function(e,t){var r=this.ctx,n=this.cachedCtx;this.params.width=e,this.params.height=t,r.canvas.width=n.canvas.width=e,r.canvas.height=n.canvas.height=t,n.clearRect(0,0,this.params.width,this.params.height),this._setYScale()}},{key:"scrollModeDraw",value:function(e,t){var r=this.ctx,n=this.params.width,i=this.params.height,a=this.params.duration,o=e-this.previousTime,s=o/a*n-this.lastShiftError,u=Math.round(s);this.lastShiftError=u-s;var l=u-this.currentPartialShift;this.shiftCanvas(l),this.params.isSynchronized&&this.synchronizer&&this.synchronizer.shiftSiblings(l,this),r.save(),r.translate(n,0),this.drawCurve(t,this.previousFrame,u),r.restore(),this.currentPartialShift-=u,this.cachedCtx.clearRect(0,0,n,i),this.cachedCtx.drawImage(this.canvas,0,0,n,i),this.previousFrame.set(t,0),this.previousTime=e}},{key:"shiftCanvas",value:function(e){var t=this.ctx,r=this.params.width,n=this.params.height;this.currentPartialShift+=e,t.clearRect(0,0,r,n),t.save();var i=r-this.currentPartialShift;t.drawImage(this.cachedCanvas,this.currentPartialShift,0,i,n,0,0,i,n),t.restore()}},{key:"drawCurve",value:function(e,t,r){console.error("must be implemented")}},{key:"duration",set:function(e){this.params.duration=e}},{key:"min",set:function(e){this.params.min=e,this._setYScale()}},{key:"max",set:function(e){this.params.max=e,this._setYScale()}}]),t}(y["default"]);r["default"]=g},{"../core/base-lfo":1,"babel-runtime/core-js/object/assign":41,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],18:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/get"),p=n(h),b=e("babel-runtime/helpers/inherits"),d=n(b),m=e("./base-draw"),_=n(m),v=e("../utils/draw-utils"),y=function(e){function t(e){(0,s["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,{trigger:!1,radius:0,line:!0},e));return r.currentXPosition=0,r}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"initialize",value:function(e){if((0,p["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,e),!this.params.colors){this.params.colors=[];for(var r=0,n=this.streamParams.frameSize;n>r;r++)this.params.colors.push((0,v.getRandomColor)())}}},{key:"setTrigger",value:function(e){this.params.trigger=e,this.ctx.clearRect(0,0,this.params.width,this.params.height),this.cachedCtx.clearRect(0,0,this.params.width,this.params.height),this.currentXPosition=0,this.lastShiftError=0}},{key:"executeDraw",value:function(e,r){this.params.trigger?this.triggerModeDraw(e,r):this.scrollModeDraw(e,r),(0,p["default"])((0,a["default"])(t.prototype),"process",this).call(this,e,r)}},{key:"triggerModeDraw",value:function(e,t){var r=this.params.width,n=this.params.height,i=this.params.duration,a=this.ctx,o=e-this.previousTime,s=o/i*r-this.lastShiftError,u=Math.round(s);this.lastShiftError=u-s,this.currentXPosition+=u,a.save(),a.translate(this.currentXPosition,0),a.clearRect(-u,0,u,n),this.drawCurve(t,u),a.restore(),this.currentXPosition>r&&(this.currentXPosition-=r,a.save(),a.translate(this.currentXPosition,0),a.clearRect(-u,0,u,n),this.drawCurve(t,this.previousFrame,u),a.restore())}},{key:"drawCurve",value:function(e,t,r){for(var n=this.params.colors,i=this.ctx,a=this.params.radius,o=0,s=e.length;s>o;o++){i.save(),i.fillStyle=n[o],i.strokeStyle=n[o];var u=this.getYPosition(e[o]);if(a>0&&(i.beginPath(),i.arc(0,u,a,0,2*Math.PI,!1),i.fill(),i.closePath()),t&&this.params.line){var l=this.getYPosition(t[o]);i.beginPath(),i.moveTo(-r,l),i.lineTo(0,u),i.stroke(),i.closePath()}i.restore()}}}]),t}(_["default"]);r["default"]=y},{"../utils/draw-utils":36,"./base-draw":17,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],19:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/get"),p=n(h),b=e("babel-runtime/helpers/inherits"),d=n(b),m=e("../core/base-lfo"),_=n(m),v=function(e){function t(e,r){(0,s["default"])(this,t);var n=(0,f["default"])(this,(0,a["default"])(t).call(this,e));return n.process=r.bind(n),n.data=n.outFrame=[],n}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"setupStream",value:function(){(0,p["default"])((0,a["default"])(t.prototype),"setupStream",this).call(this),this.data.length=0}},{key:"reset",value:function(){this.data.length=0}}]),t}(_["default"]);r["default"]=v},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],20:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/promise"),a=n(i),o=e("babel-runtime/core-js/object/get-prototype-of"),s=n(o),u=e("babel-runtime/helpers/classCallCheck"),l=n(u),c=e("babel-runtime/helpers/createClass"),f=n(c),h=e("babel-runtime/helpers/possibleConstructorReturn"),p=n(h),b=e("babel-runtime/helpers/get"),d=n(b),m=e("babel-runtime/helpers/inherits"),_=n(m),v=e("../core/base-lfo"),y=n(v),g="\nvar _separateArrays = false;\nvar _data = [];\nvar _separateArraysData = { time: [], data: [] };\n\nfunction init() {\n  _data.length = 0;\n  _separateArraysData.time.length = 0;\n  _separateArraysData.data.length = 0;\n}\n\nfunction process(time, data) {\n  if (_separateArrays) {\n    _separateArraysData.time.push(time);\n    _separateArraysData.data.push(data);\n  } else {\n    var datum = { time: time, data: data };\n    _data.push(datum);\n  }\n}\n\nself.addEventListener('message', function(e) {\n  switch (e.data.command) {\n    case 'init':\n      _separateArrays = e.data.separateArrays;\n      init();\n      break;\n    case 'process':\n      var time = e.data.time;\n      var data = new Float32Array(e.data.buffer);\n      process(time, data);\n      break;\n    case 'stop':\n      var data = _separateArrays ? _separateArraysData : _data;\n      self.postMessage({ data: data });\n      init();\n      break;\n  }\n});\n",w=function(e){function t(e){(0,l["default"])(this,t);var r=(0,p["default"])(this,(0,s["default"])(t).call(this,{separateArrays:!1},e));r._isStarted=!1;var n=new Blob([g],{type:"text/javascript"});return r.worker=new Worker(window.URL.createObjectURL(n)),r}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"initialize",value:function(e){(0,d["default"])((0,s["default"])(t.prototype),"initialize",this).call(this,e),this.worker.postMessage({command:"init",separateArrays:this.params.separateArrays})}},{key:"start",value:function(){this._isStarted=!0}},{key:"stop",value:function(){this._isStarted&&(this.worker.postMessage({command:"stop"}),this._isStarted=!1)}},{key:"finalize",value:function(){this.stop()}},{key:"process",value:function(e,t,r){if(this._isStarted){this.outFrame=new Float32Array(t);var n=this.outFrame.buffer;this.worker.postMessage({command:"process",time:e,buffer:n},[n])}}},{key:"retrieve",value:function(){var e=this;return new a["default"](function(t,r){var n=function i(r){e._started=!1,e.worker.removeEventListener("message",i,!1),t(r.data.data)};e.worker.addEventListener("message",n,!1)})}}]),t}(y["default"]);r["default"]=w},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/core-js/promise":47,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],21:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./audio-recorder"),a=n(i),o=e("./bpf"),s=n(o),u=e("./bridge"),l=n(u),c=e("./data-recorder"),f=n(c),h=e("./marker"),p=n(h),b=e("./spectrogram"),d=n(b),m=e("./socket-client"),_=n(m),v=e("./socket-server"),y=n(v),g=e("./sonogram"),w=n(g),j=e("./synchronized-draw"),k=n(j),C=e("./trace"),x=n(C),S=e("./waveform"),P=n(S);r["default"]={AudioRecorder:a["default"],Bpf:s["default"],Bridge:l["default"],DataRecorder:f["default"],Marker:p["default"],Spectrogram:d["default"],SocketClient:_["default"],SocketServer:y["default"],Sonogram:w["default"],SynchronizedDraw:k["default"],Trace:x["default"],Waveform:P["default"]}},{"./audio-recorder":16,"./bpf":18,"./bridge":19,"./data-recorder":20,"./marker":22,"./socket-client":23,"./socket-server":24,"./sonogram":25,"./spectrogram":26,"./synchronized-draw":27,"./trace":28,"./waveform":29}],22:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/inherits"),p=n(h),b=e("./base-draw"),d=n(b),m=e("../utils/draw-utils"),_=function(e){function t(e){return(0,s["default"])(this,t),(0,f["default"])(this,(0,a["default"])(t).call(this,{frameSize:1,color:(0,m.getRandomColor)(),threshold:0},e))}return(0,p["default"])(t,e),(0,l["default"])(t,[{key:"drawCurve",value:function(e,t,r){var n=(this.params.color,this.ctx),i=(n.height,e[0]);i>this.params.threshold&&(n.save(),n.strokeStyle=this.params.color,n.beginPath(),n.moveTo(-r,this.getYPosition(this.params.min)),n.lineTo(-r,this.getYPosition(this.params.max)),n.stroke(),n.closePath(),n.restore())}}]),t}(d["default"]);r["default"]=_},{"../utils/draw-utils":36,"./base-draw":17,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],23:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/inherits"),p=n(h),b=e("../core/base-lfo"),d=n(b),m=e("../utils/socket-utils"),_=function(e){function t(e){(0,s["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,{port:3030,address:window.location.hostname},e));return r.socket=null,r.initConnection(),r}return(0,p["default"])(t,e),(0,l["default"])(t,[{key:"initConnection",value:function(){var e=this,t="ws://"+this.params.address+":"+this.params.port;this.socket=new WebSocket(t),this.socket.binaryType="arraybuffer",this.socket.onopen=function(){e.params.onopen()},this.socket.onclose=function(){},this.socket.onmessage=function(){},this.socket.onerror=function(e){console.error(e)}}},{key:"process",value:function(e,t,r){var n=(0,m.encodeMessage)(e,t,r);this.socket.send(n)}}]),t}(d["default"]);r["default"]=_},{"../core/base-lfo":1,"../utils/socket-utils":38,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],24:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("babel-runtime/core-js/object/get-prototype-of"),o=i(a),s=e("babel-runtime/helpers/classCallCheck"),u=i(s),l=e("babel-runtime/helpers/createClass"),c=i(l),f=e("babel-runtime/helpers/possibleConstructorReturn"),h=i(f),p=e("babel-runtime/helpers/inherits"),b=i(p),d=e("../core/base-lfo"),m=i(d),_=e("ws"),v=n(_),y=e("../utils/socket-utils"),g=function(e){function t(e){(0,u["default"])(this,t);var r=(0,h["default"])(this,(0,o["default"])(t).call(this,{port:3031},e));return r.server=null,r.initServer(),r}return(0,b["default"])(t,e),(0,c["default"])(t,[{key:"initServer",value:function(){this.server=new v.Server({port:this.params.port})}},{key:"process",value:function(e,t,r){var n=(0,y.encodeMessage)(e,t,r),i=(0,y.arrayBufferToBuffer)(n);this.server.clients.forEach(function(e){e.send(i)})}}]),t}(m["default"]);r["default"]=g},{"../core/base-lfo":1,"../utils/socket-utils":38,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54,ws:156}],25:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/inherits"),p=n(h),b=e("./base-draw"),d=n(b),m=(e("../utils/draw-utils"),function(e){function t(e){return(0,s["default"])(this,t),(0,f["default"])(this,(0,a["default"])(t).call(this,{scale:1},e))}return(0,p["default"])(t,e),(0,l["default"])(t,[{key:"drawCurve",value:function(e,t,r){for(var n=this.ctx,i=this.params.height,a=this.params.scale,o=e.length/this.params.height,s=0;i>s;s++){var u=s*o,l=Math.floor(u),c=Math.ceil(u),f=e[l],h=e[c],p=u-l,b=h-f,d=f,m=b*p+d,_=m*m,v=this.params.height-s,y=Math.round(_*a*255);n.fillStyle="rgba("+y+", "+y+", "+y+", 1)",n.fillRect(-r,v,r,-1)}}},{key:"scale",set:function(e){this.params.scale=e},get:function(){return this.params.scale}}]),t}(d["default"]));r["default"]=m},{"../utils/draw-utils":36,"./base-draw":17,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],26:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/inherits"),p=n(h),b=e("./base-draw"),d=n(b),m=e("../utils/draw-utils"),_=function(e){function t(e){return(0,s["default"])(this,t),(0,f["default"])(this,(0,a["default"])(t).call(this,{min:0,max:1,scale:1,color:(0,m.getRandomColor)()},e))}return(0,p["default"])(t,e),(0,l["default"])(t,[{key:"drawCurve",value:function(e){var t=e.length,r=this.params.width,n=this.params.height,i=r/t,a=this.params.scale,o=this.ctx;o.fillStyle=this.params.color,o.clearRect(0,0,r,n);for(var s=0;t>s;s++){var u=Math.round(s/t*r),l=this.getYPosition(e[s]*a);o.fillRect(u,l,i,n-l)}}},{key:"scale",set:function(e){this.params.scale=e},get:function(){return this.params.scale}}]),t}(d["default"]);r["default"]=_},{"../utils/draw-utils":36,"./base-draw":17,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],27:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),a=n(i),o=e("babel-runtime/helpers/createClass"),s=n(o),u=function(){function e(){(0,a["default"])(this,e),this.views=[],this.add.apply(this,arguments)}return(0,s["default"])(e,[{key:"add",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];r.forEach(function(t){e.install(t)})}},{key:"install",value:function(e){this.views.push(e),e.params.isSynchronized=!0,e.synchronizer=this}},{key:"shiftSiblings",value:function(e,t){this.views.forEach(function(r){r!==t&&r.shiftCanvas(e)})}}]),e}();r["default"]=u},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],28:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/inherits"),p=n(h),b=e("./base-draw"),d=n(b),m=e("../utils/draw-utils"),_=function(e){function t(e){return(0,s["default"])(this,t),(0,f["default"])(this,(0,a["default"])(t).call(this,{colorScheme:"none",color:(0,m.getRandomColor)()},e))}return(0,p["default"])(t,e),(0,l["default"])(t,[{key:"drawCurve",value:function(e,t,r){var n=this.ctx,i=void 0,a=e[1]/2,o=this.getYPosition(e[0]),s=this.getYPosition(e[0]-a),u=this.getYPosition(e[0]+a),l=void 0,c=void 0,f=void 0;switch(t&&(l=t[1]/2,c=this.getYPosition(t[0]-l),f=this.getYPosition(t[0]+l)),this.params.colorScheme){case"none":n.fillStyle=this.params.color;break;case"hue":i=n.createLinearGradient(-r,0,0,0),t?i.addColorStop(0,"hsl("+(0,m.getHue)(t[2])+", 100%, 50%)"):i.addColorStop(0,"hsl("+(0,m.getHue)(e[2])+", 100%, 50%)"),i.addColorStop(1,"hsl("+(0,m.getHue)(e[2])+", 100%, 50%)"),n.fillStyle=i;break;case"opacity":var h=(0,m.hexToRGB)(this.params.color);i=n.createLinearGradient(-r,0,0,0),t?i.addColorStop(0,"rgba("+h.join(",")+","+t[2]+")"):i.addColorStop(0,"rgba("+h.join(",")+","+e[2]+")"),i.addColorStop(1,"rgba("+h.join(",")+","+e[2]+")"),n.fillStyle=i}n.save(),n.beginPath(),n.moveTo(0,o),n.lineTo(0,u),t&&(n.lineTo(-r,f),n.lineTo(-r,c)),n.lineTo(0,s),n.closePath(),n.fill(),n.restore()}}]),t}(d["default"]);r["default"]=_,t.exports=_},{"../utils/draw-utils":36,"./base-draw":17,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],29:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/inherits"),p=n(h),b=e("./base-draw"),d=n(b),m=e("../utils/draw-utils"),_=function(e){function t(e){return(0,s["default"])(this,t),(0,f["default"])(this,(0,a["default"])(t).call(this,{color:(0,m.getRandomColor)()},e))}return(0,p["default"])(t,e),(0,l["default"])(t,[{key:"drawCurve",value:function(e,t,r){var n=this.ctx,i=this.getYPosition(e[0]),a=this.getYPosition(e[1]);if(n.save(),n.fillStyle=this.params.color,n.beginPath(),n.moveTo(0,this.getYPosition(0)),n.lineTo(0,a),t){var o=this.getYPosition(t[0]),s=this.getYPosition(t[1]);n.lineTo(-r,s),n.lineTo(-r,o)}n.lineTo(0,i),n.closePath(),n.fill(),n.restore()}}]),t}(d["default"]);r["default"]=_},{"../utils/draw-utils":36,"./base-draw":17,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],30:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/possibleConstructorReturn"),s=n(o),u=e("babel-runtime/helpers/get"),l=n(u),c=e("babel-runtime/helpers/inherits"),f=n(c),h=e("babel-runtime/helpers/classCallCheck"),p=n(h),b=e("babel-runtime/helpers/createClass"),d=n(b),m=e("../core/base-lfo"),_=n(m),v="\nself.addEventListener('message', function process(e) {\n  var blockSize = e.data.blockSize;\n  var bufferSource = e.data.buffer;\n  var buffer = new Float32Array(bufferSource);\n  var length = buffer.length;\n  var index = 0;\n\n  while (index < length) {\n    var copySize = Math.min(length - index, blockSize);\n    var block = buffer.subarray(index, index + copySize);\n    var sendBlock = new Float32Array(block);\n\n    postMessage({\n      command: 'process',\n      index: index,\n      buffer: sendBlock.buffer,\n    }, [sendBlock.buffer]);\n\n    index += copySize;\n  }\n\n  postMessage({\n    command: 'finalize',\n    index: index,\n    buffer: bufferSource,\n  }, [bufferSource]);\n}, false)",y=function(){function e(){(0,p["default"])(this,e),this._callback=null}return(0,d["default"])(e,[{key:"postMessage",value:function(e){var t=e.blockSize,r=e.buffer,n=new Float32Array(r),i=n.length,a=this,o=0;!function s(){if(i>o){var e=Math.min(i-o,t),r=n.subarray(o,o+e),u=new Float32Array(r);a._send({command:"process",index:o,buffer:u.buffer}),o+=e,setTimeout(s,0)}else a._send({command:"finalize",index:o,buffer:n})}()}},{key:"addListener",value:function(e){this._callback=e}},{key:"_send",value:function(e){this._callback({data:e})}}]),e}(),g=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,p["default"])(this,t);var r=(0,s["default"])(this,(0,a["default"])(t).call(this,{frameSize:512,channel:0,ctx:null,buffer:null,useWorker:!0},e));if(r.buffer=r.params.buffer,r.endTime=0,!(r.params.ctx&&r.params.ctx instanceof AudioContext))throw new Error("Missing audio context parameter (ctx)");if(!(r.params.buffer&&r.params.buffer instanceof AudioBuffer))throw new Error("Missing audio buffer parameter (buffer)");return r.blob=new Blob([v],{type:"text/javascript"}),r.worker=null,r.process=r.process.bind(r),r}return(0,f["default"])(t,e),(0,d["default"])(t,[{key:"setupStream",value:function(){this.outFrame=null}},{key:"initialize",value:function(){(0,l["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,{frameSize:this.params.frameSize,frameRate:this.buffer.sampleRate/this.params.frameSize,sourceSampleRate:this.buffer.sampleRate})}},{key:"start",value:function(){this.initialize(),this.reset(),this.params.useWorker?(this.worker=new Worker(window.URL.createObjectURL(this.blob)),this.worker.addEventListener("message",this.process,!1)):(this.worker=new y,this.worker.addListener(this.process)),this.endTime=0;var e=this.buffer.getChannelData(this.params.channel).buffer,t=e;this.params.useWorker&&(t=e.slice(0)),this.worker.postMessage({blockSize:this.streamParams.frameSize,buffer:t},[t])}},{key:"stop",value:function(){this.worker.terminate(),this.worker=null,this.finalize(this.endTime)}},{key:"process",value:function(e){var t=this.streamParams.sourceSampleRate,r=e.data.command,n=e.data.index,i=e.data.buffer,a=n/t;"finalize"===r?this.finalize(a):(this.outFrame=new Float32Array(i),this.time=a,this.output(),this.endTime=this.time+this.outFrame.length/t)}}]),t}(_["default"]);r["default"]=g},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],31:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/get"),p=n(h),b=e("babel-runtime/helpers/inherits"),d=n(b),m=e("../core/base-lfo"),_=n(m),v=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,s["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,{frameSize:512,channel:0,ctx:null,src:null},e));if(!(r.params.ctx&&r.params.ctx instanceof AudioContext))throw new Error("Missing audio context parameter (ctx)");if(!(r.params.src&&r.params.src instanceof AudioNode))throw new Error("Missing audio source node parameter (src)");return r}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"initialize",value:function(){var e=this.params.ctx;(0,p["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,{frameSize:this.params.frameSize,frameRate:e.sampleRate/this.params.frameSize,sourceSampleRate:e.sampleRate});var r=this.streamParams.frameSize;this.scriptProcessor=e.createScriptProcessor(r,1,1),this.scriptProcessor.onaudioprocess=this.process.bind(this),this.params.src.connect(this.scriptProcessor)}},{key:"start",value:function(){this.initialize(),this.reset(),this.time=0,this.scriptProcessor.connect(this.params.ctx.destination)}},{key:"stop",value:function(){this.finalize(this.time),this.scriptProcessor.disconnect()}},{key:"process",value:function(e){var t=e.inputBuffer.getChannelData(this.params.channel);this.blockDuration||(this.blockDuration=t.length/this.streamParams.sourceSampleRate),this.outFrame=t,this.output(),this.time+=this.blockDuration}}]),t}(_["default"]);r["default"]=v},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],32:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/get"),p=n(h),b=e("babel-runtime/helpers/inherits"),d=n(b),m=e("../core/base-lfo"),_=n(m),v=function(e){function t(e){(0,s["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,{absoluteTime:!1},e));return r.params.ctx||"undefined"!=typeof process||(r.params.ctx=new AudioContext),r._isStarted=!1,r._startTime=void 0,r}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"initialize",value:function(){(0,p["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,{frameSize:this.params.frameSize,frameRate:this.params.frameRate,sourceSampleRate:this.params.frameRate})}},{key:"start",value:function(){this.initialize(),this.reset();this.params.ctx.currentTime;this._isStarted=!0,this._startTime=void 0,this._lastTime=void 0}},{key:"stop",value:function(){if(this._isStarted&&this._startTime){var e=this.params.ctx.currentTime,t=this.time+(e-this._lastTime);this.finalize(t)}}},{key:"process",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(this._isStarted){var n=this.params.ctx.currentTime,i=!isNaN(parseFloat(e))&&isFinite(e)?e:n;this._startTime||(this._startTime=i),this.params.absoluteTime===!1&&(i=e-this._startTime),void 0===t.length&&(t=[t]),this.outFrame.set(t,0),this.time=i,this.metaData=r,this._lastTime=n,this.output()}}}]),t}(_["default"]);r["default"]=v,t.exports=v},{"../core/base-lfo":1,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],33:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./audio-in-buffer"),a=n(i),o=e("./audio-in-node"),s=n(o),u=e("./event-in"),l=n(u),c=e("./socket-client"),f=n(c),h=e("./socket-server"),p=n(h);r["default"]={AudioInBuffer:a["default"],AudioInNode:s["default"],EventIn:l["default"],SocketClient:f["default"],SocketServer:p["default"]}},{"./audio-in-buffer":30,"./audio-in-node":31,"./event-in":32,"./socket-client":34,"./socket-server":35}],34:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/helpers/classCallCheck"),s=n(o),u=e("babel-runtime/helpers/createClass"),l=n(u),c=e("babel-runtime/helpers/possibleConstructorReturn"),f=n(c),h=e("babel-runtime/helpers/get"),p=n(h),b=e("babel-runtime/helpers/inherits"),d=n(b),m=e("../core/base-lfo"),_=n(m),v=e("../utils/socket-utils"),y=function(e){function t(e){(0,s["default"])(this,t);var r=(0,f["default"])(this,(0,a["default"])(t).call(this,{port:3031,address:window.location.hostname},e));return r.socket=null,r.initConnection(),r}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"start",value:function(){this.initialize(),this.reset()}},{key:"initialize",value:function(){(0,p["default"])((0,a["default"])(t.prototype),"initialize",this).call(this,void 0,{frameSize:this.params.frameSize,frameRate:this.params.frameRate})}},{key:"initConnection",value:function(){var e=this,t="ws://"+this.params.address+":"+this.params.port;
this.socket=new WebSocket(t),this.socket.binaryType="arraybuffer",this.socket.onopen=function(){e.start()},this.socket.onclose=function(){},this.socket.onmessage=function(t){e.process(t.data)},this.socket.onerror=function(e){console.error(e)}}},{key:"process",value:function(e){var t=(0,v.decodeMessage)(e);this.time=t.time,this.outFrame=t.frame,this.metaData=t.metaData,this.output()}}]),t}(_["default"]);r["default"]=y},{"../core/base-lfo":1,"../utils/socket-utils":38,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/get":52,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54}],35:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("babel-runtime/core-js/object/get-prototype-of"),o=i(a),s=e("babel-runtime/helpers/classCallCheck"),u=i(s),l=e("babel-runtime/helpers/createClass"),c=i(l),f=e("babel-runtime/helpers/possibleConstructorReturn"),h=i(f),p=e("babel-runtime/helpers/inherits"),b=i(p),d=e("../core/base-lfo"),m=i(d),_=e("ws"),v=n(_),y=e("../utils/socket-utils"),g=function(e){function t(e){(0,u["default"])(this,t);var r=(0,h["default"])(this,(0,o["default"])(t).call(this,{port:3030},e));return r.clients=[],r.server=null,r.initServer(),r.start(),r}return(0,b["default"])(t,e),(0,c["default"])(t,[{key:"start",value:function(){this.initialize(),this.reset()}},{key:"initServer",value:function(){var e=this;this.server=new v.Server({port:this.params.port}),this.server.on("connection",function(t){t.on("message",e.process.bind(e))})}},{key:"process",value:function(e){var t=(0,y.bufferToArrayBuffer)(e),r=(0,y.decodeMessage)(t);this.time=r.time,this.outFrame=r.frame,this.metaData=r.metaData,this.output()}}]),t}(m["default"]);r["default"]=g},{"../core/base-lfo":1,"../utils/socket-utils":38,"babel-runtime/core-js/object/get-prototype-of":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":53,"babel-runtime/helpers/possibleConstructorReturn":54,ws:156}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){for(var e="0123456789ABCDEF".split(""),t="#",r=0;6>r;r++)t+=e[Math.floor(16*Math.random())];return t},i=function(e){var t=0,r=1,n=270,i=0;return(i-n)*(e-t)/(r-t)+n},a=function(e){e=e.substring(1,7);var t=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),n=parseInt(e.substring(4,6),16);return[t,r,n]};r["default"]={getRandomColor:n,getHue:i,hexToRGB:a}},{}],37:[function(e,t,r){"use strict";function n(e,t,r){for(var n=0,i=0,a=2*l/t,o=0;t>o;o++){var s=o*a,u=.5-.5*c(s);e[o]=u,n+=u,i+=u*u}r.linear=t/n,r.power=h(t/i)}function i(e,t,r){for(var n=0,i=0,a=2*l/t,o=0;t>o;o++){var s=o*a,u=.54-.46*c(s);e[o]=u,n+=u,i+=u*u}r.linear=t/n,r.power=h(t/i)}function a(e,t,r){for(var n=0,i=0,a=2*l/t,o=0;t>o;o++){var s=o*a,u=.42-.5*c(s)+.08*c(2*s);e[o]=u,n+=u,i+=u*u}r.linear=t/n,r.power=h(t/i)}function o(e,t,r){for(var n=0,i=0,a=.35875,o=.48829,s=.14128,u=.01168,f=2*l/t,p=0;t>p;p++){var b=p*f,d=a-o*c(b)+s*c(2*b);-u*c(3*b),e[p]=d,n+=d,i+=d*d}r.linear=t/n,r.power=h(t/i)}function s(e,t,r){for(var n=0,i=0,a=l/t,o=0;t>o;o++){var s=o*a,u=f(s);e[o]=u,n+=u,i+=u*u}r.linear=t/n,r.power=h(t/i)}function u(e,t,r){for(var n=0;t>n;n++)e[n]=1}Object.defineProperty(r,"__esModule",{value:!0});var l=Math.PI,c=Math.cos,f=Math.sin,h=Math.sqrt;r["default"]=function(){return function(e,t,r,l){switch(e=e.toLowerCase()){case"hann":case"hanning":n(t,r,l);break;case"hamming":i(t,r,l);break;case"blackman":a(t,r,l);break;case"blackmanharris":o(t,r,l);break;case"sine":s(t,r,l);break;case"rectangle":u(t,r,l)}}}()},{}],38:[function(e,t,r){(function(r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return String.fromCharCode.apply(null,e)}function a(e){for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),n=0,i=e.length;i>n;n++)r[n]=e.charCodeAt(n);return r}var o=e("babel-runtime/core-js/json/stringify"),s=n(o);t.exports.bufferToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;++n)r[n]=e[n];return t},t.exports.arrayBufferToBuffer=function(e){for(var t=new r(e.byteLength),n=new Uint8Array(e),i=0;i<t.length;++i)t[i]=n[i];return t},t.exports.encodeMessage=function(e,t,r){var n=new Float64Array(1);n[0]=e;var i=new Uint16Array(n.buffer),o=new Uint16Array(1);o[0]=t.length;var u=new Uint16Array(t.buffer),l=a((0,s["default"])(r)),c=i.length+o.length+u.length+l.length,f=new Uint16Array(c);return f.set(i,0),f.set(o,i.length),f.set(u,i.length+o.length),f.set(l,i.length+o.length+u.length),f.buffer},t.exports.decodeMessage=function(e){var t=new Float64Array(e.slice(0,8)),r=t[0],n=new Uint16Array(e.slice(8,10)),a=n[0],o=4*a,s=new Float32Array(e.slice(10,10+o)),u=new Uint16Array(e.slice(10+o)),l=i(u);return l=JSON.parse(l.replace(/\u0000/g,"")),{time:r,frame:s,metaData:l}}}).call(this,e("buffer").Buffer)},{"babel-runtime/core-js/json/stringify":40,buffer:150}],39:[function(e,t,r){t.exports={"default":e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":56}],40:[function(e,t,r){t.exports={"default":e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":57}],41:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":58}],42:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":59}],43:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":60}],44:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":61}],45:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":62}],46:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":63}],47:[function(e,t,r){t.exports={"default":e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":64}],48:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":65}],49:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":66}],50:[function(e,t,r){"use strict";r.__esModule=!0,r["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],51:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var i=e("babel-runtime/core-js/object/define-property"),a=n(i);r["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a["default"])(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"babel-runtime/core-js/object/define-property":43}],52:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var i=e("babel-runtime/core-js/object/get-prototype-of"),a=n(i),o=e("babel-runtime/core-js/object/get-own-property-descriptor"),s=n(o);r["default"]=function u(e,t,r){null===e&&(e=Function.prototype);var n=(0,s["default"])(e,t);if(void 0===n){var i=(0,a["default"])(e);return null===i?void 0:u(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)}},{"babel-runtime/core-js/object/get-own-property-descriptor":44,"babel-runtime/core-js/object/get-prototype-of":45}],53:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var i=e("babel-runtime/core-js/object/set-prototype-of"),a=n(i),o=e("babel-runtime/core-js/object/create"),s=n(o),u=e("babel-runtime/helpers/typeof"),l=n(u);r["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,l["default"])(t)));e.prototype=(0,s["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(a["default"]?(0,a["default"])(e,t):e.__proto__=t)}},{"babel-runtime/core-js/object/create":42,"babel-runtime/core-js/object/set-prototype-of":46,"babel-runtime/helpers/typeof":55}],54:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var i=e("babel-runtime/helpers/typeof"),a=n(i);r["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,a["default"])(t))&&"function"!=typeof t?e:t}},{"babel-runtime/helpers/typeof":55}],55:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var i=e("babel-runtime/core-js/symbol/iterator"),a=n(i),o=e("babel-runtime/core-js/symbol"),s=n(o),u="function"==typeof s["default"]&&"symbol"==typeof a["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof s["default"]&&e.constructor===s["default"]?"symbol":typeof e};r["default"]="function"==typeof s["default"]&&"symbol"===u(a["default"])?function(e){return"undefined"==typeof e?"undefined":u(e)}:function(e){return e&&"function"==typeof s["default"]&&e.constructor===s["default"]?"symbol":"undefined"==typeof e?"undefined":u(e)}},{"babel-runtime/core-js/symbol":48,"babel-runtime/core-js/symbol/iterator":49}],56:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":74,"../../modules/es6.array.from":137,"../../modules/es6.string.iterator":147}],57:[function(e,t,r){var n=e("../../modules/_core"),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(e){return i.stringify.apply(i,arguments)}},{"../../modules/_core":74}],58:[function(e,t,r){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":74,"../../modules/es6.object.assign":139}],59:[function(e,t,r){e("../../modules/es6.object.create");var n=e("../../modules/_core").Object;t.exports=function(e,t){return n.create(e,t)}},{"../../modules/_core":74,"../../modules/es6.object.create":140}],60:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":74,"../../modules/es6.object.define-property":141}],61:[function(e,t,r){e("../../modules/es6.object.get-own-property-descriptor");var n=e("../../modules/_core").Object;t.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},{"../../modules/_core":74,"../../modules/es6.object.get-own-property-descriptor":142}],62:[function(e,t,r){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":74,"../../modules/es6.object.get-prototype-of":143}],63:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":74,"../../modules/es6.object.set-prototype-of":144}],64:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/_core").Promise},{"../modules/_core":74,"../modules/es6.object.to-string":145,"../modules/es6.promise":146,"../modules/es6.string.iterator":147,"../modules/web.dom.iterable":149}],65:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":74,"../../modules/es6.object.to-string":145,"../../modules/es6.symbol":148}],66:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks")("iterator")},{"../../modules/_wks":135,"../../modules/es6.string.iterator":147,"../../modules/web.dom.iterable":149}],67:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],68:[function(e,t,r){t.exports=function(){}},{}],69:[function(e,t,r){t.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},{}],70:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":93}],71:[function(e,t,r){var n=e("./_to-iobject"),i=e("./_to-length"),a=e("./_to-index");t.exports=function(e){return function(t,r,o){var s,u=n(t),l=i(u.length),c=a(o,l);if(e&&r!=r){for(;l>c;)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c;return!e&&-1}}},{"./_to-index":128,"./_to-iobject":130,"./_to-length":131}],72:[function(e,t,r){var n=e("./_cof"),i=e("./_wks")("toStringTag"),a="Arguments"==n(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(r){}};t.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=o(t=Object(e),i))?r:a?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},{"./_cof":73,"./_wks":135}],73:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],74:[function(e,t,r){var n=t.exports={version:"2.2.1"};"number"==typeof __e&&(__e=n)},{}],75:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":67}],76:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],77:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":82}],78:[function(e,t,r){var n=e("./_is-object"),i=e("./_global").document,a=n(i)&&n(i.createElement);t.exports=function(e){return a?i.createElement(e):{}}},{"./_global":84,"./_is-object":93}],79:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],80:[function(e,t,r){var n=e("./_object-keys"),i=e("./_object-gops"),a=e("./_object-pie");t.exports=function(e){var t=n(e),r=i.f;if(r)for(var o,s=r(e),u=a.f,l=0;s.length>l;)u.call(e,o=s[l++])&&t.push(o);return t}},{"./_object-gops":111,"./_object-keys":114,"./_object-pie":115}],81:[function(e,t,r){var n=e("./_global"),i=e("./_core"),a=e("./_ctx"),o=e("./_hide"),s="prototype",u=function(e,t,r){var l,c,f,h=e&u.F,p=e&u.G,b=e&u.S,d=e&u.P,m=e&u.B,_=e&u.W,v=p?i:i[t]||(i[t]={}),y=v[s],g=p?n:b?n[t]:(n[t]||{})[s];p&&(r=t);for(l in r)c=!h&&g&&void 0!==g[l],c&&l in v||(f=c?g[l]:r[l],v[l]=p&&"function"!=typeof g[l]?r[l]:m&&c?a(f,n):_&&g[l]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[s]=e[s],t}(f):d&&"function"==typeof f?a(Function.call,f):f,d&&((v.virtual||(v.virtual={}))[l]=f,e&u.R&&y&&!y[l]&&o(y,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{"./_core":74,"./_ctx":75,"./_global":84,"./_hide":86}],82:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],83:[function(e,t,r){var n=e("./_ctx"),i=e("./_iter-call"),a=e("./_is-array-iter"),o=e("./_an-object"),s=e("./_to-length"),u=e("./core.get-iterator-method");t.exports=function(e,t,r,l,c){var f,h,p,b=c?function(){return e}:u(e),d=n(r,l,t?2:1),m=0;if("function"!=typeof b)throw TypeError(e+" is not iterable!");if(a(b))for(f=s(e.length);f>m;m++)t?d(o(h=e[m])[0],h[1]):d(e[m]);else for(p=b.call(e);!(h=p.next()).done;)i(p,d,h.value,t)}},{"./_an-object":70,"./_ctx":75,"./_is-array-iter":91,"./_iter-call":94,"./_to-length":131,"./core.get-iterator-method":136}],84:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],85:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],86:[function(e,t,r){var n=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":77,"./_object-dp":106,"./_property-desc":117}],87:[function(e,t,r){t.exports=e("./_global").document&&document.documentElement},{"./_global":84}],88:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":77,"./_dom-create":78,"./_fails":82}],89:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],90:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":73}],91:[function(e,t,r){var n=e("./_iterators"),i=e("./_wks")("iterator"),a=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},{"./_iterators":99,"./_wks":135}],92:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":73}],93:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],94:[function(e,t,r){var n=e("./_an-object");t.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(a){var o=e["return"];throw void 0!==o&&n(o.call(e)),a}}},{"./_an-object":70}],95:[function(e,t,r){"use strict";var n=e("./_object-create"),i=e("./_property-desc"),a=e("./_set-to-string-tag"),o={};e("./_hide")(o,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)}),a(e,t+" Iterator")}},{"./_hide":86,"./_object-create":105,"./_property-desc":117,"./_set-to-string-tag":122,"./_wks":135}],96:[function(e,t,r){"use strict";var n=e("./_library"),i=e("./_export"),a=e("./_redefine"),o=e("./_hide"),s=e("./_has"),u=e("./_iterators"),l=e("./_iter-create"),c=e("./_set-to-string-tag"),f=e("./_object-gpo"),h=e("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),b="@@iterator",d="keys",m="values",_=function(){return this};t.exports=function(e,t,r,v,y,g,w){l(r,t,v);var j,k,C,x=function(e){if(!p&&e in A)return A[e];switch(e){case d:return function(){return new r(this,e)};case m:return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",P=y==m,M=!1,A=e.prototype,R=A[h]||A[b]||y&&A[y],O=R||x(y),T=y?P?x("entries"):O:void 0,E="Array"==t?A.entries||R:R;if(E&&(C=f(E.call(new e)),C!==Object.prototype&&(c(C,S,!0),n||s(C,h)||o(C,h,_))),P&&R&&R.name!==m&&(M=!0,O=function(){return R.call(this)}),n&&!w||!p&&!M&&A[h]||o(A,h,O),u[t]=O,u[S]=_,y)if(j={values:P?O:x(m),keys:g?O:x(d),entries:T},w)for(k in j)k in A||a(A,k,j[k]);else i(i.P+i.F*(p||M),t,j);return j}},{"./_export":81,"./_has":85,"./_hide":86,"./_iter-create":95,"./_iterators":99,"./_library":101,"./_object-gpo":112,"./_redefine":119,"./_set-to-string-tag":122,"./_wks":135}],97:[function(e,t,r){var n=e("./_wks")("iterator"),i=!1;try{var a=[7][n]();a["return"]=function(){i=!0},Array.from(a,function(){throw 2})}catch(o){}t.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a=[7],o=a[n]();o.next=function(){r=!0},a[n]=function(){return o},e(a)}catch(s){}return r}},{"./_wks":135}],98:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],99:[function(e,t,r){t.exports={}},{}],100:[function(e,t,r){var n=e("./_object-keys"),i=e("./_to-iobject");t.exports=function(e,t){for(var r,a=i(e),o=n(a),s=o.length,u=0;s>u;)if(a[r=o[u++]]===t)return r}},{"./_object-keys":114,"./_to-iobject":130}],101:[function(e,t,r){t.exports=!0},{}],102:[function(e,t,r){var n=e("./_uid")("meta"),i=e("./_is-object"),a=e("./_has"),o=e("./_object-dp").f,s=0,u=Object.isExtensible||function(){return!0},l=!e("./_fails")(function(){return u(Object.preventExtensions({}))}),c=function(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[n].i},h=function(e,t){if(!a(e,n)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[n].w},p=function(e){return l&&b.NEED&&u(e)&&!a(e,n)&&c(e),e},b=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:h,onFreeze:p}},{"./_fails":82,"./_has":85,"./_is-object":93,"./_object-dp":106,"./_uid":134}],103:[function(e,t,r){var n,i,a,o=e("./_global"),s=e("./_task").set,u=o.MutationObserver||o.WebKitMutationObserver,l=o.process,c=o.Promise,f="process"==e("./_cof")(l),h=function(){var e,t;for(f&&(e=l.domain)&&e.exit();n;)t=n.fn,t(),n=n.next;i=void 0,e&&e.enter()};if(f)a=function(){l.nextTick(h)};else if(u){var p=!0,b=document.createTextNode("");new u(h).observe(b,{characterData:!0}),a=function(){b.data=p=!p}}else a=c&&c.resolve?function(){c.resolve().then(h)}:function(){s.call(o,h)};t.exports=function(e){var t={fn:e,next:void 0};i&&(i.next=t),n||(n=t,a()),i=t}},{"./_cof":73,"./_global":84,"./_task":127}],104:[function(e,t,r){"use strict";var n=e("./_object-keys"),i=e("./_object-gops"),a=e("./_object-pie"),o=e("./_to-object"),s=e("./_iobject"),u=Object.assign;t.exports=!u||e("./_fails")(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var r=o(e),u=arguments.length,l=1,c=i.f,f=a.f;u>l;)for(var h,p=s(arguments[l++]),b=c?n(p).concat(c(p)):n(p),d=b.length,m=0;d>m;)f.call(p,h=b[m++])&&(r[h]=p[h]);return r}:u},{"./_fails":82,"./_iobject":90,"./_object-gops":111,"./_object-keys":114,"./_object-pie":115,"./_to-object":132}],105:[function(e,t,r){var n=e("./_an-object"),i=e("./_object-dps"),a=e("./_enum-bug-keys"),o=e("./_shared-key")("IE_PROTO"),s=function(){},u="prototype",l=function(){var t,r=e("./_dom-create")("iframe"),n=a.length,i=">";for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",t=r.contentWindow.document,t.open(),t.write("<script>document.F=Object</script"+i),t.close(),l=t.F;n--;)delete l[u][a[n]];return l()};t.exports=Object.create||function(e,t){var r;return null!==e?(s[u]=n(e),r=new s,s[u]=null,r[o]=e):r=l(),void 0===t?r:i(r,t)}},{"./_an-object":70,"./_dom-create":78,"./_enum-bug-keys":79,"./_html":87,"./_object-dps":107,"./_shared-key":123}],106:[function(e,t,r){var n=e("./_an-object"),i=e("./_ie8-dom-define"),a=e("./_to-primitive"),o=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=a(t,!0),n(r),i)try{return o(e,t,r)}catch(s){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":70,"./_descriptors":77,"./_ie8-dom-define":88,"./_to-primitive":133}],107:[function(e,t,r){var n=e("./_object-dp"),i=e("./_an-object"),a=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){i(e);for(var r,o=a(t),s=o.length,u=0;s>u;)n.f(e,r=o[u++],t[r]);return e}},{"./_an-object":70,"./_descriptors":77,"./_object-dp":106,"./_object-keys":114}],108:[function(e,t,r){var n=e("./_object-pie"),i=e("./_property-desc"),a=e("./_to-iobject"),o=e("./_to-primitive"),s=e("./_has"),u=e("./_ie8-dom-define"),l=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?l:function(e,t){if(e=a(e),t=o(t,!0),u)try{return l(e,t)}catch(r){}return s(e,t)?i(!n.f.call(e,t),e[t]):void 0}},{"./_descriptors":77,"./_has":85,"./_ie8-dom-define":88,"./_object-pie":115,"./_property-desc":117,"./_to-iobject":130,"./_to-primitive":133}],109:[function(e,t,r){var n=e("./_to-iobject"),i=e("./_object-gopn").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return o.slice()}};t.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):i(n(e))}},{"./_object-gopn":110,"./_to-iobject":130}],110:[function(e,t,r){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},{"./_enum-bug-keys":79,"./_object-keys-internal":113}],111:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],112:[function(e,t,r){var n=e("./_has"),i=e("./_to-object"),a=e("./_shared-key")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},{"./_has":85,"./_shared-key":123,"./_to-object":132}],113:[function(e,t,r){var n=e("./_has"),i=e("./_to-iobject"),a=e("./_array-includes")(!1),o=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,s=i(e),u=0,l=[];for(r in s)r!=o&&n(s,r)&&l.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~a(l,r)||l.push(r));return l}},{"./_array-includes":71,"./_has":85,"./_shared-key":123,"./_to-iobject":130}],114:[function(e,t,r){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,i)}},{"./_enum-bug-keys":79,"./_object-keys-internal":113}],115:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],116:[function(e,t,r){var n=e("./_export"),i=e("./_core"),a=e("./_fails");t.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],o={};o[e]=t(r),n(n.S+n.F*a(function(){r(1)}),"Object",o)}},{"./_core":74,"./_export":81,"./_fails":82}],117:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],118:[function(e,t,r){var n=e("./_hide");t.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},{"./_hide":86}],119:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":86}],120:[function(e,t,r){var n=e("./_is-object"),i=e("./_an-object"),a=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,n){try{n=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),n(t,[]),r=!(t instanceof Array)}catch(i){r=!0}return function(e,t){return a(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:a}},{"./_an-object":70,"./_ctx":75,"./_is-object":93,"./_object-gopd":108}],121:[function(e,t,r){"use strict";var n=e("./_global"),i=e("./_core"),a=e("./_object-dp"),o=e("./_descriptors"),s=e("./_wks")("species");t.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];o&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},{"./_core":74,"./_descriptors":77,"./_global":84,"./_object-dp":106,"./_wks":135}],122:[function(e,t,r){var n=e("./_object-dp").f,i=e("./_has"),a=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},{"./_has":85,"./_object-dp":106,"./_wks":135}],123:[function(e,t,r){var n=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return n[e]||(n[e]=i(e))}},{"./_shared":124,"./_uid":134}],124:[function(e,t,r){var n=e("./_global"),i="__core-js_shared__",a=n[i]||(n[i]={});t.exports=function(e){return a[e]||(a[e]={})}},{"./_global":84}],125:[function(e,t,r){var n=e("./_an-object"),i=e("./_a-function"),a=e("./_wks")("species");t.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||void 0==(r=n(o)[a])?t:i(r)}},{"./_a-function":67,"./_an-object":70,"./_wks":135}],126:[function(e,t,r){var n=e("./_to-integer"),i=e("./_defined");t.exports=function(e){return function(t,r){var a,o,s=String(i(t)),u=n(r),l=s.length;return 0>u||u>=l?e?"":void 0:(a=s.charCodeAt(u),55296>a||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):(a-55296<<10)+(o-56320)+65536)}}},{"./_defined":76,"./_to-integer":129}],127:[function(e,t,r){var n,i,a,o=e("./_ctx"),s=e("./_invoke"),u=e("./_html"),l=e("./_dom-create"),c=e("./_global"),f=c.process,h=c.setImmediate,p=c.clearImmediate,b=c.MessageChannel,d=0,m={},_="onreadystatechange",v=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){v.call(e.data)};h&&p||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return m[++d]=function(){s("function"==typeof e?e:Function(e),t)},n(d),d},p=function(e){delete m[e]},"process"==e("./_cof")(f)?n=function(e){f.nextTick(o(v,e,1))}:b?(i=new b,a=i.port2,i.port1.onmessage=y,n=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):n=_ in l("script")?function(e){u.appendChild(l("script"))[_]=function(){u.removeChild(this),v.call(e)}}:function(e){setTimeout(o(v,e,1),0)}),t.exports={set:h,clear:p}},{"./_cof":73,"./_ctx":75,"./_dom-create":78,"./_global":84,"./_html":87,"./_invoke":89}],128:[function(e,t,r){var n=e("./_to-integer"),i=Math.max,a=Math.min;t.exports=function(e,t){return e=n(e),0>e?i(e+t,0):a(e,t)}},{"./_to-integer":129}],129:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},{}],130:[function(e,t,r){var n=e("./_iobject"),i=e("./_defined");t.exports=function(e){return n(i(e))}},{"./_defined":76,"./_iobject":90}],131:[function(e,t,r){var n=e("./_to-integer"),i=Math.min;t.exports=function(e){return e>0?i(n(e),9007199254740991):0}},{"./_to-integer":129}],132:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":76}],133:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":93}],134:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],135:[function(e,t,r){var n=e("./_shared")("wks"),i=e("./_uid"),a=e("./_global").Symbol,o="function"==typeof a;t.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:i)("Symbol."+e))}},{"./_global":84,"./_shared":124,"./_uid":134}],136:[function(e,t,r){var n=e("./_classof"),i=e("./_wks")("iterator"),a=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||a[n(e)]:void 0}},{"./_classof":72,"./_core":74,"./_iterators":99,"./_wks":135}],137:[function(e,t,r){"use strict";var n=e("./_ctx"),i=e("./_export"),a=e("./_to-object"),o=e("./_iter-call"),s=e("./_is-array-iter"),u=e("./_to-length"),l=e("./core.get-iterator-method");i(i.S+i.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,c,f=a(e),h="function"==typeof this?this:Array,p=arguments.length,b=p>1?arguments[1]:void 0,d=void 0!==b,m=0,_=l(f);if(d&&(b=n(b,p>2?arguments[2]:void 0,2)),void 0==_||h==Array&&s(_))for(t=u(f.length),r=new h(t);t>m;m++)r[m]=d?b(f[m],m):f[m];else for(c=_.call(f),r=new h;!(i=c.next()).done;m++)r[m]=d?o(c,b,[i.value,m],!0):i.value;return r.length=m,r}})},{"./_ctx":75,
"./_export":81,"./_is-array-iter":91,"./_iter-call":94,"./_iter-detect":97,"./_to-length":131,"./_to-object":132,"./core.get-iterator-method":136}],138:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),i=e("./_iter-step"),a=e("./_iterators"),o=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":68,"./_iter-define":96,"./_iter-step":98,"./_iterators":99,"./_to-iobject":130}],139:[function(e,t,r){var n=e("./_export");n(n.S+n.F,"Object",{assign:e("./_object-assign")})},{"./_export":81,"./_object-assign":104}],140:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":81,"./_object-create":105}],141:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":77,"./_export":81,"./_object-dp":106}],142:[function(e,t,r){var n=e("./_to-iobject"),i=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(e,t){return i(n(e),t)}})},{"./_object-gopd":108,"./_object-sap":116,"./_to-iobject":130}],143:[function(e,t,r){var n=e("./_to-object"),i=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return i(n(e))}})},{"./_object-gpo":112,"./_object-sap":116,"./_to-object":132}],144:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":81,"./_set-proto":120}],145:[function(e,t,r){},{}],146:[function(e,t,r){"use strict";var n,i,a,o=e("./_library"),s=e("./_global"),u=e("./_ctx"),l=e("./_classof"),c=e("./_export"),f=e("./_is-object"),h=(e("./_an-object"),e("./_a-function")),p=e("./_an-instance"),b=e("./_for-of"),d=(e("./_set-proto").set,e("./_species-constructor")),m=e("./_task").set,_=e("./_microtask"),v="Promise",y=s.TypeError,g=s.process,w=s[v],g=s.process,j="process"==l(g),k=function(){},C=!!function(){try{var t=w.resolve(1),r=(t.constructor={})[e("./_wks")("species")]=function(e){e(k,k)};return(j||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof r}catch(n){}}(),x=function(e,t){return e===t||e===w&&t===a},S=function(e){var t;return f(e)&&"function"==typeof(t=e.then)?t:!1},P=function(e){return x(w,e)?new M(e):new i(e)},M=i=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw y("Bad Promise constructor");t=e,r=n}),this.resolve=h(t),this.reject=h(r)},A=function(e){try{e()}catch(t){return{error:t}}},R=function(e,t){if(!e._n){e._n=!0;var r=e._c;_(function(){for(var n=e._v,i=1==e._s,a=0,o=function(t){var r,a,o=i?t.ok:t.fail,s=t.resolve,u=t.reject,l=t.domain;try{o?(i||(2==e._h&&E(e),e._h=1),o===!0?r=n:(l&&l.enter(),r=o(n),l&&l.exit()),r===t.promise?u(y("Promise-chain cycle")):(a=S(r))?a.call(r,s,u):s(r)):u(n)}catch(c){u(c)}};r.length>a;)o(r[a++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){m.call(s,function(){var t,r,n,i=e._v;if(T(e)&&(t=A(function(){j?g.emit("unhandledRejection",i,e):(r=s.onunhandledrejection)?r({promise:e,reason:i}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=j||T(e)?2:1),e._a=void 0,t)throw t.error})},T=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,n=0;r.length>n;)if(t=r[n++],t.fail||!T(t.promise))return!1;return!0},E=function(e){m.call(s,function(){var t;j?g.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},F=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},z=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw y("Promise can't be resolved itself");(t=S(e))?_(function(){var n={_w:r,_d:!1};try{t.call(e,u(z,n,1),u(F,n,1))}catch(i){F.call(n,i)}}):(r._v=e,r._s=1,R(r,!1))}catch(n){F.call({_w:r,_d:!1},n)}}};C||(w=function(e){p(this,w,v,"_h"),h(e),n.call(this);try{e(u(z,this,1),u(F,this,1))}catch(t){F.call(this,t)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=e("./_redefine-all")(w.prototype,{then:function(e,t){var r=P(d(this,w));return r.ok="function"==typeof e?e:!0,r.fail="function"==typeof t&&t,r.domain=j?g.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},"catch":function(e){return this.then(void 0,e)}}),M=function(){var e=new n;this.promise=e,this.resolve=u(z,e,1),this.reject=u(F,e,1)}),c(c.G+c.W+c.F*!C,{Promise:w}),e("./_set-to-string-tag")(w,v),e("./_set-species")(v),a=e("./_core")[v],c(c.S+c.F*!C,v,{reject:function(e){var t=P(this),r=t.reject;return r(e),t.promise}}),c(c.S+c.F*(o||!C),v,{resolve:function(e){if(e instanceof w&&x(e.constructor,this))return e;var t=P(this),r=t.resolve;return r(e),t.promise}}),c(c.S+c.F*!(C&&e("./_iter-detect")(function(e){w.all(e)["catch"](k)})),v,{all:function(e){var t=this,r=P(t),n=r.resolve,i=r.reject,a=A(function(){var r=[],a=0,o=1;b(e,!1,function(e){var s=a++,u=!1;r.push(void 0),o++,t.resolve(e).then(function(e){u||(u=!0,r[s]=e,--o||n(r))},i)}),--o||n(r)});return a&&i(a.error),r.promise},race:function(e){var t=this,r=P(t),n=r.reject,i=A(function(){b(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i&&n(i.error),r.promise}})},{"./_a-function":67,"./_an-instance":69,"./_an-object":70,"./_classof":72,"./_core":74,"./_ctx":75,"./_export":81,"./_for-of":83,"./_global":84,"./_is-object":93,"./_iter-detect":97,"./_library":101,"./_microtask":103,"./_redefine-all":118,"./_set-proto":120,"./_set-species":121,"./_set-to-string-tag":122,"./_species-constructor":125,"./_task":127,"./_wks":135}],147:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":96,"./_string-at":126}],148:[function(e,t,r){"use strict";var n=e("./_global"),i=e("./_core"),a=e("./_has"),o=e("./_descriptors"),s=e("./_export"),u=e("./_redefine"),l=e("./_meta").KEY,c=e("./_fails"),f=e("./_shared"),h=e("./_set-to-string-tag"),p=e("./_uid"),b=e("./_wks"),d=e("./_keyof"),m=e("./_enum-keys"),_=e("./_is-array"),v=e("./_an-object"),y=e("./_to-iobject"),g=e("./_to-primitive"),w=e("./_property-desc"),j=e("./_object-create"),k=e("./_object-gopn-ext"),C=e("./_object-gopd"),x=e("./_object-dp"),S=C.f,P=x.f,M=k.f,A=n.Symbol,R=n.JSON,O=R&&R.stringify,T=!1,E="prototype",F=b("_hidden"),z=b("toPrimitive"),I={}.propertyIsEnumerable,B=f("symbol-registry"),D=f("symbols"),U=Object[E],L="function"==typeof A,Y=n.QObject,N=o&&c(function(){return 7!=j(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=S(U,t);n&&delete U[t],P(e,t,r),n&&e!==U&&P(U,t,n)}:P,q=function(e){var t=D[e]=j(A[E]);return t._k=e,o&&T&&N(U,e,{configurable:!0,set:function(t){a(this,F)&&a(this[F],e)&&(this[F][e]=!1),N(this,e,w(1,t))}}),t},W=L&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},J=function(e,t,r){return v(e),t=g(t,!0),v(r),a(D,t)?(r.enumerable?(a(e,F)&&e[F][t]&&(e[F][t]=!1),r=j(r,{enumerable:w(0,!1)})):(a(e,F)||P(e,F,w(1,{})),e[F][t]=!0),N(e,t,r)):P(e,t,r)},X=function(e,t){v(e);for(var r,n=m(t=y(t)),i=0,a=n.length;a>i;)J(e,r=n[i++],t[r]);return e},G=function(e,t){return void 0===t?j(e):X(j(e),t)},Z=function(e){var t=I.call(this,e=g(e,!0));return t||!a(this,e)||!a(D,e)||a(this,F)&&this[F][e]?t:!0},H=function(e,t){var r=S(e=y(e),t=g(t,!0));return!r||!a(D,t)||a(e,F)&&e[F][t]||(r.enumerable=!0),r},K=function(e){for(var t,r=M(y(e)),n=[],i=0;r.length>i;)a(D,t=r[i++])||t==F||t==l||n.push(t);return n},Q=function(e){for(var t,r=M(y(e)),n=[],i=0;r.length>i;)a(D,t=r[i++])&&n.push(D[t]);return n},V=function(e){if(void 0!==e&&!W(e)){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);return t=n[1],"function"==typeof t&&(r=t),!r&&_(t)||(t=function(e,t){return r&&(t=r.call(this,e,t)),W(t)?void 0:t}),n[1]=t,O.apply(R,n)}},$=c(function(){var e=A();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))});L||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");return q(p(arguments.length>0?arguments[0]:void 0))},u(A[E],"toString",function(){return this._k}),C.f=H,x.f=J,e("./_object-gopn").f=k.f=K,e("./_object-pie").f=Z,e("./_object-gops").f=Q,o&&!e("./_library")&&u(U,"propertyIsEnumerable",Z,!0)),s(s.G+s.W+s.F*!L,{Symbol:A});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;){var re=ee[te++],ne=i.Symbol,ie=b(re);re in ne||P(ne,re,{value:L?ie:q(ie)})}Y&&Y[E]&&Y[E].findChild||(T=!0),s(s.S+s.F*!L,"Symbol",{"for":function(e){return a(B,e+="")?B[e]:B[e]=A(e)},keyFor:function(e){if(W(e))return d(B,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){T=!0},useSimple:function(){T=!1}}),s(s.S+s.F*!L,"Object",{create:G,defineProperty:J,defineProperties:X,getOwnPropertyDescriptor:H,getOwnPropertyNames:K,getOwnPropertySymbols:Q}),R&&s(s.S+s.F*(!L||$),"JSON",{stringify:V}),A[E][z]||e("./_hide")(A[E],z,A[E].valueOf),h(A,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},{"./_an-object":70,"./_core":74,"./_descriptors":77,"./_enum-keys":80,"./_export":81,"./_fails":82,"./_global":84,"./_has":85,"./_hide":86,"./_is-array":92,"./_keyof":100,"./_library":101,"./_meta":102,"./_object-create":105,"./_object-dp":106,"./_object-gopd":108,"./_object-gopn":110,"./_object-gopn-ext":109,"./_object-gops":111,"./_object-pie":115,"./_property-desc":117,"./_redefine":119,"./_set-to-string-tag":122,"./_shared":124,"./_to-iobject":130,"./_to-primitive":133,"./_uid":134,"./_wks":135}],149:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),i=e("./_hide"),a=e("./_iterators"),o=e("./_wks")("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;5>u;u++){var l=s[u],c=n[l],f=c&&c.prototype;f&&!f[o]&&i(f,o,l),a[l]=a.Array}},{"./_global":84,"./_hide":86,"./_iterators":99,"./_wks":135,"./es6.array.iterator":138}],150:[function(e,t,r){(function(t){"use strict";function n(){try{var e=new Uint8Array(1);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e){return this instanceof a?(a.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?o(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):u(this,e)):arguments.length>1?new a(e,arguments[1]):new a(e)}function o(e,t){if(e=d(e,0>t?0:0|m(t)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;t>r;r++)e[r]=0;return e}function s(e,t,r){"string"==typeof r&&""!==r||(r="utf8");var n=0|v(t,r);return e=d(e,n),e.write(t,r),e}function u(e,t){if(a.isBuffer(t))return l(e,t);if(K(t))return c(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return f(e,t);if(t instanceof ArrayBuffer)return h(e,t)}return t.length?p(e,t):b(e,t)}function l(e,t){var r=0|m(t.length);return e=d(e,r),t.copy(e,0,0,r),e}function c(e,t){var r=0|m(t.length);e=d(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function f(e,t){var r=0|m(t.length);e=d(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function h(e,t){return t.byteLength,a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=a.prototype):e=f(e,new Uint8Array(t)),e}function p(e,t){var r=0|m(t.length);e=d(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function b(e,t){var r,n=0;"Buffer"===t.type&&K(t.data)&&(r=t.data,n=0|m(r.length)),e=d(e,n);for(var i=0;n>i;i+=1)e[i]=255&r[i];return e}function d(e,t){a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=a.prototype):e.length=t;var r=0!==t&&t<=a.poolSize>>>1;return r&&(e.parent=Q),e}function m(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function _(e,t){if(!(this instanceof _))return new _(e,t);var r=new a(e,t);return delete r.parent,r}function v(e,t){"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,r){var n=!1;if(t=0|t,r=void 0===r||r===1/0?this.length:0|r,e||(e="utf8"),0>t&&(t=0),r>this.length&&(r=this.length),t>=r)return"";for(;;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return A(this,t,r);case"binary":return R(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=t.length;if(a%2!==0)throw new Error("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;n>o;o++){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[r+o]=s}return o}function w(e,t,r,n){return G(q(t,e.length-r),e,r,n)}function j(e,t,r,n){return G(W(t),e,r,n)}function k(e,t,r,n){return j(e,t,r,n)}function C(e,t,r,n){return G(X(t),e,r,n)}function x(e,t,r,n){return G(J(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?Z.fromByteArray(e):Z.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;r>i;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(r>=i+s){var u,l,c,f;switch(s){case 1:128>a&&(o=a);break;case 2:u=e[i+1],128===(192&u)&&(f=(31&a)<<6|63&u,f>127&&(o=f));break;case 3:u=e[i+1],l=e[i+2],128===(192&u)&&128===(192&l)&&(f=(15&a)<<12|(63&u)<<6|63&l,f>2047&&(55296>f||f>57343)&&(o=f));break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(f=(15&a)<<18|(63&u)<<12|(63&l)<<6|63&c,f>65535&&1114112>f&&(o=f))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return M(n)}function M(e){var t=e.length;if(V>=t)return String.fromCharCode.apply(String,e);for(var r="",n=0;t>n;)r+=String.fromCharCode.apply(String,e.slice(n,n+=V));return r}function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(e[i]);return n}function O(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var i="",a=t;r>a;a++)i+=N(e[a]);return i}function T(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function E(e,t,r){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,i,o){if(!a.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||o>t)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range")}function z(e,t,r,n){0>t&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);a>i;i++)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function I(e,t,r,n){0>t&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);a>i;i++)e[r+i]=t>>>8*(n?i:3-i)&255}function B(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function D(e,t,r,n,i){return i||B(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),H.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,i){return i||B(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),H.write(e,t,r,n,52,8),r+8}function L(e){if(e=Y(e).replace($,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function Y(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function N(e){return 16>e?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var r,n=e.length,i=null,a=[],o=0;n>o;o++){if(r=e.charCodeAt(o),r>55295&&57344>r){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(56320>r){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,128>r){if((t-=1)<0)break;a.push(r)}else if(2048>r){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(65536>r){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function W(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}function J(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);o++)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function X(e){return Z.toByteArray(L(e))}function G(e,t,r,n){for(var i=0;n>i&&!(i+r>=t.length||i>=e.length);i++)t[i+r]=e[i];return i}var Z=e("base64-js"),H=e("ieee754"),K=e("isarray");r.Buffer=a,r.SlowBuffer=_,r.INSPECT_MAX_BYTES=50,a.poolSize=8192;var Q={};a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),a._augment=function(e){return e.__proto__=a.prototype,e},a.TYPED_ARRAY_SUPPORT?(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})):(a.prototype.length=void 0,a.prototype.parent=void 0),a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);o>i;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return n>r?-1:r>n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!K(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new a(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;r++)t+=e[r].length;var n=new a(t),i=0;for(r=0;r<e.length;r++){var o=e[r];o.copy(n,i),i+=o.length}return n},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):y.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return a.compare(this,e)},a.prototype.indexOf=function(e,t){function r(e,t,r){for(var n=-1,i=0;r+i<e.length;i++)if(e[r+i]===t[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===t.length)return r+n}else n=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(a.isBuffer(e))return r(this,e,t);if("number"==typeof e)return a.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):r(this,[e],t);throw new TypeError("val must be string, number or Buffer")},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var i=n;n=t,t=0|r,r=i}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(0>r||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return j(this,e,t,r);case"binary":return k(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var V=4096;a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),e>t&&(t=e);var n;if(a.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=a.prototype;else{var i=t-e;n=new a(i,void 0);for(var o=0;i>o;o++)n[o]=this[o+e]}return n.length&&(n.parent=this.parent||this),n},a.prototype.readUIntLE=function(e,t,r){e=0|e,t=0|t,r||E(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},a.prototype.readUIntBE=function(e,t,r){e=0|e,t=0|t,r||E(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return t||E(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||E(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||E(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e=0|e,t=0|t,r||E(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e=0|e,t=0|t,r||E(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||E(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){t||E(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||E(e,4,this.length),H.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||E(e,4,this.length),H.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||E(e,8,this.length),H.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||E(e,8,this.length),H.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||F(this,e,t,r,Math.pow(2,8*r),0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||F(this,e,t,r,Math.pow(2,8*r),0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t=0|t,r||F(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=0|t,r||F(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=0|t,r||F(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=0|t,r||F(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=0|t,r||F(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=0|t,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var a=0,o=1,s=0>e?1:0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=(e/o>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=0|t,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0>e?1:0;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=(e/o>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t=0|t,r||F(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t=0|t,r||F(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t=0|t,r||F(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t=0|t,r||F(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t=0|t,r||F(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&r>n&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&t>r&&n>t)for(i=o-1;i>=0;i--)e[i+t]=this[i+r];else if(1e3>o||!a.TYPED_ARRAY_SUPPORT)for(i=0;o>i;i++)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},a.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),t>r)throw new RangeError("end < start");if(r!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof e)for(n=t;r>n;n++)this[n]=e;else{var i=q(e.toString()),a=i.length;for(n=t;r>n;n++)this[n]=i[n%a]}return this}};var $=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":151,ieee754:152,isarray:153}],151:[function(e,t,r){"use strict";function n(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;r>t;++t)u[t]=e[t],l[e.charCodeAt(t)]=t;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63}function i(e){var t,r,n,i,a,o,s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===e[s-2]?2:"="===e[s-1]?1:0,o=new c(3*s/4-a),n=a>0?s-4:s;var u=0;for(t=0,r=0;n>t;t+=4,r+=3)i=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],o[u++]=i>>16&255,o[u++]=i>>8&255,o[u++]=255&i;return 2===a?(i=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,o[u++]=255&i):1===a&&(i=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,o[u++]=i>>8&255,o[u++]=255&i),o}function a(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function o(e,t,r){for(var n,i=[],o=t;r>o;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(n));return i.join("")}function s(e){for(var t,r=e.length,n=r%3,i="",a=[],s=16383,l=0,c=r-n;c>l;l+=s)a.push(o(e,l,l+s>c?c:l+s));return 1===n?(t=e[r-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),a.push(i),a.join("")}r.toByteArray=i,r.fromByteArray=s;var u=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array;n()},{}],152:[function(e,t,r){r.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,f=r?i-1:0,h=r?-1:1,p=e[t+f];for(f+=h,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+f],f+=h,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:(p?-1:1)*(1/0);o+=Math.pow(2,n),a-=l}return(p?-1:1)*o*Math.pow(2,a-n)},r.write=function(e,t,r,n,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,b=n?1:-1,d=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+f>=1?h/u:h*Math.pow(2,1-f),t*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&s,p+=b,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[r+p]=255&o,p+=b,o/=256,l-=8);e[r+p-b]|=128*d}},{}],153:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],154:[function(e,t,r){"use strict";!function(e,t){function r(e){return e.forEach||(e.forEach=function(e){var t,r=this.length;for(t=0;r>t;t++)e(this[t],t,r)}),e}var n,i,a=Float32Array,o=Math.sqrt,s=function(e){return Math.pow(e,2)};e.isComplexArray=n=function(e){return e!==t&&e.hasOwnProperty!==t&&e.hasOwnProperty("real")&&e.hasOwnProperty("imag")},e.ComplexArray=i=function(e,t){n(e)?(this.ArrayType=e.ArrayType,this.real=new this.ArrayType(e.real),this.imag=new this.ArrayType(e.imag)):(this.ArrayType=t||a,this.real=new this.ArrayType(e),this.imag=new this.ArrayType(this.real.length)),this.length=this.real.length},i.prototype.toString=function(){var e=[];return this.forEach(function(t,r){e.push("("+t.real.toFixed(2)+","+t.imag.toFixed(2)+")")}),"["+e.join(",")+"]"},i.prototype.map=function(e){var t,r=this.length,n={};for(t=0;r>t;t++)n.real=this.real[t],n.imag=this.imag[t],e(n,t,r),this.real[t]=n.real,this.imag[t]=n.imag;return this},i.prototype.forEach=function(e){var t,r=this.length,n={};for(t=0;r>t;t++)n.real=this.real[t],n.imag=this.imag[t],e(n,t,r)},i.prototype.conjugate=function(){return new i(this).map(function(e){e.imag*=-1})},i.prototype.magnitude=function(){var e=new this.ArrayType(this.length);return this.forEach(function(t,r){e[r]=o(s(t.real)+s(t.imag))}),r(e)}}("undefined"==typeof r&&(this.complex_array={})||r)},{}],155:[function(e,t,r){"use strict";!function(e,t){function r(e){return t.isComplexArray(e)&&e||new l(e)}function n(e,t){var r=e.length;return r&r-1?i(e,t):a(e,t)}function i(e,t){var r,i,a,o,s,f,d,m,_,v,y,g,w,j,k=e.length;if(1===k)return e;for(a=new l(k,e.ArrayType),m=u(k),_=k/m,v=1/h(m),y=new l(_,e.ArrayType),i=0;m>i;i++){for(r=0;_>r;r++)y.real[r]=e.real[r*m+i],y.imag[r]=e.imag[r*m+i];for(_>1&&(y=n(y,t)),f=p(2*c*i/k),d=(t?-1:1)*b(2*c*i/k),o=1,s=0,r=0;k>r;r++)w=y.real[r%_],j=y.imag[r%_],a.real[r]+=o*w-s*j,a.imag[r]+=o*j+s*w,g=o*f-s*d,s=o*d+s*f,o=g}for(r=0;k>r;r++)e.real[r]=v*a.real[r],e.imag[r]=v*a.imag[r];return e}function a(e,t){var r,n,i,a,o,u,l,h,d,m,_,v,y,g,w,j,k,C=e.length;for(i=s(e),a=i.real,o=i.imag,k=1;C>k;){for(h=p(c/k),d=(t?-1:1)*b(c/k),r=0;C/(2*k)>r;r++)for(u=1,l=0,n=0;k>n;n++)_=2*r*k+n,v=_+k,y=a[_],g=o[_],w=u*a[v]-l*o[v],j=l*a[v]+u*o[v],a[_]=f*(y+w),o[_]=f*(g+j),a[v]=f*(y-w),o[v]=f*(g-j),m=u*h-l*d,l=u*d+l*h,u=m;k<<=1}return i}function o(e,t){for(var r=0;t>1;)r<<=1,r+=1&e,e>>=1,t>>=1;return r}function s(e){var t,r,n=e.length,i={};for(r=0;n>r;r++){var a=o(r,n);i.hasOwnProperty(r)||i.hasOwnProperty(a)||(t=e.real[a],e.real[a]=e.real[r],e.real[r]=t,t=e.imag[a],
e.imag[a]=e.imag[r],e.imag[r]=t,i[r]=i[a]=!0)}return e}function u(e){for(var t=3,r=h(e);r>=t;){if(e%t===0)return t;t+=2}return e}var l=t.ComplexArray,c=Math.PI,f=Math.SQRT1_2,h=Math.sqrt,p=Math.cos,b=Math.sin;l.prototype.FFT=function(){return n(this,!1)},e.FFT=function(e){return r(e).FFT()},l.prototype.InvFFT=function(){return n(this,!0)},e.InvFFT=function(e){return r(e).InvFFT()},l.prototype.frequencyMap=function(e){return this.FFT().map(e).InvFFT()},e.frequencyMap=function(e,t){return r(e).frequencyMap(t)}}("undefined"==typeof r&&(this.fft={})||r,"undefined"==typeof e&&this.complex_array||e("./complex_array"))},{"./complex_array":154}],156:[function(e,t,r){function n(e,t,r){var n;return n=t?new a(e,t):new a(e)}var i=function(){return this}(),a=i.WebSocket||i.MozWebSocket;t.exports=a?n:null,a&&(n.prototype=a.prototype)},{}]},{},[3])(3)});